-- Copyright (C) 1982  by Xerox Corporation. All rights reserved. -- RefTab.Mesa - definitions for REF table abstraction-- last change: Bill Paxton - 8-Feb-82 10:06:02-- last change: SXS    - 7-Jun-82 11:22:14RefTab: DEFINITIONS = BEGIN  Ref: TYPE = LONG POINTER TO RefTabRep;  RefTabRep: TYPE;  Key: TYPE = LONG POINTER;  Val: TYPE = LONG POINTER;  Create: PROC [mod: CARDINAL ¬ 17, zone: UNCOUNTED ZONE ¬ NIL] RETURNS [Ref];    -- creates new table with suggested hash size    -- if zone is NIL, will do allocates from system zone  GetSize: PROC [x: Ref] RETURNS [CARDINAL];    -- returns number of key-value pairs in table  Fetch: PROC [x: Ref, key: Key] RETURNS [found: BOOLEAN, val: Val];    -- looks up key in table, returns associated value (if any)    -- if found is TRUE, val is value associated with given key    -- if found is FALSE, val is NIL  Store: PROC [x: Ref, key: Key, val: Val] RETURNS [BOOLEAN];    -- stores new key-value pair, overwriting previous value for given key    -- returns TRUE if new value, FALSE if previous value overwritten  Insert: PROC [x: Ref, key: Key, val: Val] RETURNS [BOOLEAN];    -- inserts new key-value pair, except if previous value for given key    -- returns TRUE if inserted, FALSE if previous value for key  Delete: PROC [x: Ref, key: Key] RETURNS [BOOLEAN];    -- deletes key-value pair associated with given key    -- returns TRUE if deletion actually occurred, FALSE if no such key  Pairs: PROC [x: Ref, action: EachPairAction] RETURNS [BOOLEAN];    -- enumerates pairs currently in symbol table in unspecified order    -- pairs inserted/deleted during enumeration may or may not be seen    -- applies action to each pair until action returns TRUE or no more pairs    -- returns TRUE if some action returns TRUE  EachPairAction: TYPE = PROC [key: Key, val: Val] RETURNS [quit: BOOLEAN];  END.