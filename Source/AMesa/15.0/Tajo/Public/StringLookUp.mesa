-- File: StringLookUp.mesa - last edit: -- 22-May-81 18:17:30 Mark-- Copyright (C) Xerox Corporation 1982. All rights reserved.StringLookUp: DEFINITIONS =  BEGIN  -- TYPEs --  GeneratorProcType: TYPE = PROCEDURE [buffer: LONG STRING];  Table: TYPE = ARRAY OF LONG STRING;  TableDesc: TYPE = LONG DESCRIPTOR FOR Table;  -- Constants --  -- Special values of index  ambiguous: CARDINAL = emptyKey - 1;  emptyKey: CARDINAL = noMatch - 1;  noMatch: CARDINAL = LAST[CARDINAL];  -- PROCEDUREs --  -- NIL and "" are considered equivalent  InTable: PROCEDURE [    key: LONG STRING, table: TableDesc, caseFold: BOOLEAN ¬ TRUE,    noAbbreviation: BOOLEAN ¬ FALSE] RETURNS [index: CARDINAL];  UsingGenerator: PROCEDURE [    key: LONG STRING, generator: GeneratorProcType, caseFold: BOOLEAN ¬ TRUE,    noAbbreviation: BOOLEAN ¬ FALSE, bufferBytes: CARDINAL ¬ 500]    RETURNS [index: CARDINAL];  UsingGeneratorWithBuffer: PROCEDURE [    key: LONG STRING, generator: GeneratorProcType, caseFold: BOOLEAN ¬ TRUE,    noAbbreviation: BOOLEAN ¬ FALSE, buffer: LONG STRING]    RETURNS [index: CARDINAL];  -- Input restrictions: buffer # NIL  -- key[0..matchLength) = entry[0..matchLength)  Initial: PROCEDURE [key, entry: LONG STRING, caseFold: BOOLEAN ¬ TRUE]    RETURNS [matchLength: CARDINAL];  InitialInternal: PUBLIC PROCEDURE [    key, entry: LONG STRING, maxLength: CARDINAL, caseFold: BOOLEAN ¬ TRUE]    RETURNS [matchLength: CARDINAL];  -- Input restrictions: key # NIL AND entry # NIL AND maxLength > 0  --   AND key.length >= maxLength AND entry.length >= maxLength  IsPrefix: PUBLIC PROCEDURE [    maybePrefix, string: LONG STRING, caseFold: BOOLEAN ¬ TRUE]    RETURNS [yes: BOOLEAN];  -- SIGNALs --  END.