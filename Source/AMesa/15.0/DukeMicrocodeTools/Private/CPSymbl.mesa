-- Copyright (C) 1983, 1985  by Xerox Corporation. All rights reserved. -- Last edit by JAC    30-May-85 17:23:22-- CPSymbols.mesa, HGM, 13-Nov-83  0:50:37DIRECTORY  CPDefs USING [    Cycle, IOReg, Link, Map, OtherReg, RealCS, RealMemory, RReg,    sizeOfCS, Task, UReg, VirturalMemory],  CPMIFormat USING [MI];CPSymbl: DEFINITIONS =  BEGIN    Error: ERROR [reason: LONG STRING];    VirturalCS: TYPE = [0..CPDefs.sizeOfCS);  Type: TYPE = {    mi, number, tpc, link, realCS, virtCS, rReg,    rH, uReg, rAndRh, ioIn, ioOut, map, real, virt, other, pc};  Symbol: TYPE = RECORD [    SELECT type: Type FROM      number => [n: LONG CARDINAL],      tpc => [task: CPDefs.Task],      link => [link: CPDefs.Link],      mi => [mi: CPMIFormat.MI],      realCS => [real: CPDefs.RealCS],      virtCS => [virt: VirturalCS],      rReg, rH, rAndRh => [r: CPDefs.RReg],      uReg => [u: CPDefs.UReg],      ioIn, ioOut => [io: CPDefs.IOReg],      map => [map: CPDefs.Map],      real => [real: CPDefs.RealMemory],      virt => [virt: CPDefs.VirturalMemory],      other => [other: CPDefs.OtherReg],      pc => NULL,  -- Pseudo Register      ENDCASE];  ClearSymbolTable: PROCEDURE;  AddToMap: PROCEDURE [CPDefs.RealCS, VirturalCS, CPDefs.Cycle, CPDefs.Task];  AddCSSymbol: PROCEDURE [LONG STRING, VirturalCS];  AddRRegSymbol: PROCEDURE [LONG STRING, CPDefs.RReg];  AddRHSymbol: PROCEDURE [LONG STRING, CPDefs.RReg];  AddURegSymbol: PROCEDURE [LONG STRING, CPDefs.UReg];      Eval: PROCEDURE [LONG STRING] RETURNS [Symbol];  GetPcCycleAndTask: PROCEDURE [s: LONG STRING] RETURNS [CPDefs.RealCS, CPDefs.Cycle, CPDefs.Task];  GetPc: PROCEDURE [s: LONG STRING] RETURNS [CPDefs.RealCS];  LookupInCSTable: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, virt: VirturalCS];  LookupInRRegTable: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, r: CPDefs.RReg];  LookupInRHTable: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, r: CPDefs.RReg];  LookupInURegTable: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, u: CPDefs.UReg];  StringToOther: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, s: Symbol];    VirturalToRealCS: PROCEDURE [VirturalCS] RETURNS [CPDefs.RealCS, CPDefs.Cycle, CPDefs.Task];    nullVirturalCS: VirturalCS = LAST[VirturalCS];  RealToVirturalCS: PROCEDURE [CPDefs.RealCS] RETURNS [VirturalCS, CPDefs.Cycle, CPDefs.Task];    nullRealCS: CPDefs.RealCS = LAST[CPDefs.RealCS];      AppendSymbol: PROCEDURE [LONG STRING, Symbol];  AppendNumber: PROCEDURE [LONG STRING, UNSPECIFIED];  AppendLongNumber: PROCEDURE [LONG STRING, LONG UNSPECIFIED];  AppendTpc: PROCEDURE [LONG STRING, CPDefs.Task];  AppendTc: PROCEDURE [LONG STRING, CPDefs.Task];  AppendLink: PROCEDURE [LONG STRING, CPDefs.Link];  AppendRealCS: PROCEDURE [LONG STRING, CPDefs.RealCS];  AppendVirturalCS: PROCEDURE [LONG STRING, VirturalCS];  AppendRReg: PROCEDURE [LONG STRING, CPDefs.RReg];  AppendRH: PROCEDURE [LONG STRING, CPDefs.RReg];  AppendRAndRh: PROCEDURE [LONG STRING, CPDefs.RReg];  AppendUReg: PROCEDURE [LONG STRING, CPDefs.UReg];  AppendIOIn: PROCEDURE [LONG STRING, CPDefs.IOReg];  AppendIOOut: PROCEDURE [LONG STRING, CPDefs.IOReg];  AppendMap: PROCEDURE [LONG STRING, CPDefs.Map];  AppendReal: PROCEDURE [LONG STRING, CPDefs.RealMemory];  AppendVirtural: PROCEDURE [LONG STRING, CPDefs.VirturalMemory];  AppendOther: PROCEDURE [LONG STRING, CPDefs.OtherReg];    AppendMI: PROCEDURE [LONG STRING, CPMIFormat.MI];    AppendAllVirturalCS: PROCEDURE [LONG STRING, VirturalCS];  AppendAllRReg: PROCEDURE [LONG STRING, CPDefs.RReg];  AppendAllRH: PROCEDURE [LONG STRING, CPDefs.RReg];  AppendAllUReg: PROCEDURE [LONG STRING, CPDefs.UReg];    EnumerateCSSymbols: PROCEDURE [PROCEDURE [LONG STRING, VirturalCS]];  EnumerateRRegSymbols: PROCEDURE [PROCEDURE [LONG STRING, CPDefs.RReg]];  EnumerateRHSymbols: PROCEDURE [PROCEDURE [LONG STRING, CPDefs.RReg]];  EnumerateURegSymbols: PROCEDURE [PROCEDURE [LONG STRING, CPDefs.UReg]];  EnumerateMap: PROCEDURE [PROCEDURE [CPDefs.RealCS, VirturalCS, CPDefs.Cycle, CPDefs.Task]];  END.-- Log of last edits-- JAC	30-May-85 16:42:36	CP renamed to CPDefs-- JAC	31-May-85  9:46:06	CPSymbols renamed to CPSymbl; CPMI renamed to CPMIFormat