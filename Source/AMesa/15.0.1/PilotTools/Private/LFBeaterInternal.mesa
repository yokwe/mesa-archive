-- Copyright (C) 1988  by Xerox Corporation. All rights reserved. -- LFBeaterInternal.mesa	CAJ	12-Jul-88 11:03:30DIRECTORY  PrincOps USING [FrameSizeIndex];LFBeaterInternal: DEFINITIONS =  BEGIN  -- General tool things:  RandomNumber: PROCEDURE [max: CARDINAL] RETURNS [CARDINAL];    -- Returns a random number in the range [0..max].  -- Beater procs related things:  ProcLFn: TYPE = PROCEDURE [pDepth: LONG POINTER TO CARDINAL];    -- This is a template for a procedure with fsi=n.  AtLeastThisManyLeftToAlloc: PROCEDURE [n: CARDINAL] RETURNS [BOOLEAN];    -- Determine whether there are still at least n pages that could be    -- allocated for a frame.  RegisterByFrameWeights: PUBLIC PROCEDURE [    array: LONG DESCRIPTOR FOR ARRAY PrincOps.FrameSizeIndex OF CARDINAL];    -- Register procs for each frame weight.  Parameter array specifies    -- the number of times to register the procedure for that frame size.  RegisterSmall: PROCEDURE;    -- Register procs with small fsi values.  RegisterMedium: PROCEDURE;    -- Register procs with medium fsi values.  RegisterLarge: PROCEDURE;    -- Register procs with large fsi values.  RegisterOther: PROCEDURE;  SignalDemon: PROCEDURE;    -- When this one gets called, it raises a signal which starts unwinding    -- the call stack.  Unwinder: SIGNAL;  -- Blocker related things:  BlockerChoice: TYPE = {    waitTimeout, waitNotify, notify, broadcast, forkAbort, forkDetach,    forkJoin, pause, yield};  distributionDefaults: ARRAY BlockerChoice OF CARDINAL =    [--waitTimeout:--10, --waitNotify:--15, --notify:--10, --broadcast:--5,     --forkAbort:--10, --forkDetach:--10, --forkJoin:--10, --pause:--10,     --yield:--20];  Block: PROCEDURE;    -- Suspend the caller's process somehow, then resume.  This is to force    -- good citizenship on essentially cpu bound processes and allow some    -- priority mixing.  ChangeBlockerDistribution: PROCEDURE [who: BlockerChoice, toWhat: CARDINAL];    -- Change the share of the distribution assigned to this blocker choice.  InitializeChoices: PROCEDURE [    a: LONG POINTER TO ARRAY BlockerChoice OF CARDINAL];    -- Set up the blocker distribution with the initial values.  END.LOG12-Jul-88 11:03:24	CAJ	Created file.