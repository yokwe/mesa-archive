TimeServiceController.doc, last edited on 20-Jun-86  9:46:23 by kamThe time service controller is a program that periodically resets and stops time servers. TimeServiceController runs in XDE, such as CoPilot, an integration machine or a Pup Server. It has no dependencies on the Pup protocol, since it deals only with XNS-based time servers.The program parses a list of commands in the file TimeServiceController.txt. There are three types of commands: comments, start commands and reset commands. The following is an example command list:============================================================================-- TimeServiceController.txt, last edited by:-- Keith, 27-Aug-85 11:47:16Reset 1234.25200041602. from 1234.25200002663. every hourReset 2441.25200021350. from 131.*. every 5 hoursStop 274.25200032757. every dayReset 274.47471. from 274.*. every 6 hours============================================================================Each command is one line, and is terminated by a carriage return. A command starts with an action (--, Reset or Stop).A Reset command has the form:	Reset who from who every periodwhere "who" is a network address and "period" is the period between resets. A Stop command has the form:	Stop who every periodwhere "who" and "period" are as in the Reset command.A period is an optional number followed by a time unit, e.g.,	hour	3 minutes	2 daysThe valid time units are any prefix of "days", "hours", "minutes" and "seconds".The network address can be in any form, and the second address in the reset command can be a broadcast address. If there is a valid user logged in when TimeServiceController reads the command file, the addresses can also be Clearinghouse names (surrounded by double quotes for names with blanks).TimeServiceController will reparse the commands whenever a new version of TimeServiceController.txt is found.TimeService controller produces a log in TimeServiceController.log. It looks like the following:============================================================================Time Service Controller started at 29-May-86 18:14:48 PDTThe log will be trimmed at 100 pages.The minimum pause is 300 seconds.New command file at 29-May-86 18:14:49 PDT:1234.25200041602. will be reset from 1234.25200002663. every hour2441.25200021350. will be reset from 131.*. every 5:00:00274.25200032757. will be stopped every day274.47471. will be reset from from 274.*. every 6:00:001234.25200041602.0 reset from 1234.25200002663.0 at 29-May-86 18:14:53 PDT2441.25200021350.0 reset from 131.*.0 at 29-May-86 18:15:08 PDT274.25200032757.0 stopped at 29-May-86 18:15:09 PDT274.47471.0 failed to reset from 274.*.0 at 29-May-86 18:15:45 PDT ¬¬¬¬¬¬¬¬1234.25200041602.0 reset from 1234.25200002663.0 at 29-May-86 19:16:23 PDT...============================================================================The log file will list any syntax errors found in the command list, and will contain the task list it will follow. It also records each command when executed. If the command failed, the record is flagged by arrows to the right of the record.There are two possible entries in the user.cm:	[TimeServiceController]	Pause: number	LogPages: number"Pause" indicates how often TimeServiceController will check its command list to see if it is time to issue a command, expressed in seconds. This defaults to 300 seconds (five minutes). "LogPages" specifies how long the log can grow, expressed in disk pages; after the log reaches this length, TimeServiceController will stop recording in the log. This value defults to 100 pages.