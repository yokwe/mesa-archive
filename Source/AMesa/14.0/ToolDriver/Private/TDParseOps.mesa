-- File: TDParseOps.mesa - last edit:-- Mark:        Nov 6, 1980 12:39 PM-- Mike:	15-Jan-82 10:38:18-- Rhonda:	 6-Jan-83 10:57:33-- Sweet:	 4-Oct-83 13:51:35-- Modified version of Compiler/XDebug's P1DIRECTORY  Format USING [StringProc],  ParseTable USING [    ActionEntry, HashIndex, NTState, ProductionInfo, ProdDataRef,    State, TableRef, TSymbol],  Stream USING [Handle];  TDParseOps: DEFINITIONS =  BEGIN    -- Parsing    lastntstate: ParseTable.State = LAST[ParseTable.NTState];    Token: TYPE = RECORD [    class: ParseTable.TSymbol,  -- the token class    value: LONG UNSPECIFIED,    index: CARDINAL];  -- source line index      InputLoc: PROCEDURE RETURNS [CARDINAL];  Parse: PROCEDURE [sourceStream: Stream.Handle, msg: Format.StringProc]    RETURNS [complete: BOOLEAN, nTokens, nErrors: CARDINAL];      ParseError: SIGNAL [errorLoc: CARDINAL];  SyntaxError: SIGNAL [errorLoc: CARDINAL];  ToolNotRegistered: SIGNAL [errorLoc: CARDINAL];    -- Scanning    hashval: ParseTable.HashIndex = LAST[ParseTable.HashIndex];    Atom: PROCEDURE RETURNS [symbol: Token];  ScanInit: PROCEDURE [sourceStream: Stream.Handle, msg: Format.StringProc,    table: ParseTable.TableRef];  ScanReset: PROCEDURE RETURNS [nTokens, nErrors: CARDINAL];    ResetScanIndex: PROCEDURE [CARDINAL];    -- Interpreting    QueueProcessor: TYPE = PROCEDURE [qI, top: CARDINAL];    AssignDescriptors: PROCEDURE [    lq: LONG DESCRIPTOR FOR ARRAY OF ParseTable.ActionEntry,    lv: LONG DESCRIPTOR FOR ARRAY OF LONG UNSPECIFIED,    ll: LONG DESCRIPTOR FOR ARRAY OF CARDINAL,    lproddata: ParseTable.ProdDataRef];  InterpreterInit: PROCEDURE;  ProcessQueue: QueueProcessor;      -- the global frames  Parser, Pass1T, Scanner: PROGRAM;  PrefillSymbols: PROCEDURE;    END.