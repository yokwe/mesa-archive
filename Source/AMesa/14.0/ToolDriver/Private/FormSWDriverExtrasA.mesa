-- Copyright (C) 1982  by Xerox Corporation. All rights reserved. -- file: FormSWDriverExtrasA.mesa - last edited by:-- Mark		Nov 7, 1980 8:14 PM -- Mike		 6-Jan-82 15:20:18-- RXJ     	11-Nov-82 14:05:59DIRECTORY  CmFile USING [Close, Error, Open, NextItem],  FormSWDriver USING [Error, RunFormSW],  FormSWDriverExtra USING [],  MFile USING [Error],  String USING [Empty],  Token USING [Handle],  Window USING [Handle];  FormSWDriverExtrasA: PROGRAM  IMPORTS CmFile, FormSWDriver, MFile, String  EXPORTS FormSWDriverExtra =  BEGIN    -- FormSW utilities  RunFormSWFromFile: PUBLIC PROCEDURE [    formSW: Window.Handle,    file, section: LONG STRING,     trapErrors: BOOLEAN] =    BEGIN    cmHandle: Token.Handle;    BEGIN --needed so exit clause knows about it--    IF String.Empty[section] THEN      cmHandle ¬ CmFile.Open[file !	CmFile.Error => IF trapErrors THEN GOTO noFile]    ELSE ERROR MFile.Error[file: NIL, code: illegalName];    FormSWDriver.RunFormSW[formSW, CmFile.NextItem, cmHandle !      FormSWDriver.Error => IF trapErrors THEN GOTO closeFile;      UNWIND => GOTO closeFile];    GOTO closeFile;    EXITS      closeFile => cmHandle ¬ CmFile.Close[cmHandle ! CmFile.Error => CONTINUE];      noFile => NULL;    END;    END;    -- Main Line codeEND. -- of FormSWDriverExtrasA.mesa