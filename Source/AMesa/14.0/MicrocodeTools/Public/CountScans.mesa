-- Copyright (C) [1985] by Xerox Corporation. All rights reserved.-- CountScans.mesa-- last edited by-- RDH      	 2-Oct-85 15:04:56	CreateDIRECTORY  Exec USING [AddCommand, CheckForAbort, ExecProc, OutputProc, PutChar],  Format USING [CR, LongDecimal, StringProc],  UserTerminal USING [WaitForScanLine];CountScans: PROGRAM  IMPORTS Exec, Format, UserTerminal =   BEGIN  --Types and constants    scansPerFeedbackChar: CARDINAL = 50;  feedbackChar: CHARACTER = '#;     CountEm: Exec.ExecProc = BEGIN        scanCounter: CARDINAL ¬ 0;    feedbackCounter: CARDINAL ¬ 0;    numberOfScans: LONG CARDINAL ¬ 0;    outProc: Format.StringProc ¬ Exec.OutputProc[h];        DO       --Count times mesa thinks screen is scanned.      UserTerminal.WaitForScanLine[0];	       scanCounter ¬ scanCounter + 1;      IF scanCounter >= scansPerFeedbackChar THEN BEGIN	scanCounter ¬ 0;	Exec.PutChar[h, feedbackChar];	feedbackCounter ¬ feedbackCounter + 1;	END;      IF Exec.CheckForAbort[h] THEN BEGIN	numberOfScans ¬ LONG[feedbackCounter]*scansPerFeedbackChar+scanCounter;	Format.CR[outProc];	Format.LongDecimal[outProc, numberOfScans];	Format.CR[outProc];	EXIT;	--Get out of loop.	END;      ENDLOOP;    END; --CountEm      	  Init: PROCEDURE =    BEGIN    Exec.AddCommand["CountScans.~"L, CountEm];    END; --Init  --MainLine Code:  Init[];	END.