-- Copyright (C) 1986  by Xerox Corporation. All rights reserved. -- Freeze.mesaDIRECTORYPrincOps,PSB;Freeze: DEFINITIONS = {  Initialize: PROCEDURE;    freezer: PRIVATE READONLY PrincOps.LocalFrameHandle;    qFreeze: PSB.FaultIndex = 3;  psbCount: CARDINAL = 120; -- may change with new bootfile  FreezableProcesses: TYPE = PSB.PsbIndex[PSB.StartPsb..PSB.StartPsb+psbCount);  Frozen: TYPE = ARRAY FreezableProcesses OF PrincOps.ShortControlLink;  freezeesTable: PRIVATE READONLY Frozen;    LocalLink: PROC[given: PrincOps.ShortControlLink, psbi: PSB.PsbIndex]    RETURNS[link: PrincOps.ShortControlLink] = INLINE {    IF (link ¬ given) = [frame[freezer]] AND freezer # NIL    THEN       IF (link ¬ freezeesTable[psbi]).frame = NIL         THEN link ¬ given}; -- then not really frozen!  PrepareToUnload: PROC[];  }..