-- Copyright (C) 1986  by Xerox Corporation. All rights reserved. -- WVMCacheRep.mesaDIRECTORY  BootFile,  Environment,  File,  Space,  TeledebugProtocol,  VMMapLog;WVMCacheRep: DEFINITIONS = {  -- cache of user memory pages    Cache: TYPE = LONG POINTER TO CacheObject;  CacheObject: TYPE = RECORD [    cacheAccess: CARDINAL ¬ 0,    cacheMisses: CARDINAL ¬ 0,    currentUseValue: CARDINAL ¬ 0,    scratch: LONG POINTER ¬ NIL,    segs: SEQUENCE max: CARDINAL OF SegmentObject];  Segment: TYPE = LONG POINTER TO SegmentObject;  SegmentObject: TYPE = RECORD [    session: LONG CARDINAL,    inuse: BOOLEAN,    dirty: BOOLEAN,    writeprotect: BOOLEAN,    bootfile: BOOLEAN,    flags: TeledebugProtocol.PageFlags,    address: LONG POINTER,    space: Space.Interval,    lastused: CARDINAL,    process: LONG CARDINAL,    mempage: Environment.PageNumber,    entry: VMMapLog.EntryHandle];      -- copy of user maplog      Maplog: TYPE = RECORD[    ignoreMaplog: BOOLEAN ¬ FALSE,    firstTime: BOOLEAN ¬ TRUE,    logDesc: VMMapLog.LogDesc ¬ [0,0,NIL],    space: Space.Interval ¬ Space.nullInterval,    lastEntry: VMMapLog.EntryHandle ¬ NIL];  MapEntryP: TYPE = LONG POINTER TO BootFile.MapEntry;  mfMapPages: CARDINAL = 30; -- Initially  MFEntrySize: CARDINAL = SIZE[VMMapLog.Entry];    -- outload file    BootArea: TYPE = RECORD[    bootSpace: Space.Interval ¬ Space.nullInterval,    bfmHead: BootFileHeaders ¬ NIL];  BootFileHeaders: TYPE = LONG POINTER TO BootFileHeadersObject;  BootFileHeadersObject: TYPE = RECORD [seq: SEQUENCE max: CARDINAL OF BootFileMapItem];   BootFileMapItem: TYPE = RECORD [    lastMemPage: Environment.PageNumber,    entries: LONG POINTER TO ARRAY [0..0) OF BootFile.MapEntry,    entryCount: BFMEntryIndex,    filePageOffset: File.PageNumber];  BFMEntryIndex: TYPE =     [0..MAX[BootFile.maxEntriesPerHeader, BootFile.maxEntriesPerTrailer]];              }..