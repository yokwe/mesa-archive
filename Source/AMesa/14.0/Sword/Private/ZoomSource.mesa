-- Copyright (C) 1985  by Xerox Corporation. All rights reserved. -- File: ZoomSource.mesa - last edited:-- Riggle 	10-Sep-85 18:21:02DIRECTORY  TextSource USING [Handle, Position],  Window USING [Handle];ZoomSource: DEFINITIONS =  BEGIN    -- one string for each line.   -- When a new line appears, an OpenProc is called.   -- When a  line disappears, a CloseProc is called.  -- Client may keep other data in a record with the LONG STRING.    Buffer: TYPE = LONG POINTER TO LONG STRING;  CloseProc: TYPE = PROC[Buffer];  OpenProc: TYPE = PROC[prev: Buffer, position: TextSource.Position]     RETURNS[next: Buffer];  Create: PROCEDURE [first, next: OpenProc, close, destroy: CloseProc,     zone: UNCOUNTED ZONE] RETURNS [source: TextSource.Handle];  -- creates an empty ZoomSource.  -- first is called when a line is zoomed.  -- next is called to get successive lines.   -- close is called when a line is shrunk.  -- destroy is called when a line will never be displayed again.    Destroy: PROCEDURE [source: TextSource.Handle];    IsIt: PROCEDURE [source: TextSource.Handle] RETURNS [BOOLEAN];    OpenAll: PROCEDURE [source: TextSource.Handle, sw: Window.Handle,     pos: TextSource.Position];    Open: PROCEDURE [source: TextSource.Handle, sw: Window.Handle,     pos: TextSource.Position];    Close: PROCEDURE [source: TextSource.Handle, sw: Window.Handle,     pos: TextSource.Position];      BufferForPosition: PROC[source: TextSource.Handle, pos: TextSource.Position]    RETURNS[Buffer];      EnumerateBuffers: PROC[source: TextSource.Handle, proc: EnumProc];    EnumProc: TYPE = PROC[buffer: Buffer, first, last: TextSource.Position]     RETURNS[stop: BOOLEAN];      END. 