{ ResetMapDLion.mc, HGM, 12-Oct-82 20:13:49  Description: Reset map overlay, Author: PXJ   , Created: April 3, 1980, Last Edited: PXJ   , April 6, 1980  4:41 PM}Reserve[0, Sub[KBufferExtenLoc, 1]];Reserve[Add[KBufferExtenEnd, 1], Sub[KBufferLoc, 1]];Reserve[Add[KBufferEnd, 1], 0FFF];{  ResetMap	}{Sets all locations in the map to vacant, 60'x.}KBuffer:	RHrK¬ 1,					c1, at[KBufferLoc];		rK¬ 40'x,					c2;		rK¬ rK LRot8,					c3;Zap0:		Refresh,					c1;Zap1:		Noop,						c2;ZapWord:	rK¬ rK-1, NibCarryBr,				c3; {inverted carry}		MAR¬ [RHrK, rK+0], ZeroBr, BRANCH[DoRefresh, $],	c1;		MDR¬ 60'x, BRANCH[ZapWord, $],			c2; {set w and d}		IOPOData¬ 0, GOTOABS[KWaitLoc],			c3;DoRefresh:	MDR¬ 60'x, CANCELBR[$, 1],			c2;		GOTO[Zap0],	c3;	{END [KStart];}