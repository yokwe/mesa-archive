-- Copyright (C) 1983  by Xerox Corporation. All rights reserved. -- CPSymbols.mesa, HGM, 13-Nov-83  0:50:37DIRECTORY  CP USING [    Cycle, IOReg, Link, Map, OtherReg, RealCS, RealMemory, RReg,    sizeOfCS, Task, UReg, VirturalMemory],  CPMI USING [MI];CPSymbols: DEFINITIONS =  BEGIN    Error: ERROR [reason: LONG STRING];    VirturalCS: TYPE = [0..CP.sizeOfCS);  Type: TYPE = {    number, tpc, tc, link, realCS, virtCS, rReg,    rH, uReg, rAndRh, ioIn, ioOut, map, real, virt, other, pc};  Symbol: TYPE = RECORD [    SELECT type: Type FROM      number => [n: LONG CARDINAL],      tpc, tc => [task: CP.Task],      link => [link: CP.Link],      realCS => [real: CP.RealCS],      virtCS => [virt: VirturalCS],      rReg, rH, rAndRh => [r: CP.RReg],      uReg => [u: CP.UReg],      ioIn, ioOut => [io: CP.IOReg],      map => [map: CP.Map],      real => [real: CP.RealMemory],      virt => [virt: CP.VirturalMemory],      other => [other: CP.OtherReg],      pc => NULL,  -- Pseudo Register      ENDCASE];  ClearSymbolTable: PROCEDURE;  AddToMap: PROCEDURE [CP.RealCS, VirturalCS, CP.Cycle, CP.Task];  AddCSSymbol: PROCEDURE [LONG STRING, VirturalCS];  AddRRegSymbol: PROCEDURE [LONG STRING, CP.RReg];  AddRHSymbol: PROCEDURE [LONG STRING, CP.RReg];  AddURegSymbol: PROCEDURE [LONG STRING, CP.UReg];      Eval: PROCEDURE [LONG STRING] RETURNS [Symbol];  GetPcCycleAndTask: PROCEDURE [s: LONG STRING] RETURNS [CP.RealCS, CP.Cycle, CP.Task];  GetPc: PROCEDURE [s: LONG STRING] RETURNS [CP.RealCS];  LookupInCSTable: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, virt: VirturalCS];  LookupInRRegTable: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, r: CP.RReg];  LookupInRHTable: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, r: CP.RReg];  LookupInURegTable: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, u: CP.UReg];  StringToOther: PROCEDURE [LONG STRING] RETURNS [ok: BOOLEAN, s: Symbol];    VirturalToRealCS: PROCEDURE [VirturalCS] RETURNS [CP.RealCS, CP.Cycle, CP.Task];    nullVirturalCS: VirturalCS = LAST[VirturalCS];  RealToVirturalCS: PROCEDURE [CP.RealCS] RETURNS [VirturalCS, CP.Cycle, CP.Task];    nullRealCS: CP.RealCS = LAST[CP.RealCS];      AppendSymbol: PROCEDURE [LONG STRING, Symbol];  AppendNumber: PROCEDURE [LONG STRING, UNSPECIFIED];  AppendLongNumber: PROCEDURE [LONG STRING, LONG UNSPECIFIED];  AppendTpc: PROCEDURE [LONG STRING, CP.Task];  AppendTc: PROCEDURE [LONG STRING, CP.Task];  AppendLink: PROCEDURE [LONG STRING, CP.Link];  AppendRealCS: PROCEDURE [LONG STRING, CP.RealCS];  AppendVirturalCS: PROCEDURE [LONG STRING, VirturalCS];  AppendRReg: PROCEDURE [LONG STRING, CP.RReg];  AppendRH: PROCEDURE [LONG STRING, CP.RReg];  AppendRAndRh: PROCEDURE [LONG STRING, CP.RReg];  AppendUReg: PROCEDURE [LONG STRING, CP.UReg];  AppendIOIn: PROCEDURE [LONG STRING, CP.IOReg];  AppendIOOut: PROCEDURE [LONG STRING, CP.IOReg];  AppendMap: PROCEDURE [LONG STRING, CP.Map];  AppendReal: PROCEDURE [LONG STRING, CP.RealMemory];  AppendVirtural: PROCEDURE [LONG STRING, CP.VirturalMemory];  AppendOther: PROCEDURE [LONG STRING, CP.OtherReg];    AppendMI: PROCEDURE [LONG STRING, CPMI.MI];    AppendAllVirturalCS: PROCEDURE [LONG STRING, VirturalCS];  AppendAllRReg: PROCEDURE [LONG STRING, CP.RReg];  AppendAllRH: PROCEDURE [LONG STRING, CP.RReg];  AppendAllUReg: PROCEDURE [LONG STRING, CP.UReg];    EnumerateCSSymbols: PROCEDURE [PROCEDURE [LONG STRING, VirturalCS]];  EnumerateRRegSymbols: PROCEDURE [PROCEDURE [LONG STRING, CP.RReg]];  EnumerateRHSymbols: PROCEDURE [PROCEDURE [LONG STRING, CP.RReg]];  EnumerateURegSymbols: PROCEDURE [PROCEDURE [LONG STRING, CP.UReg]];  EnumerateMap: PROCEDURE [PROCEDURE [CP.RealCS, VirturalCS, CP.Cycle, CP.Task]];  END.