-- File: MCHStringExtrasImpl.mesa - last edit:-- Sturtevant.PA       29-Jan-85  9:42:30-- Copyright (C) 1985 by Xerox Corporation. All rights reserved.DIRECTORY  Heap USING [systemZone],  MCHStringExtras USING [CallBack],  NSString USING [AppendToMesaString, String],  String USING [FreeString, MakeString];MCHStringExtrasImpl: PROGRAM  IMPORTS Heap, NSString, String EXPORTS MCHStringExtras =  BEGIN  MesaStringFromNSString: PUBLIC PROCEDURE [    s: NSString.String, z: UNCOUNTED ZONE] RETURNS [string: LONG STRING] =    BEGIN    string ¬ String.MakeString[z, s.length];    NSString.AppendToMesaString[string, s];    END;  -- NSStringToString  ScopedMesaStringFromNSString: PUBLIC PROCEDURE [    s: NSString.String,callBack: MCHStringExtras.CallBack,    clientData: LONG POINTER ¬ NIL] =    BEGIN    z: UNCOUNTED ZONE = Heap.systemZone;    string: LONG STRING ¬ String.MakeString[z, s.length];    NSString.AppendToMesaString[string, s];    callBack[clientData, string ! UNWIND => String.FreeString[z, string]; ];    String.FreeString[z, string];    END;  -- ScopedNSStringToString  END.LOG  14-Jan-85 14:10:57 - created - Sturtevant