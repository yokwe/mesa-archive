-- ICDefs.mesa - Last edited by --   BGY     	17-Aug-82 14:45:02--   BTL  	 5-May-83 11:37:10DIRECTORY  BcdDefs USING [VersionStamp],  Exec USING [Handle, Outcome],  FileTransfer USING [Connection],  Format USING [NumberFormat, StringProc],  ICLists USING [Name],  LongAlloc USING [Handle],  Time USING [Packed],  Window USING [Handle];ICDefs: DEFINITIONS =  BEGIN    Bug: ERROR [problem: LONG STRING];  -- internal error    exec: Exec.Handle;  ownTable: LongAlloc.Handle;  zone: UNCOUNTED ZONE;  conn: FileTransfer.Connection;  switches: PACKED ARRAY CHARACTER ['a..'z] OF BOOLEAN;  globalHost, globalDir: LONG STRING;  dfFile: LONG STRING;    doingDFFile: BOOLEAN;         -- TRUE if checking DF file  onlyLocalFiles: BOOLEAN;      -- TRUE if not DF file and only local files read  inExec: BOOLEAN;  		-- FALSE if running from tool  ttySW: Window.Handle;         -- if running from tool  buffer: LONG STRING;		-- Command buffer from ICTool  ptr: CARDINAL; 		-- ptr for parsing command buffer       rootName: LONG STRING;  listName: LONG STRING;        -- file information output file   commandName: LONG STRING;     -- rebuild command line output file  tableName: LONG STRING;       -- Table file     nFiles, nIncludes: CARDINAL;  nLocalBcds, nRemoteBcds, nLocalSources, nRemoteSources: CARDINAL;  badFiles: BOOLEAN;            -- files need to be rebuilt  circular: BOOLEAN;            -- a circular file dependency was found  olderIncludesFound: BOOLEAN;      -- Main procedures   InitFileReading, FinalizeFileReading: PROC;    NoteLocalSourceProcessed, NoteRemoteSourceProcessed: PROC;  NoteLocalBcdProcessed, NoteRemoteBcdProcessed: PROC;    ReadAllFiles: PROC;  ReadDFFile: PROC;  ReadRequestedFile: PROC [name: LONG STRING];  ReadClosureOfFiles: PROC;  -- read (directly or indirectly) included files      ProcessData: PROC;  PrintData: PROC;   -- Exec window output  Put: PROC [s: LONG STRING];  PutLine: PROC [s: LONG STRING];  PutChar: PROC [c: CHARACTER];  PutCR: PROC;  PutDecimal: PROC [n: INTEGER];   -- IncludeChecker log  Log: Format.StringProc;  LogCR: PROC;  LogLine: PROC [s: LONG STRING];  LogChar: PROC [c: CHARACTER];  LogSP: PROC;  LogBlanks: PROC [n: INTEGER];  LogDecimal: PROC [n: INTEGER];  LogNumber: PROC [n: UNSPECIFIED, f: Format.NumberFormat];  LogDate: PROC [t: Time.Packed];  LogVersion: PROC [v: BcdDefs.VersionStamp];  LogName: PROC [name: ICLists.Name];  LogPaddedName: PROC [name: ICLists.Name, width: CARDINAL];  -- Tool Interface  ToolInterface: PROC [      OutProc: Format.StringProc, buf: LONG STRING,      w, icTTYSW: Window.Handle]    RETURNS [outcome: Exec.Outcome];      KillToolWindow: PROC;      CheckAbort: AbortType;  AbortType: TYPE = PROC RETURNS [BOOLEAN];    Go: PROC RETURNS [BOOLEAN];  Done: PROC;    END.