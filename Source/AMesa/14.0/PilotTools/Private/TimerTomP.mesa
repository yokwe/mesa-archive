-- Copyright (C) 1983  by Xerox Corporation. All rights reserved. -- TimerTomP.mesa (last edited by Jon JXG     15-Mar-83  9:52:37)DIRECTORY  System USING [GetClockPulses, PulsesToMicroseconds],  TomP;    TimerTomP:   PROGRAM  IMPORTS  System, TomP =  BEGIN   time: LONG CARDINAL;    Update: TomP.UpdateVariablesProcType =    BEGIN    time ¬ System.PulsesToMicroseconds[System.GetClockPulses[]]/1000;    END;      GetVariable: TomP.GetVariableProcType =    BEGIN    SELECT index FROM      0 => RETURN [["milliseconds", @time]];      ENDCASE => RETURN [["invalid index", NIL]]    END;      [] ¬ TomP.Register[name:"Timer", nVariables:1,                      getVariableProc:GetVariable, updateVariablesProc:Update]  END.		        