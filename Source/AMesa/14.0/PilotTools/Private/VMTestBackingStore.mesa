-- Copyright (C) 1983  by Xerox Corporation. All rights reserved. -- VMTestBackingStore.mesa      1-Feb-83 15:35:01 by CAJ -- Virtual memory test program.-- VMTestBackingStore handles the test program's backing store and access to-- the contents of VM pages.DIRECTORY  BackingStore USING [Operation, Result, TransferProc],  Environment USING [PageNumber],  VM USING [BackingStoreRuns, Interval],  VMTestDatabase USING [ArrayDescriptor];VMTestBackingStore: DEFINITIONS =  BEGIN  ------------  -- PUBLIC TYPEs  BackingSource: TYPE = {copyIn, copyOut, map, unspecified};  ------------  -- PUBLIC procedures  -- BSTransfer is called by Pilot VM machinery for any transfer between  -- VMTest's virtual memory and its backing store.  Actually, however, there  -- is no backing storage for test VM.  The function of this procedure is to  -- fool Pilot into thinking that transfers occur and to model such transfers  -- on the test program database.  Page contents are generated from the page's  -- seed when appropriate.  BSTransfer: BackingStore.TransferProc;  -- Fill in the contents of the BackingStore.Run.data(s) for the given map unit.  InitializeBackingData: PROCEDURE [    backingData: VM.BackingStoreRuns, page: Environment.PageNumber,    source: BackingSource];  -- Construct the data structure used by (and known only to) the backing store  MakeBackingData: PROCEDURE [runSizes: VMTestDatabase.ArrayDescriptor]    RETURNS [backingData: VM.BackingStoreRuns];  -- Return the space used by the backing store's run data  ReturnBackingData: PROCEDURE [backingData: VM.BackingStoreRuns];  -- Touch simulates reading or writing on each page in interval.  -- Contents are not actually changed, so page will still verify.  Touch: PROCEDURE [    interval: VM.Interval, operation: BackingStore.Operation ¬ read];  -- Verify that the data contents of the given VM page match a page of data  -- generated by the page's random number seed.  --VerifyPageContents: PROCEDURE [interval: VM.Interval]  --  RETURNS [ok: BOOLEAN, pageInError: Environment.PageNumber];  ------------  -- PUBLIC SIGNALs and ERRORs: none  END.LOG23-Aug-82 15:43:22   CAJ    Created file.