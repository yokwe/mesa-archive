-- Copyright (C) 1981, 1982  by Xerox Corporation. All rights reserved. -- File: MenuOps.mesa  last modified by:-- PXK    	 5-Nov-82 13:16:56-- SXW   	 6-Jul-81 17:36:03-- SXS   	17-Mar-82 19:54:48DIRECTORY  Context USING [Type],  Menu USING [Handle],  Window USING [Handle, Place],  WindowFont USING [Handle];MenuOps: DEFINITIONS =  BEGIN  MenusB: PROGRAM;  -- Global Variables and Constants    lock: MONITORLOCK;  cv: CONDITION;  pm: PostedMenu;    mFont: WindowFont.Handle;  fontHeight: INTEGER;  nameHeight: INTEGER;  menuContext: Context.Type;  windowManagerMenu: Menu.Handle;  nameFrameOffset: INTEGER = 5;  horMargin: INTEGER = 3;  verMargin: INTEGER = 1;  nilItemIndex: CARDINAL = LAST[CARDINAL];  maxMenus: CARDINAL = 127;  maxBitmapUnderPages: CARDINAL = 15;  -- types  InstanceObject: TYPE = RECORD [    link: Instance, menu: Menu.Handle, window: Window.Handle];  Instance: TYPE = LONG POINTER TO InstanceObject;  MenuStack: TYPE = LONG POINTER TO MenuStackObject;  MenuStackObject: TYPE = RECORD [    instances: SEQUENCE n: [0..maxMenus] OF Instance];  RingObject: TYPE = RECORD [first: Instance, lastIndex: CARDINAL];  Ring: TYPE = LONG POINTER TO RingObject;  PostedMenu: TYPE = LONG POINTER TO PostedMenuObject;  PostedMenuObject: TYPE = RECORD [    menuWindow: Window.Handle,    menu: Menu.Handle,    menuY, menuWidth, menuHeight: INTEGER,    cursorPos: Window.Place,    xdif, ydif: INTEGER,    ring: Ring,    menuStack: MenuStack,    restoreCursorPos: BOOLEAN,    curMenuIndex: [0..maxMenus],    curIndex: CARDINAL,    nItems: CARDINAL];  -- procedure  FindRing: PROCEDURE [Window.Handle] RETURNS [Ring];  END.