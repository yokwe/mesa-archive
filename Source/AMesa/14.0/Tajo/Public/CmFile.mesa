-- File: CmFile.mesa - last edit:-- JGS: 18-Aug-81  8:33:00-- Tom: Aug 29, 1979 10:38 AM-- Mark: 19-May-81 11:16:22-- SXW   : 10-Jul-81 17:25:14-- LXR    : 15-Oct-82 10:37:24-- Copyright (C) Xerox Corporation 1982. All rights reserved.DIRECTORY  StringLookUp USING [noMatch, TableDesc],  Token USING [Handle];CmFile: DEFINITIONS =  BEGIN  -- Routines to process any Cm file  noMatch: CARDINAL = StringLookUp.noMatch;  Handle: TYPE = Token.Handle;  Close: PROCEDURE [h: Handle] RETURNS [nil: Handle];  FindItem: PROCEDURE [h: Handle, title, name: LONG STRING] RETURNS [found: BOOLEAN];  FindSection: PROCEDURE [h: Handle, title: LONG STRING]    RETURNS [opened: BOOLEAN];  FreeString: PROCEDURE [LONG STRING] RETURNS [nil: LONG STRING];  Line: PROCEDURE [fileName, title, name: LONG STRING] RETURNS [LONG STRING];  NextItem: PROCEDURE [h: Handle] RETURNS [name, value: LONG STRING];  NextValue: PROCEDURE [h: Handle, table: StringLookUp.TableDesc]    RETURNS [index: CARDINAL];  -- index = noMatch is end-of-section indicator  Open: PROCEDURE [fileName: LONG STRING] RETURNS [h: Handle];  -- Use "User.cm" as fileName in above  UserDotCmLine: PROCEDURE [title, name: LONG STRING] RETURNS [s: LONG STRING];  UserDotCmOpen: PROCEDURE RETURNS [h: Handle];  -- Utilities  ReadLineOrToken: PROCEDURE [    h: Token.Handle, buffer: LONG STRING, terminator: CHARACTER];  TitleMatch: PROCEDURE [buffer, title: LONG STRING] RETURNS [matches: BOOLEAN];  -- SIGNALs (and their codes) that can be raised  ErrorCode: TYPE = {fileNotFound, invalidHandle, other};  Error: SIGNAL [code: ErrorCode];  TableError: SIGNAL [h: Handle, name: LONG STRING];  END. -- of CmFile