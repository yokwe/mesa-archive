BandBLTTestTool.docChuck Fay, 22-Aug-86 10:16:09This memo has two sections.  The first describes the steps required to install and run the new BandBLT microcode with trapezoid support.  The second describes how to install and use the BandBLTTestTool to test the trapezoid support in the microcode.BandBLT trapezoids are currently only implemented on Daybreaks, so this memo applies only to Daybreaks (not DLions).I. To install and run the new BandBLT microcode with trapezoids:A. Add the second bank of control store to the MPB board.  There are twelve empty sockets for the control store.  This extra control is required in order to get BandBLT trapezoid support.  If the EEPROM says there is only one bank of control store on the Daybreak when the microcode is loaded, a version of BandBLT is loaded which skips over any trapezoid band list entries.  Thus they are treated as NOPs in that case.  See step D below for setting the EEPROM correctly.B. Install a new DiskInitialDove.db on the rigid disk from:	[Cardinal:El Segundo:Xerox]<ImageProcessing>Microcode>Initial>	  DiskInitialDove.dbC. Install a new MesaDove.db on the rigid disk from:	[Cardinal:El Segundo:Xerox]<ImageProcessing>Microcode>	  MesaDove.dbD. Run the configuration utility and set control store size to 8K from 4K.E. Boot the Daybreak using the boot button to load the new microcode.F. Go for it!II. To install and run the BandBLTTestTool:A. Install BandBLTTestTool on a Tajo or CoPilot volume from:	[Cardinal:El Segundo:Xerox]<ImageProcessing>Tools>	  BandBLTTestTool.bcdB. Run BandBLTTestTool.  A tool window will appear with a message subwindow at the top, a form subwindow below it, and a bitmap subwindow at the bottom (where part of the band buffer can be displayed after each band list has been completed).C. In the form subwindow, the following commands and fields appear:   BandBLT!		Calls the microcode implementation of BandBLT to execute			the selected BandList   MesaBandBLT!		Calls the Mesa implementation of BandBLT to execute			the selected BandList    ClearDisplay!	Clears the bitmap subwindow   SetDefaults!		Sets the following defaults in the form subwindow:			x: 0	xLength: 300	y: 0	yLength: 500			BandList: {A}   CheckTrapezoids!	Calls BandBLTVersion.Check to determine which version of   			microcode has been loaded:			1. 1 Bank new microcode:  trapezoids skipped,			2. 2 Bank new microcode:  trapezoids implemented,			3. old microcode: pre-trapezoid microcode.			If CheckTrapezoids finds that the old microcode is loaded,			the BandBLT! and StartAuto! commands are disabled, since			they would otherwise crash on the trapezoid band list			entries.  CheckTrapezoids is automatically called every			time the tool is activated, including when it is first			started.   StartAuto!		Starts automatic test mode:  indefinitely cycles through   			all the canned band lists, A through H, calling the			microcode for each one.  This command goes away and is			replaced by StopAuto! once it starts running.  To stop			the automatic test mode, select StopAuto!   StopAuto!		Stops automatic test mode.   x:			Number of the first scan line of the page to be displayed   			in the bitmap subwindow.  Defaults to 0, max of 4095.   xlength:		Number of scan lines to be displayed.  Defaults to 300,   			max of 4096.   y:			Number of the first bit along the scan line to be   			displayed in the bitmap subwindow.  Defaults to 0, max			of 4095.   ylength:		Number of bits along the scan line to be displayed.   			Defaults to 500, max of display width (1152 on a 19"			display, 832 on a 15" display).   BandList		Enumerated item used to select the canned band list to			be executed.  Currently allows a choice of 8 band lists,			A through H, which contain mostly trapezoids, with a few			rectangles and rulettes for regression testing.