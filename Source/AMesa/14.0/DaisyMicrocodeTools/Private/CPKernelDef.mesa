-- Copyright (C) 1983, 1984  by Xerox Corporation. All rights reserved. -- Last edit by JAC   		12-Jun-86 11:07:36		-- CPKernelDef.mesa	AYC   , 19-Nov-84 11:09:41-- from CPKernelConstants.mesa, HGM,  4-Oct-83 23:50:03--DIRECTORY  CPDef USING [AReg, DReg, RReg, RealCS, RealMemory];CPKernelDef: DEFINITIONS =  BEGIN    -- Things known by Kernel.mc    Command: TYPE = MACHINE DEPENDENT {exitKernel(0), refresh(1), writeU(2), executeBuffer(3)};  Nibble: TYPE = [0..0FH];    -- MailBox location (NEEDS TO BE POINTED TO BY DOVEINPUTOUTPUT)  kMailBox: CPDef.RealMemory = LOOPHOLE[13FDDH];  --word address    -- temp A Reg used by kernel  aMailBox: CPDef.AReg = 1;		-- temp A reg used by kernel    -- R Reg used by kernel  raSaveHi: CPDef.RReg = 4;		-- MailBox High  raSaveLow: CPDef.RReg = 5;		-- MailBox Low    -- D Reg used by kernel  dKernel: CPDef.DReg = 0EH;		-- perm D reg used by kernel    -- CS addresses  kBuffer: CPDef.RealCS = 0FDFH;	-- kernel scartch pad  kContinue: CPDef.RealCS = 0FDDH;	-- beginning of kernel overlay area  kEntry: CPDef.RealCS = 0FE0H;		-- Kernel breakpoint entry  kDisp2: CPDef.RealCS = 0FF0H;		-- second level dispatch bit target  kLoop: CPDef.RealCS = 0FF0H;		-- kernel command/idle loop    kWriteState: CPDef.RealCS = 0FE0H;	-- Entry location to write registers  kRDestination: CPDef.RealCS = 0FE2H;	-- Overlay register assignment  kReadABus: CPDef.RealCS = 0FE3H;	-- Entry point to read ABus sources  kASource: CPDef.RealCS = 0FE4H;	-- Overlay location to read ABus sources  kReadBBus: CPDef.RealCS = 0FE5H;	-- Entry point to read BBus sources  kReadLink: CPDef.RealCS = 0FE8H;	-- Overlay location to read link register  kReturn: CPDef.RealCS = 0FECH;	-- Noop, cycle 3  kWait: CPDef.RealCS = 0FEDH;		-- Noop, infinite loop  kPopIB: CPDef.RealCS = 0FEEH;		-- Noop, PopIB  kLinkTable: CPDef.RealCS = 0FEFH;	-- Overlay  base to write link register   END.  -- Log-- JAC   	17-Jan-85 14:47:29	put kMailBox at 0 since Bermuda adds-- JAC   	 9-Mar-85 17:05:41	mailbox is no longer quadword aligned-- JAC   	10-May-86 16:57:06	change mailbox loc to end of Opie segment table-- JAC   	12-Jun-86 11:07:53	change mailbox loc to just before RAMSys