-- Copyright (C) 1984  by Xerox Corporation. All rights reserved. --File: DsyuFormat.mesa--Last edit by JAC      5-Nov-84 14:33:11 DIRECTORY;DsyuFormat: DEFINITIONS =BEGINBits1: TYPE = [0..1] ;Bits2: TYPE = [0..3] ;Bits3: TYPE = [0..7] ;Bits4: TYPE = [0..15] ;Bits5: TYPE =[0..31] ;Bits6: TYPE = [0..63] ;FinalBinaryRec: TYPE = MACHINE DEPENDENT RECORD[  miNum: CARDINAL,  addr: CARDINAL,  partialBinary: PartialBinary] ;  Instruction: TYPE = MACHINE DEPENDENT RECORD[  op: Bits2 ¬ 0,  rA: Bits6 ¬ 0,  --Op 0, 1, 3 = rA; Op 3 = MO,  Aadr  rB: Bits6 ¬ 0,  --Op 0, 1 = rB; Op 2 = IT, OM IB; Op 3 =  High, Imu'  --Op 0, 1, 2, 3 = rD  rDHi2: Bits2 ¬ 0, --end word 1    rDLo4: Bits4 ¬ 0,  operation: Bits4 ¬ 0,  --OP 0, 3 = alu operation; Op 1 = shift; Op 2 = Aiu'  ci: Bits1 ¬ 0, --Op 0, 3 = Ci, Op 1 = unuse; Op 2 = AC'  special2: Bits3 ¬ 0, --Op 0, 1 = Sp2; Op 2 = Ail'; Op 3 = Iml'  special1: Bits3 ¬ 0, --Op 0, 1, 2, 3 = Sp1  --Op 0, 1, 2, 3 = DspB  dspBHi: Bits1 ¬ 0, --end word 2    dspBLo3: Bits3 ¬ 0,  inia: [0..4096) ¬ 0,  --INIA  parity: Bits1 ¬ 0];  --end word 3LabelSeqNum: TYPE = [0..4096);LabelSymbolRec: TYPE = MACHINE DEPENDENT RECORD[  external: BOOLEAN ¬ FALSE,  pad3: Bits3 ¬ 0,  labIndex: LabelSeqNum ¬ 0,  length: CARDINAL ¬ 0,  element: SELECT type: * FROM    label  => [pad1: Bits1 ¬ 0, miIndex: MIIndex],     regR  => [addr: [0..37777B)],  --only the low 8 bits of the register fields are needed.  However the word boundary must be maintained.    regD => [addr: [0..37777B)],    regA  => [addr: [0..37777B)],    ENDCASE  ] ;-- end LabelSymbolRec  MIIndex: TYPE = CARDINAL[0..4097];Op2rA: TYPE = RECORD [  SELECT OVERLAID * FROM    word => [word: WORD],    separate => [pad: [0..1024),                 mo: Bits3,                 aAdr: Bits3],    ENDCASE];    Op2rB: TYPE = RECORD [  SELECT OVERLAID * FROM    word => [word: WORD],    separate => [pad: [0..1024),                 it: Bits1,                 om: Bits2,                 ib: Bits3],    ENDCASE];    Op3rB: TYPE = RECORD [  SELECT OVERLAID * FROM    word => [word: WORD],    separate => [pad: [0..1024),                 hi: Bits1,                 imu: Bits5],    ENDCASE];PartialBinary: TYPE = MACHINE DEPENDENT RECORD[  instruction: Instruction, --encoded microinstruction    null: Bits1  ¬ 0,  cycle: Bits3 ¬ 0,  pad: Bits2 ¬ 0,  ibdisp: BOOLEAN ¬ FALSE,  --IBDISP in previous instruction  mdr: BOOLEAN ¬ FALSE,  --MDR ¬ in this instruction  trailer: [0..256) ¬ 0  --end word 4  ] ;-- end PartialBinary  SplitdspB: TYPE = RECORD [  SELECT OVERLAID * FROM    word => [word: WORD],    separate => [pad: [0..4096),                 dspBHi: Bits1,                 dspBLo3: Bits3],    ENDCASE];  SplitrD: TYPE = RECORD [  SELECT OVERLAID * FROM    word => [word: WORD],    separate => [pad: [0..1024),                 rDHi2: Bits2,                 rDLo4: Bits4],    ENDCASE];END . -- end DsyuFormat--Log of last edits:--JCraig	 5-Nov-84 14:33:22	fixed arrows for Mesa 11.1