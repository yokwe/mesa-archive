-- Copyright (C) 1982  by Xerox Corporation. All rights reserved. -- RStatsSupport.mesa - Last edited by--   Schmidt	September 28, 1982 12:17 pm--   BTL  	21-Dec-82 17:32:21DIRECTORY  Exec USING [Handle],  LeafSubr USING [FileHandle],  Time USING [Packed],  Window USING [Handle];	RStatsSupport: DEFINITIONS =   BEGIN	  -- each entry is a DF file  DFRec: TYPE = LONG POINTER TO DFRecRecord;  DFRecRecord: TYPE = RECORD [    rest:	DFRec,    host:	LONG STRING,    directory:	LONG STRING,    shortname:	LONG STRING,	-- name of the df file    version:	CARDINAL,	-- may be 0    dep:	DFDep,		-- a list of DF files that it depends on    refBy:	DFDep,		-- a list of DF files that depend on it    bcdDep:	BcdDep];	-- a list of bcds that bcds in this DF depend on  	  -- each entry is a DF file  DFDep: TYPE = LONG POINTER TO DFDepRecord;  DFDepRecord: TYPE = RECORD [    rest:	DFDep,    directory:	LONG STRING,	-- may be NIL    shortname:	LONG STRING,    createtime:	Time.Packed];	-- may be 0  	  -- each entry is a file, not a DF file  XRef: TYPE = LONG POINTER TO XRefRecord;  XRefRecord: TYPE = RECORD [    rest:	XRef,    shortname:	LONG STRING,	-- the file name    host:	LONG STRING,	-- of the file name    directory:	LONG STRING,	-- of the file name    version:	CARDINAL,	-- of the file name    createtime:	Time.Packed,	-- of the file name    dfshortname:LONG STRING,	-- the Df file it is in    dfpath:	LONG STRING,	-- e.g. [Indigo]<Cedar>Top> for the DF    readOnly:	BOOLEAN,	-- the file is listed as ReadOnly    eval:	BOOLEAN,	-- dependency has been analyzed    compiled:	BOOLEAN,	-- a compile stmt has been emitted    bcdChild:	NeededBcd];	-- list of bcds that this bcd depends on      NeededBcd: TYPE = LONG POINTER TO NeededBcdRecord;  NeededBcdRecord: TYPE = RECORD [    rest:	NeededBcd,    bcd:	XRef];  	  BcdDep: TYPE = LONG POINTER TO BcdDepRecord;  BcdDepRecord: TYPE = RECORD [    rest:	BcdDep,    dfrec:	DFRec,		-- the DF file that owns the bcd file    bcdName:	LONG STRING];	-- the name of the bcd file (including ".bcd")      	  -- implemented in RStatsDFImpl  InitDFAnalysis: PROC [exec: Exec.Handle, zone: UNCOUNTED ZONE];  LeafOpenWithCreate: PROC [      host, directory, shortname: LONG STRING,      version: CARDINAL, createtime: Time.Packed]    RETURNS [fh: LeafSubr.FileHandle];  	  BreakUp: PROC [line, filename: LONG STRING] RETURNS [create: Time.Packed];  	  ComputeFileList: PROC [    dfFileName: LONG STRING, fileListName: LONG STRING,    window: Window.Handle, exec: Exec.Handle];  	  SubString: PROC [line, match: LONG STRING] RETURNS [is: BOOLEAN];  	  UniqueSortDFRec:  PROC [oldList: DFRec] RETURNS [newList: DFRec];  UniqueSortDFDep:  PROC [oldList: DFDep] RETURNS [newList: DFDep];  UniqueSortBcdDep: PROC [oldList: BcdDep] RETURNS [newList: BcdDep];  SortXRef: PROC [oldList: XRef] RETURNS [newList: XRef];    ProcessDFList: PROC [      topDFName: LONG STRING, dfrec: DFRec, xrefFileName: LONG STRING]    RETURNS [nDFFiles: CARDINAL];  		   ProcessBcdAnalysis: PROC [dfrec: DFRec];   	  END.