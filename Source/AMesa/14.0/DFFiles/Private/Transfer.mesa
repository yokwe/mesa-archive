-- Copyright (C) 1983  by Xerox Corporation. All rights reserved. -- Transfer.mesa - Last edited by --   BTL  	11-Nov-83 11:36:13--   DSC  	 6-May-85 16:26:19DIRECTORY  Exec USING [Handle],  FileTransfer USING [DesiredProperties, ListProc],  MFile USING [Handle],  Stream USING [Handle],  Time USING [Packed],  Window USING [Handle];Transfer: DEFINITIONS =  BEGIN  RetrieveProcType: TYPE = PROC [    fileName: LONG STRING, s: Stream.Handle] RETURNS [skipRest: BOOLEAN];      -- If window is NIL, abort checking and i/o use Exec window  Initialize: PROC [exec: Exec.Handle, window: Window.Handle];  -- A "session" corresponds to, e.g., a DFTool BringOver or SModel run  -- Initialize does an implicit StartSession  StartSession: PROC;  Finalize: PROC;  EnumerateForRetrieve: PROC [    fileName: LONG STRING, enumProc: RetrieveProcType];  EnumerateForProperties: PROC [    fileName: LONG STRING, enumProc: FileTransfer.ListProc];      OpenRemoteStream: PROC [host, fileName: LONG STRING] RETURNS [s: Stream.Handle];  CloseRemoteStream: PROC [s: Stream.Handle];  GetStreamCreation: PROC [s: Stream.Handle] RETURNS [Time.Packed];  GetStreamLength: PROC [s: Stream.Handle] RETURNS [LONG CARDINAL];        -- Raises Subr.FileError if can't find file locally or remotely.  -- If wantExplicitVersion is true, wantCreateTime = 0, and version > 0, then  --   gets that version; otherwise gets !H when wantCreateTime = 0.  CachedOpen: PROC [      host, directory, name: LONG STRING, wantCreateTime: Time.Packed,      wantExplicitVersion: BOOLEAN, version: CARDINAL,      checkForOverwrite: BOOLEAN ¬ TRUE, window: Window.Handle, -- overwrite?      retrieveToTemp: BOOLEAN ¬ FALSE, localDir: LONG STRING ¬ NIL]    RETURNS [s: Stream.Handle];  Store: PROC [      file: MFile.Handle, localDate: Time.Packed, remoteName: LONG STRING]    RETURNS [      stored, serverFull: BOOLEAN, nBytes: LONG CARDINAL, version: CARDINAL];    Delete: PROC [fileName: LONG STRING];     -- copy remote files    OpenCopyConnection, CloseCopyConnection: PROC;    Copy: PROC [fromName, toName: LONG STRING]    RETURNS [      stored, serverFull: BOOLEAN, nBytes: LONG CARDINAL, version: CARDINAL];       -- register secondary credentials   RegisterConnCredentials: PROC [dir, password: LONG STRING];    -- For efficient property queries on NS Servers, we may need to  -- trim the DesiredProperties returned on FileInfo Objects  -- This routines gives that control.  -- The Connection is "global" within TransferImpl.    SetProps: PROC [props: FileTransfer.DesiredProperties];  SetDefaultProcs: PROC;  END.Change log: 6-May-85 16:18:17	DSC	Added SetProps and SetDefaultProcs.