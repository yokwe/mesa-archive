-- Copyright (C) 1983  by Xerox Corporation. All rights reserved. -- FakeHeraldWindowsB.mesa - last edit by-- LXR    	14-Sep-83 11:41:28-- CXH   	24-Feb-83 16:24:12DIRECTORY  Event USING [aboutToSwap, swapping],  EventTypes USING [aboutToBoot, swapCancelled],  Format USING [StringProc],  HeraldWindow USING [AppendMessage, ConfirmProcType, Slot],  HeraldWindowOps USING [SetUpMenuandVolStrings],  Supervisor USING [    EnumerationAborted,    NotifyDirectSubsystems, SubsystemHandle],  TajoOps USING [];HeraldWindowsB: MONITOR  IMPORTS    Event, HeraldWindow, HeraldWindowOps, Supervisor  EXPORTS HeraldWindow, HeraldWindowOps, TajoOps =  BEGIN  SlotObject: PUBLIC TYPE = RECORD [];  displayedPages: PUBLIC LONG CARDINAL;  specialEntries: PUBLIC CARDINAL ¬ 0;  -- Number of extra entries in menu (e.g., for files, etc.)  FreeCursorSlot: PUBLIC PROC [slot: HeraldWindow.Slot] RETURNS [nil: HeraldWindow.Slot] = {};  SetSystemName: PUBLIC ENTRY PROC [name: LONG STRING] RETURNS [CARDINAL] = {RETURN[0]};  DefaultConfirm, AlwaysConfirm: PUBLIC HeraldWindow.ConfirmProcType =    -- Notifies the world that we are booting    BEGIN    okay ¬ TRUE;    IF ~cleanup THEN RETURN;    Supervisor.NotifyDirectSubsystems[            event: EventTypes.aboutToBoot, which: clients,            subsystem: Event.aboutToSwap !            Supervisor.EnumerationAborted => {okay ¬ FALSE; CONTINUE}];    IF ~okay THEN      Supervisor.NotifyDirectSubsystems[        event: EventTypes.swapCancelled, which: clients,        subsystem: Event.swapping]    END;  DefaultPost: PUBLIC Format.StringProc = {IF s # NIL THEN HeraldWindow.AppendMessage[msg: s, newLine: FALSE, clearOld: FALSE]};  StartHerald: PUBLIC PROCEDURE [systemName: LONG STRING, tinyName: LONG STRING] =    BEGIN    HeraldWindowOps.SetUpMenuandVolStrings[];  -- starts HeraldWindowsA    END;  END.