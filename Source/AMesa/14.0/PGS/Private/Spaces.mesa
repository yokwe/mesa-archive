-- Copyright (C) 1981, 1982  by Xerox Corporation. All rights reserved. -- file Spaces.Mesa-- last edited by JGS,  4-Nov-82 11:53:37-- last edited by LXR    ,  7-Aug-81 10:26:23-- last edited by EXS          , March 5, 1981  2:54 PMDIRECTORY  Heap USING [MakeNode, systemZone],  MSegment: TYPE USING [GetPages, FreePages, PagesForWords];Spaces: DEFINITIONS IMPORTS Heap, MSegment = {  Node: PROC [nwords: CARDINAL] RETURNS [p: LONG POINTER] = INLINE {    RETURN [Heap.MakeNode[Heap.systemZone, nwords]]};  String: PROC [nchars: CARDINAL] RETURNS [s: LONG STRING] = INLINE {    RETURN [Heap.systemZone.NEW[StringBody[nchars]]]};  Pages: PROC [npages: CARDINAL] RETURNS [base: LONG POINTER] = INLINE {    RETURN [MSegment.GetPages[npages]]};  Words: PROC [nwords: CARDINAL] RETURNS [base: LONG POINTER] = INLINE {    RETURN [MSegment.GetPages[MSegment.PagesForWords[nwords]]]};    Free: PROC [p: LONG POINTER] = INLINE {Heap.systemZone.FREE[@p]};  FreeString: PROC [s: LONG STRING] = INLINE {Heap.systemZone.FREE[@s]};  FreePages, FreeWords: PROC [base: LONG POINTER] = INLINE {MSegment.FreePages[base]};  PagesForWords: PROC [nWords: CARDINAL] RETURNS [CARDINAL] = INLINE {    RETURN[MSegment.PagesForWords[nWords]]};      }.