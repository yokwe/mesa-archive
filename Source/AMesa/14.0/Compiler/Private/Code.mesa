-- Copyright (C) 1983, 1986  by Xerox Corporation. All rights reserved. -- file code.mesa--   Sweet,		 4-Aug-83 10:25:16--   Satterthwaite,	January 9, 1981  11:10 AM--   Wagner		21-Aug-86 13:35:33DIRECTORY  Alloc: TYPE USING [AddNotify, DropNotify],  CodeDefs,  ComData USING [table],  CompilerUtil,  P5: TYPE USING [Module],  Symbols: TYPE USING [CCBTIndex, ContextLevel, CTXIndex, ISEIndex, RecordSEIndex];Code: PROGRAM     IMPORTS MPtr: ComData, Alloc, CodeDefs, P5     EXPORTS CompilerUtil, P5 =  PUBLIC BEGIN OPEN CodeDefs;  -- the following variables are shared among the code generation modules    curctxlvl: Symbols.ContextLevel;    codeStart, codeptr: CCIndex;    bodyRecurLabel, bodyRetLabel, bodyComRetLabel: LabelCCIndex;    bodyInRecord, bodyOutRecord: Symbols.RecordSEIndex;    bodyFileIndex: CARDINAL;    mainBody: BOOLEAN;    ZEROlexeme: word literal Lexeme;    stking: BOOLEAN;    caseCVState: CaseCVState;    mwCaseCV: Lexeme;    fileindex, inlineFileIndex: CARDINAL;    tempcontext: Symbols.CTXIndex;    firstTemp, tempstart, framesz: CARDINAL;    xtracting: BOOLEAN;    xtractlex: Lexeme;    xtractsei: Symbols.ISEIndex;    inlineRetErrorLabel, inlineRetErrorListLabel: LabelCCIndex;    catchcount: CARDINAL;    catchoutrecord: Symbols.RecordSEIndex;    actenable: Symbols.CCBTIndex;    enableLevel: CARDINAL;    enableList: ARRAY [0..15] OF EnableIndex;    StackNotEmptyAtStatement: SIGNAL ¬ CODE;    CodeNotImplemented: SIGNAL ¬ CODE;    CodePassInconsistency: SIGNAL ¬ CODE;    CodePassError: ERROR [n: CARDINAL] ¬ CODE;        tailJumpOK: BOOLEAN;    warnStackOverflow: BOOLEAN;    extraFlag: PACKED ARRAY [0..16) OF BOOLEAN;        initialLabel: LONG DESCRIPTOR FOR ARRAY OF LabelCCIndex;  P5module: PROC =    BEGIN -- starts the code generation pass    Alloc.AddNotify[MPtr.table, CodeDefs.DriverNotify, NIL];    P5.Module[];    Alloc.DropNotify[MPtr.table, CodeDefs.DriverNotify, NIL]    END;  P5Error: PROC [n: CARDINAL] = {ERROR CodePassError[n]};  END.