-- Copyright (C) 1986  by Xerox Corporation. All rights reserved. -- P3POps.mesa-- Wagner		20-Aug-86 18:59:58DIRECTORY   Symbols USING [CTXIndex, CSEIndex, ISEIndex, RecordSEIndex],  SymbolTable USING [Handle],  Tree USING [Link],  TreeOps USING [Map, Scan];P3POps: DEFINITIONS = {  OPEN Symbols;  AItem: TYPE = RECORD [id: ISEIndex, name: BOOLEAN, val: Tree.Link];  ANode: TYPE = RECORD [    next: AList,    ctx: CTXIndex,    nItems: CARDINAL,    map: SEQUENCE maxItems: CARDINAL OF AItem];  AList: TYPE = LONG POINTER TO ANode;    aStack: AList;	-- current association list  copying: BOOLEAN;    InitPass3POps: PROC [SymbolTable.Handle];    CountedSei: PROC [sei: ISEIndex] RETURNS [BOOLEAN];  IncrCount: PROC [sei: ISEIndex];	-- modified BumpCount (Pass3I)  DecrCount: PROC [sei: ISEIndex];  AdjustForName: TreeOps.Scan;  SetCtxCounts: PROC [ctx: CTXIndex, nRefs: [0..1]];  ComputeArgCounts: PROC [type: CSEIndex, body: Tree.Link];  FieldCtx: PROC [rSei: RecordSEIndex] RETURNS [CTXIndex];  PushAList: PROC [aLink: AList];  PopAList: PROC RETURNS [aLink: AList];  ExpandSei: PROC [sei: ISEIndex] RETURNS [v: Tree.Link];    ExpandTree: TreeOps.Map;    }...