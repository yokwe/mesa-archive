-- Copyright (C) 1983, 1986  by Xerox Corporation. All rights reserved. -- file ComData.mesa--   Satterthwaite,	October 8, 1982 1:31 pm--   Sweet,		11-Jun-83 23:28:40--   MEW		18-Aug-86  9:13:35DIRECTORY  Alloc USING [Handle],  BcdDefs USING [SGRecord, VersionStamp],  BcdOps USING [MTHandle],  CommandUtil USING [PairList],  Fixup USING [JIHandle, PCHandle],  OSMiscOps USING [Stamp],  PrincOps USING [BytePC],  Symbols USING [ISEIndex, CSEIndex, CTXIndex, CBTIndex, CatchIndex],  SymbolSegment USING [FGTEntry],  SymbolTable USING [Handle],  Tree USING [Link];ComData: PROGRAM = PUBLIC {   OPEN Symbols; -- basic types (initialized in Pass1)  typeINT, typeCARDINAL: CSEIndex;  typeBOOL, typeCHAR, typeREAL: CSEIndex;  typeSTRING, typeLONGSTRING, typeStringBody: CSEIndex;  typeATOM, typeAtomRecord: CSEIndex;  typeRefANY, typeListANY: CSEIndex;  typeLOCK, typeCONDITION: CSEIndex; -- global info describing module  interface: BOOLEAN;		-- interface module  monitored: BOOLEAN;  stopping: BOOLEAN;  outerCtx: CTXIndex;		-- predefined identifiers  moduleCtx: CTXIndex;		-- module identifiers  importCtx: CTXIndex;		-- import id context  exportCtx: CTXIndex;		-- export id context  mainCtx: CTXIndex;		-- main program's context  nBodies: CARDINAL;  nInnerBodies: CARDINAL;  nSigCodes: CARDINAL;  defBodyLimit: CARDINAL;  linkCount: CARDINAL;		-- global control links (externals, etc)  catchIndex: Symbols.CatchIndex;   -- shared instance of SymbolTable  ownSymbols: SymbolTable.Handle; -- type identifiers (initialized in Pass1)  idANY: ISEIndex;  idINT, idCARDINAL, idCHAR, idBOOL, idREAL, idSTRING: ISEIndex;  idTEXT: ISEIndex;  idLOCK: ISEIndex;  idATOM: ISEIndex; -- anonymous entry for undeclared ids  seAnon: ISEIndex; -- symbolic constants  tC0, tC1: Tree.Link;  idUNWIND: ISEIndex; -- scratch storage   table: Alloc.Handle;  zone: UNCOUNTED ZONE;   -- compilation options  switches: PACKED ARRAY CHARACTER ['a..'z] OF BOOLEAN; -- input  sourceFile: LONG STRING;  sourceLines: CARDINAL;  sourceVersion: OSMiscOps.Stamp;  formatting: BOOLEAN;       -- interface-to-file map  fileMap: CommandUtil.PairList; -- variables used for error reporting  nErrors: CARDINAL;  nWarnings: CARDINAL;  bodyIndex: CBTIndex;		-- current body  textIndex: CARDINAL;		-- start index of line with error -- output  compilerVersion: BcdDefs.VersionStamp;  objectFile: LONG STRING;  objectVersion: BcdDefs.VersionStamp;  objectStamp: OSMiscOps.Stamp; -- fixup information   codeOffsetList: Fixup.PCHandle;  codeByteOffsetList: Fixup.PCHandle;  jumpIndirectList: Fixup.JIHandle;  globalFrameSize: CARDINAL;  objectBytes: CARDINAL;  catchBytes: CARDINAL;  entryVector: LONG DESCRIPTOR FOR ARRAY OF PrincOps.BytePC ¬ NIL;  fgTable: LONG DESCRIPTOR FOR ARRAY OF SymbolSegment.FGTEntry ¬ NIL;  codeSeg, symSeg: BcdDefs.SGRecord;  mtRoot: BcdOps.MTHandle ¬ NIL;  mtRootSize: CARDINAL;  fixupLoc: LONG CARDINAL;    CheckAborted: PROC RETURNS [aborted: BOOLEAN] ¬ NIL;  }.