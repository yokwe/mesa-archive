-- Copyright (C) 1982, 1986  by Xerox Corporation. All rights reserved. -- file CompilerUtil.Mesa-- last modified by Satterthwaite, 25-Feb-82 15:15:18-- last modified by Sweet, 21-Oct-82 14:04:32-- Wagner		18-Aug-86  8:23:19DIRECTORY  Alloc USING [Handle],  CompilerOps USING [StreamId, TableId],  Stream USING [Handle],  Tree USING [Link],  TreeOps USING [Map, Scan];CompilerUtil: DEFINITIONS = { -- stream management  StreamId: TYPE = CompilerOps.StreamId;  AcquireStream: PROC [StreamId] RETURNS [Stream.Handle];  ReleaseStream: PROC [StreamId]; -- binary table management  TableId: TYPE = CompilerOps.TableId;  AcquireTable: PROC [TableId] RETURNS [LONG POINTER];  ReleaseTable: PROC [TableId]; -- scratch zone management   AcquireZone: PROC RETURNS [UNCOUNTED ZONE];  ReleaseZone: PROC [UNCOUNTED ZONE] = INLINE {};   -- compiler passes  PassIndex: TYPE = {utilities, pass1, pass2, pass3, pass3p, pass4, pass5, debug};  PrefillSymbols: PROC;  P1Unit: PROC RETURNS [BOOLEAN];  P2Unit: TreeOps.Map;  P3Unit: TreeOps.Map;  P3Postlude: PROC [expand: BOOLEAN];  P4Unit: TreeOps.Scan;  P5module: PROC; -- object output  Address: TYPE = LONG POINTER;    StartObjectFile: PROC [Stream.Handle, UNCOUNTED ZONE];  EndObjectFile: PROC [update: BOOLEAN];  TableOut: PROC [Alloc.Handle];  RTTableOut: PROC [Alloc.Handle];  NextFilePage: PROC RETURNS [CARDINAL];  StartBCD: PROC;  ReadBCDOffset: PROC RETURNS [CARDINAL];  ReadBCDIndex: PROC RETURNS [LONG CARDINAL];  AppendBCDWord: PROC [word: UNSPECIFIED];  AppendBCDWords: PROC [addr: Address, n: CARDINAL];  AppendBCDString: PROC [s: LONG STRING];  FillBCDPage: PROC;  UpdateBCDWords: PROC [offset: CARDINAL, addr: Address, n: CARDINAL];  EndBCD: PROC; -- debugging  PrintTree: PROC [table: Alloc.Handle, root: Tree.Link];  PrintBodies: PROC [table: Alloc.Handle];  PrintSymbols: PROC [table: Alloc.Handle, definitions: BOOLEAN]; -- cleanup  FreeAllocTables: PROC;   }.