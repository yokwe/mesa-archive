--DiagTestInternal.mesa - (last edited by SMA  14-Nov-84  9:45:57)DIRECTORY  CommOnlineDiagnostics USING [CountType, EchoResults, EventReporter, Histogram,    ModemChange, PatternType, SetDiagnosticLine, WordsInPacket, WriteMsg],  RS232C USING [Correspondent, LineSpeed, LineType, Parity],  RS232CCorrespondents USING [nsSystemElement],  Window USING [Handle];DiagTestInternal: DEFINITIONS =    BEGIN    CallbackState: TYPE = MACHINE DEPENDENT {call, dontCall};    DataHandle: TYPE = LONG POINTER TO Data;  Data: TYPE = MACHINE DEPENDENT RECORD [    msgSW(0): Window.Handle _ NIL,    formSW(2): Window.Handle _ NIL,    fileSW(4): Window.Handle _ NIL,    -- RS232CLoopback    testCount(6): CARDINAL _ 0,    rSafetyTOInMsecs(7): LONG CARDINAL _ 60000,    pattern(9): CommOnlineDiagnostics.PatternType _ zero,    lineSpeed(10): RS232C.LineSpeed _ bps9600,    rConstant(11): CARDINAL _ 0,    correspondent(12): RS232C.Correspondent _       RS232CCorrespondents.nsSystemElement,    dataLenHi(13): CARDINAL _ 500,    dataLenLow(14): CARDINAL _ 4,    lineNumber(15): CARDINAL _ 0,    lineType(16): RS232C.LineType _ bitSynchronous,    setDiagnosticLine(17): CallbackState _ call,    parity(18): RS232C.Parity _ none,    writeMsg(19): CallbackState _ call,    charLength(20): CARDINAL _ 8,    modemChange(21): CallbackState _ call,    -- EchoTest    targetSystemElement(22): LONG STRING _ NIL,    totalCount(24): CARDINAL _ 1000,    wordContents(25): CommOnlineDiagnostics.WordsInPacket _ all0s,    eSafetyTOInMsecs(26): LONG CARDINAL _ 60000,    eConstant(28): CARDINAL _ 0,    minPacketSizeInBytes(29): CARDINAL _ 2,    minMsecsBetweenPackets(30): CARDINAL _ 0,    maxPacketSizeInBytes(31): CARDINAL _ 500,    checkContents(32): BOOLEAN _ TRUE,    eventReporter(33): CallbackState _ call,    useDefaults(34): BOOLEAN _ TRUE,    waitForResponse(35): BOOLEAN _ TRUE,    -- EtherStats    physicalOrder(36): CARDINAL _ 1,    -- Dialer    rs232cLineNumber(37): CARDINAL _ 0,    phoneNumber(38): LONG STRING _ NIL,    hostString(40): LONG STRING _ NIL];  data: DataHandle;    MyEventRep: CommOnlineDiagnostics.EventReporter;    MyModemChange: CommOnlineDiagnostics.ModemChange;    MySetDiagLine: CommOnlineDiagnostics.SetDiagnosticLine;    MyWriteMsg: CommOnlineDiagnostics.WriteMsg;    PrintRS232CTotals: PROC [c: CommOnlineDiagnostics.CountType];    PrintEchoTotals: PROC [t: CommOnlineDiagnostics.EchoResults,    h: CommOnlineDiagnostics.Histogram];      END.