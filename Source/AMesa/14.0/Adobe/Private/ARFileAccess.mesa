-- Copyright (C) 1983, 1984, 1985  by Xerox Corporation. All rights reserved. -- File: ARFileAccess.mesa  Edited by:-- BJD		 9-May-84 12:14:39-- Somers	 5-May-83 12:03:21-- Loretta	 5-May-83 13:59:09-- PAD		25-Jul-84 17:37:09-- RSF		25-Jul-84 17:37:09DIRECTORY  AdobeOps USING [ARNumber],  Auth USING [IdentityHandle],  NSFile USING [Reference],  Stream USING [Handle];ARFileAccess: DEFINITIONS =  BEGIN  -- Types and data  Session: TYPE = LONG POINTER TO SessionObject;  SessionObject: TYPE;  -- Procedures  -- zone is from where any storage is allocated; arLocation is the NSFile.ID and NSFile.Service of the AR directory; this is returned from AdobeServer.GetLocationOfARs;  Create: PROCEDURE [    zone: UNCOUNTED ZONE, arLocation: NSFile.Reference]    RETURNS [session: Session];  Destroy: PROCEDURE [session: Session];  Logon: PROCEDURE [session: Session, user: Auth.IdentityHandle];  -- In order to operate on any AR, the client must first call GetAR to find the associated file.  This handle is then passed to any of the AR routines; GetAR opens a connection to the file server;  RetrieveAR does both a GetAR and an ExamineAR;  RetrieveAR: PROCEDURE [    session: Session, arNumber: AdobeOps.ARNumber, to: Stream.Handle];  StoreAR: PROCEDURE [    session: Session, arNumber: AdobeOps.ARNumber,    from: Stream.Handle];  -- Signals and Errors  ErrorCode: TYPE = MACHINE DEPENDENT{    -- client bugs    invalidARHandle(0), invalidARNumber, invalidSession,    -- to be caught by client         invalidLogin(3), accessDenied, arNotFound, directoryNotFound,    hostNotFound, serverNotResponding, communicationError,    fileServerFull, directoryFull,    -- unknown error    unknown(31)};  Error: ERROR [session: Session, why: ErrorCode];  END.