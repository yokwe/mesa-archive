-- LibToolSubr.mesa Copyright (C) 1984 by Xerox Corporation. All rights reserved.-- Last edited by: dsc on 22-Mar-85 17:18:33DIRECTORY  Librarian,  LibToolCommon;LibToolSubr: DEFINITIONS =  {  Command: TYPE = {query, checkIn, destroy, close, count, checkOut, create, null};  Handle: TYPE = LONG POINTER TO Object;  Object: TYPE = RECORD [    command: Command ¬ null,    checkAbort: LibToolCommon.AbortProc ¬ NIL,    Write: LibToolCommon.WriteProc ¬ NIL,    libject: LONG STRING ¬ NIL,    reason: LONG STRING ¬ NIL,    retrieve: BOOLEAN ¬ FALSE,    localDir: LONG STRING ¬ NIL,    remotename: LONG STRING ¬ NIL,    user: LONG STRING ¬ NIL,    batch: BOOLEAN ¬ FALSE,    onlyIfCheckedOut: BOOLEAN ¬ FALSE,    server: Librarian.Handle ¬ Librarian.nullHandle,    zone: UNCOUNTED ZONE ¬ NIL,    queryMode: LibToolCommon.QueryMode ¬ normal,    atoms: LibToolCommon.AtomArray ¬ ALL[Librarian.nullAtom]  ];  Action: PROCEDURE [h: Handle, libject: LONG STRING, nLibjects: CARDINAL] RETURNS [      wasAborted: BOOLEAN ¬ FALSE, stop: BOOLEAN ¬ FALSE,      wildcount: CARDINAL ¬ 0];  Help: PROCEDURE [Write: LibToolCommon.WriteProc];  QWrite: PROCEDURE [Write: LibToolCommon.WriteProc, s: LONG STRING];  WildPattern: PROCEDURE [pat: LONG STRING] RETURNS [sure: BOOLEAN];  GetServer: PROCEDURE RETURNS [db: LONG STRING];  WriteNewRemoteName: PROCEDURE [newrname: LONG STRING, Write: LibToolCommon.WriteProc];  WildGripe: PROCEDURE [msg, pat: LONG STRING, Write: LibToolCommon.WriteProc];  GiveWarningsIfAny: PROCEDURE [    command: LibToolSubr.Command, batch: BOOLEAN, Write: LibToolCommon.WriteProc];  ValidOptions:  PROCEDURE [    command: LibToolSubr.Command, batch: BOOLEAN, remotename: LONG STRING, Write: LibToolCommon.WriteProc,    database, libject: LONG STRING] RETURNS [yes: BOOLEAN ¬ TRUE];  TellHowMany: PROCEDURE [    nFound: CARDINAL, libject, user, done: LONG STRING, Write: LibToolCommon.WriteProc,    wasAborted, onlyIfCheckedOut: BOOLEAN];  SummaryMsg: PROCEDURE [    nFound: CARDINAL, libject, user: LONG STRING, Write: LibToolCommon.WriteProc,    wasAborted, onlyIfCheckedOut: BOOLEAN];  }...