-- NSBTree.mesa; last edited by: --   PXK    ,	21-Mar-84 10:12:48--   BJD    ,	 4-Sep-84 16:33:20DIRECTORY  File USING [ID],  NSFile USING [Handle, nullHandle, nullSession, Session],  Space USING [Usage, unknownUsage],  Volume USING [ID];  NSBTree: DEFINITIONS =--  this interface defines the operations on variable length key B-TreesBEGIN  -- B-Tree definitions    Tree: TYPE = LONG POINTER TO TreeObject;  TreeObject: TYPE;       Value: TYPE = LONG DESCRIPTOR FOR ARRAY OF CARDINAL;  ValueTooSmall: ERROR [tree: Tree];    ReadOnly: ERROR [tree: Tree];  VolumeNotOpen: ERROR [volume: Volume.ID];    maxNameLength: CARDINAL = 100; -- (characters)    ValueSize: TYPE = [1..32);   defaultValueSize: ValueSize = SIZE[File.ID]+1;    -- B-Tree procedures  Make: PROC [    file: NSFile.Handle _ NSFile.nullHandle,    session: NSFile.Session ¬ NSFile.nullSession,    usage: Space.Usage _ Space.unknownUsage,    valueSize: ValueSize _ defaultValueSize,    reset: BOOLEAN _ FALSE]    RETURNS [tree: Tree];    Delete: PROC [tree: Tree];    GetInfo: PROC [tree: Tree]    RETURNS [valueSize: ValueSize, file: NSFile.Handle, usage: Space.Usage];    Insert: PROC [tree: Tree, name: LONG STRING, value: Value]    RETURNS [ok, noRoom: BOOLEAN];      Remove: PROC [tree: Tree, name: LONG STRING, value: Value]    RETURNS [ok: BOOLEAN];      Empty: PROC [tree: Tree] RETURNS [BOOLEAN];  Find: PROC [tree: Tree, name: LONG STRING, value: Value]    RETURNS [ok: BOOLEAN];    SwapValue: PROC [tree: Tree, name: LONG STRING, oldValue, newValue: Value]    RETURNS [ok: BOOLEAN];    GetNext: PROC [    tree: Tree, name: LONG STRING, nextName: LONG STRING, value: Value,    mask: LONG STRING _ NIL];      END.LOGTime:  8-Jun-81 11:07:21 By: KAM     	Action: Created from DirectoryTrees and DirectoryInternalTime:  1-Oct-81 10:34:13 By: PXK    	Action: maxNameLength = 100, Value TYPE[6]Time:  8-Oct-81 13:29:59 By: KAM     	Action: Added PROC SwapValue; added parameters lpSize and reset to Make.Time:   7-Apr-83 11:25:19 By: LXR    	Action: defaultValueSize = SIZE[File.ID]+1Time:  26-Jul-83 17:10:20 By: DWE    	Action: add usage parameter