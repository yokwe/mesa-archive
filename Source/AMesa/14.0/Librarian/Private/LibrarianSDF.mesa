-- File: LibrarianSDF.mesa - last edit by-- bjd                  1-Nov-87 20:31:40-- PLK    ,	20-Mar-84 18:06:59-- DSC  ,	10-May-84 13:10:43-- Copyright (C) 1986, 1987 by Xerox Corporation. All rights reserved.DIRECTORY Heap, LibMessages, MsgOps, NSService, NSServicePriorities, NSString, ServicesPFOptions, SpecialServerOps;LibrarianSDF: PROGRAM IMPORTS Heap, MsgOps, NSService, NSString, SpecialServerOps =  BEGIN  AnnounceLib: PROCEDURE =    BEGIN    nameFromFile: BOOLEAN ¬ TRUE;    objFiles: ARRAY [0..1) OF LONG STRING ¬ ["LibrarianService.bcd"L];    msgFile: ARRAY [0..1) OF LONG STRING ¬ ["LibrarianService.messages"L];    ls: NSService.ServiceData ¬ [      name: Str["Librarian Service"L],      descFile: "LibrarianSDF.bcd"L,      reqFiles: [obj: DESCRIPTOR[objFiles]],      optFiles: [data: DESCRIPTOR[msgFile]],      pfData:  pf[ServicesPFOptions.librarian],      startPriority: NSServicePriorities.dontCare];    ls.name ¬ MsgOps.ServiceNameFromFile[      file: msgFile[0],       domainName: "LibrarianService"L,      key: LibMessages.MessageKey[keyLibrarianService].ORD,      mustInstallFile: SpecialServerOps.Installable[msgFile[0]],      z: Heap.systemZone ! MsgOps.Error => {nameFromFile ¬ FALSE; CONTINUE}];    NSService.Announce[@ls];    END;  -- AnnounceLib Str: PROCEDURE [s: LONG STRING] RETURNS [ns: NSString.String] = INLINE {    RETURN[NSString.StringFromMesaString[s]]};  AnnounceLib[];  END.  -- of LibrarianSDF