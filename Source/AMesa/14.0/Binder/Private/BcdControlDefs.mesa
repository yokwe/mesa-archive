-- Copyright (C) 1982  by Xerox Corporation. All rights reserved. -- BcdControlDefs.mesa-- Last edited by Satterthwaite on June 2, 1980  10:58 AM-- Last edited by Schmidt on September 23, 1980  2:15 PM-- Last edited by Lewis on  6-Jan-82 14:05:40DIRECTORY  Alloc USING [Handle],  BcdBindDefs USING [BcdRelocations, RelocHandle],  BcdDefs USING [FTIndex, NameRecord, VersionStamp],  CommandUtil USING [PairList],  Exec USING [Handle],  Inline USING [LongCOPY],  Tree: FROM "BcdTree" USING [Link],  MStream USING [Handle];BcdControlDefs: DEFINITIONS    IMPORTS Inline =  BEGIN  BuildSEError: ERROR;  LoadError: ERROR;  BindError: ERROR;  BcdWriteError: ERROR;  InvalidFileFormat: ERROR;      data: BinderData;  BinderData: TYPE = LONG POINTER TO BinderDataRecord;  BinderDataRecord: TYPE = RECORD [    exec:           Exec.Handle,    ownTable:       Alloc.Handle,    zone:           UNCOUNTED ZONE,    cmdLineArgList: CommandUtil.PairList,    rootName, sourceName, bcdName, codeName, symbolName: LONG STRING,    sourceStream, logStream, errorStream: MStream.Handle,    sourceVersion:  BcdDefs.VersionStamp,    binderVersion:  BcdDefs.VersionStamp,    debug:          BOOLEAN,    copyCode, copySymbols: BOOLEAN,    pause, pauseOnWarnings: BOOLEAN,    mergeErrlogs, renamedOutput: BOOLEAN,    errlogOpened:   BOOLEAN,  -- anything written to ".errlog"/Binder.log    typeExported:   BOOLEAN,    errors, warnings: BOOLEAN,    nErrors, nWarnings: CARDINAL,    outputFti:      BcdDefs.FTIndex,    currentName:    BcdDefs.NameRecord,    textIndex:      CARDINAL,    network, host:  [0..255],    nModules:       CARDINAL,    outModules, outConfigs, outBcdPages: CARDINAL];  NullSourceIndex: CARDINAL = LAST[CARDINAL];   -- "top-level" procedures   BuildSemanticEntries: PROC [root: Tree.Link];  LoadRoot: PROC [root: Tree.Link] RETURNS [BcdBindDefs.RelocHandle];  BindRoot: PROC [relocationRoot: BcdBindDefs.RelocHandle];  CreateBcd: PROC [root: Tree.Link] RETURNS [userAbort: BOOLEAN];  WriteBcd: PROC RETURNS [userAbort: BOOLEAN];     -- error procedures    NoteWarnings, NoteErrors: PROC;  MarkFileBad: PROC [name: LONG STRING];     -- utility procedures  Zero: PROC [p: LONG POINTER, l: CARDINAL] = INLINE {    IF l # 0 THEN {      p­ ¬ 0;  Inline.LongCOPY[from: p, to: (p+1), nwords: (l-1)]}};  SetBlock: PROC [p: LONG POINTER, v: UNSPECIFIED, n: UNSPECIFIED] = INLINE {    IF n # 0 THEN {      p­ ¬ v;  Inline.LongCOPY[from: p, to: (p+1), nwords: (n-1)]}};         -- debugging procedures   PrintTree: PROC [Tree.Link];  PrintSemanticEntries: PROC;  PrintBcd: PROC;  PrintRelocations: PROC [BcdBindDefs.RelocHandle];    END.