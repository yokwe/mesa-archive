{ WriteIBDaybreak.mc  Description: Write IB overlay, Author: JoM    , Created: 10-Jan-85 16:01:57}Reserve[0, Sub[KBufferExtenLoc, 1]];Reserve[Add[KBufferExtenEnd, 1], Sub[KBufferLoc, 1]];Reserve[Add[KBufferEnd, 1], 0FFF];{Replaces the front byte of the instruction buffer.}KBuffer:	rK ¬ 30,					c1, at[KBufferLoc];	rK ¬ rK and ~ErrnIBnStkp,			c2;	Xbus ¬ rK LRot12, XDisp,			c3;	DISP2[KIBCt],					c1;KIBCt0:	IB ¬ UKTemp, GOTO[SetIB1],			c2, at[0,4,KIBCt];KIBCt1:	IB ¬ UKTemp,					c2, at[1,4,KIBCt];SetIB1:	IBPtr ¬ 1, GOTOABS[KWaitLoc],			c3;KIBCt2:	Xbus ¬ ib,					c2, at[2,4,KIBCt];	rK ¬ UKTemp,					c3;	rK ¬ rK LRot8,					c1;	rK ¬ rK or ib, GOTO[FinishMerge],		c*;KIBCt3:	Xbus ¬ ib,					c2, at[3,4,KIBCt];	rK ¬ ib,					c3;	rK ¬ rK LRot8,					c1;	rK ¬ rK or ib,					c2;	IB ¬ UKTemp,					c3;	IBPtr ¬ 1, 					c*;FinishMerge:	IB ¬ rK LRot0, GOTOABS[KWaitLoc],		c*;