--OnlineDiagnosticsExtraExtras.mesa--Last edited  31-Mar-87 11:05:40 by rk  OnlineDiagnosticsExtraExtras: DEFINITIONS =   BEGIN    YesOrNo: TYPE = {yes, no};             GetTextProc: TYPE = PROCEDURE [msg: FlTapeMessage, inputText: LONG STRING];  		--inputText is 100 characters.    GetNumberProc: TYPE = PROCEDURE [msg: FlTapeMessage]  	RETURNS [inputNumber: LONG CARDINAL];    PutMessageProc: TYPE = PROCEDURE   	[msg: FlTapeMessage, moreFollows: BOOLEAN ¬ FALSE];  PutNumberProc: TYPE = PROCEDURE  	 [number: LONG CARDINAL, width: CARDINAL ¬ 5, moreFollows: BOOLEAN ¬ FALSE];    PutTextProc: TYPE = PROCEDURE  	 [outputText: LONG STRING, moreFollows: BOOLEAN ¬ FALSE];    PutTimeStampMessageProc: TYPE = PROCEDURE [msg: FlTapeMessage];      GetConfirmationProc: TYPE = PROCEDURE [msg: FlTapeMessage];    GetYesOrNoProc: TYPE = PROCEDURE [msg: FlTapeMessage]   	RETURNS [YesOrNo];	  LookForAbortProc: TYPE = PROCEDURE[] RETURNS [userAbort: BOOLEAN];    --This procedure performs a format of the entire tape.  FlTapeFormat: PROCEDURE [    getText:		  GetTextProc,    putMessage:           PutMessageProc,    putText:		  PutTextProc,    putTimeStampMessage:  PutTimeStampMessageProc,    getConfirmation:      GetConfirmationProc,    getYesOrNo:           GetYesOrNoProc,    lookForAbort:	  LookForAbortProc];        --This procedure performs a retention pass.  FlTapeRetention: PROCEDURE [    putMessage:           PutMessageProc,    putTimeStampMessage:  PutTimeStampMessageProc,    getConfirmation:      GetConfirmationProc];    --This procedure performs a verify read operation.  It uses the     -- Offline Diagnostics tape as a known good media.    FlTapeVerifyRead: PROCEDURE [    putMessage:           PutMessageProc,    putText:		  PutTextProc,    putNumber:		  PutNumberProc,    putTimeStampMessage:  PutTimeStampMessageProc,    getConfirmation:      GetConfirmationProc,    lookForAbort:	  LookForAbortProc,    debugSwitch:	  UNSPECIFIED ¬ 0];    --This procedure performs the scavenge operation.      FlTapeScavenge: PROCEDURE [    putMessage:           PutMessageProc,    putTimeStampMessage:  PutTimeStampMessageProc,    getConfirmation:      GetConfirmationProc,    lookForAbort:	  LookForAbortProc];    --This procedure logs a bad sector into the bad sector table.      FlTapeLogBadSector: PROCEDURE [    getNumber:		  GetNumberProc,    putMessage:           PutMessageProc,    putTimeStampMessage:  PutTimeStampMessageProc,    getConfirmation:      GetConfirmationProc,    getYesOrNo:           GetYesOrNoProc];     --This procedure lists the bad sectors currently in the bad sector table.   FlTapeDisplayBadSectorTable: PROCEDURE [    putMessage:           PutMessageProc,    putNumber:		  PutNumberProc,    putTimeStampMessage:  PutTimeStampMessageProc,    getConfirmation:      GetConfirmationProc];        --Message keys to be used for putting text on display.    --The comments are for easy recognition of keys,    --they do not necessarily represent the actual wording to be used.  FlTapeMessage: TYPE = {      --General    wishToContinue,	--Do you still wish to continue?(Y/N):    stillSure,		--Are you still sure?(Y/N):    ensureDriveReady,	--Please ensure that the tape drive is ready.    readyAndWrEnable,	--Please ensure that the tape drive is ready and write enabled.    successComplete,	--Successful completion.    removeCartridge,	--Please remove the tape cartridge from the drive.    uncomplete,		--Unsuccessful completion    userTerminate,	--Abort key will terminate the operation.    testTerminated,	--Utility terminated by user.        --General errors    writeProtect,	--The tape is write protected.    mediaProblem,	--Media problem.    hardwareProblem,	--Hardware problem.    driveInUse,		--Tape drive in use.    notReady,		--Drive not ready.    notFormat,		--The tape is unformatted or cannot be read or written.            --Format    warningFormat,	--Warning:  Formatting will destroy the contents of the tape cartidge.    enterTapeLabel,	--Please enter tape label:    formatTape,		--Formatting tape.    verifyFormat,	--Verifying tape format.    createDataStruc,	--Creating tape data structures.    formatFailed,	--Format failed.    alreadyFormat,	--Already formatted.    tapeLabel,		--Tape label:        --Retention    retentionTape,	--Retentioning tape.    retentFailed,	--Retention failed.        --Verify read    insertDiagTape,	--Please insert the Diagnostic Tape cartridge.    note,		--Note:  Any other tape cartridge will cause erroneous results.    verifyRead,		--Verifying Read Operations.    verifyPass,		--Verify read test passed.    verifyFail,		--Verify read test failed.    tooManySoft,	--Too many soft errors.    hardReadError,	--Hard read error on sector:    callSupport,	--Please call the Network Support Center.        --Scavenge    scavengeTape,	--Scavenging tape.    scavengeFailed,	--Scavenge failed.    unSuccessRepair,	--Unsuccessful repair.    successRepair,	--Successful repair.        --Log bad sector    sectorToEnter,	--Sector to be entered into the bad sector table:    enterToTable,	--Entering sector into bad sector table.    logSectorFailed,	--Log bad sector operation failed.        --Display bad sector table    readTable,		--Reading bad sector table.    countIs,		--Number of bad sectors:    badSectorTable,	--Contents of the bad sector table:    emptyTable,		--Bad sector table is empty.    secTableFailed,	--Display bad sector table operation failed.    badSector,		--Bad sector:    stream,		--Stream:    track,		--Track:    sector,		--Sector:        --unused messages    badSectorFull,	--Bad sector table is full.    extra1,    extra2,    extra3,    extra4,    extra5        };          END...  -- 23-Jan-87 Created by rk. A preliminary interface.-- 27-Jan-87 Added message keys.-- 30-Jan-87 Changed callbacks: added GetTextProc, GetNumberProc,--  PutNumberProc, PutTimeStampMessageProc; removed DisplayFieldsProc,--  DisplayTableProc, DisplayNumberedTableProc.--  Removed FlTapeDisplaySummaryLog procedure.-- 1-Feb-87 Condensed message keys.-- 6-Feb-87 added callbacks: PutTextProc, PutTimeStampProc, LookForAbortProc.--  Added FlTapeDisplayBadSectorTable procedure.--  Added moreFollows parameter, added and deleted message keys.-- 11-Feb-87 Added message keys, readTable and readyAndWrEnable.--  Removed unused callbacks from each procedure's parameter list.-- 31-Mar-87 Added width to PutNumberProc, added debugSwitch to FlTapeVerifyRead,--  removed FlTapeErrorLog Procedure which was for debugging but never implemented.