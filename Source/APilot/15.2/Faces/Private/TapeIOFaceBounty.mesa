-- Copyright (C) 1991 by Xerox Corporation. All rights reserved. -- TapeIOFaceBounty.mesa	last edited: 22-Apr-91 10:30:03	by CAJDIRECTORY  BountyInputOutput USING [DownNotifyMaskType, QueueType, UpNotifyMaskType],  Device USING [Type],  Environment USING [bitsPerByte],  TapeFace USING [Command, Context, Operation, Status];TapeIOFaceBounty: DEFINITIONS =  BEGIN  maxDCBs: CARDINAL = 4;	-- maximum number of drives  DeviceBitArray: TYPE = PACKED ARRAY [0..Environment.bitsPerByte) OF BOOLEAN;  DeviceBitArrayIsBigEnough: BOOLEAN[TRUE..TRUE] =    Environment.bitsPerByte >= maxDCBs;  TapeFCBType: TYPE = MACHINE DEPENDENT RECORD [    upNotify(0): BountyInputOutput.UpNotifyMaskType,    upNotifySubmask(1:0..7): DeviceBitArray,    errorStop(1:8..15): DeviceBitArray,    stopAgent(2:0..7): BOOLEAN,    agentsStopped(2:8..15): DeviceBitArray,    deviceCount(3): CARDINAL,    dcbs(4): ARRAY [0..maxDCBs) OF TapeDCBType];  TapeDCBType: TYPE = MACHINE DEPENDENT RECORD [    queue(0): BountyInputOutput.QueueType,    downNotify(8): BountyInputOutput.DownNotifyMaskType,    deviceType(9): Device.Type,    currentBlocksize(10): LONG CARDINAL,    context(12): TapeFace.Context,    recommendedBuffersize(14): LONG CARDINAL,    defaultBlocksize(16): LONG CARDINAL,    minBlocksize(18): LONG CARDINAL,    unused(20:0..11): CARDINAL[0..4096),    variableBlocksize(20:12..12): BOOLEAN,    retensionable(20:13..13): BOOLEAN,    autoRewindOnLoad(20:14..14): BOOLEAN,    autoRewindOnUnload(20:15..15): BOOLEAN,    deviceState(21): DeviceState];  DeviceState: TYPE = MACHINE DEPENDENT RECORD [    unused(0:0..11): CARDINAL[0..4096),    ownestab(0:12..12): BOOLEAN,    present(0:13..13): BOOLEAN,    dedicated(0:14..14): BOOLEAN,    ownedByMesa(0:15..15): BOOLEAN];  TapeIOCBPtr: TYPE = LONG POINTER TO TapeIOCBType;  TapeIOCBType: TYPE = MACHINE DEPENDENT RECORD [    operation(0): TapeFace.Operation,    command(7): TapeFace.Command,    dataPtr(8): LONG POINTER,    count(10): LONG CARDINAL,    incrementDataPtr(12:0..7): BOOLEAN,    agentStarted(12:8..15): BOOLEAN,    status(13): TapeFace.Status,    nextIOCB(tapeLink): TapeIOCBPtr,    goryDetails(16): UninterpretedStatus];  tapeLink: UNSPECIFIED = 14; -- used in Enqueue and Dequeue calls  UninterpretedStatus: TYPE [16];  END...LOG22-Jan-91 13:03:34	CAJ 	Created file.12-Mar-91 22:12:52	CAJ 	Renamed deviceMaskUp ¬ upNotifySubmask; deleted dcb fields loadUnloadable and selectableDeviceBuffering, added recommendedBuffersize, autoRewindOnLoad, and autoRewindOnUnload.22-Apr-91 10:29:56	CAJ 	Renamed from TapeIOFaceTrigger.  Added DeviceBitArray type and check, errorStop (to fcb), minBlocksize (to dcb).  Renamed agentAgentsActive to agentsStopped.  Increased mask arrays to byte length, replaced iocb logStatus with goryDetails.  Aligned fields.