$MOD186$PAGELENGTH (72)$PAGEWIDTH  (136);Copyright (C) 1984, 1985 by Xerox Corporation. All rights reserved.;-- IORegion locations for the rs232C handler.;-- stored as [IVAN]<WSDEV>RS232>IORRS232.asm;;-- last edited by:;	DMS		31-Oct-85 11:26:06	:Added Rs Watch Dog task TCB;	JPM   		 8-Aug-85  7:47:11	:Opie redesign conversion;	DeS   		22-Mar-85 15:46:30	:added mode and other goodiesNAME			IORRS232;--------------------------------------------------------------------------------; $NOLIST$INCLUDE		(IOPDefs.asm)$NOLIST$INCLUDE		(QueDefs.asm)$LIST;--------------------------------------------------------------------------------; ;;********************************************************************************RS232CIOR		SEGMENT		COMMON PUBLIC	rS232CMainTaskTcb, txTaskChATcb, specRxTaskChATcb, rxTaskChATcbPUBLIC	extStatTaskChATcb, rsQueueTxChA, rsQueueRxChA, rs232LockMaskPUBLIC	rs232WorkMask, rS232CFCBPUBLIC	rS232DCB, rsIOPSystemInputPort, rsBaudRateChAPUBLIC	rsWR0ofi8274ChA, rsWR1ofi8274ChA, rsWR3ofi8274ChA, rsWR4ofi8274ChA, rsWR5ofi8274ChAPUBLIC	rsWR6ofi8274ChA, rsWR7ofi8274ChAPUBLIC  rsReadRegister0, rsReadRegister1, rsReadRegister2PUBLIC  rsClientConditionChA, rs232ChAWork, txChAWork, txChAWaitXOnPUBLIC	rsEEpromImagePUBLIC	rsTTYHost, rsClientType, rs232Mode, rs232FlowControl, rsFrameTimeoutValuePUBLIC  rsBytesTransfered, rsBytesReceived PUBLIC  badTxIntCnts, badRxIntCnts, badSpecRxIntCnts, badExtStatIntCnts  PUBLIC	specErrorCount, rsOverRunErrors PUBLIC	rsRxCRCErrorCnt, badTxIntTimeout, rs232HdlOnlyPUBLIC	rsWatchDogTcbPUBLIC	saveValueRR1, rsEndFrame, rxFirstCharacterSave, rsRxActiveBuffer, rsBytesToReceivePUBLIC	rsRxWatchDogValue, rsRxFrameTimeOutValue, rsRxBufferFrameTimeout, rsRxCatchBufferCountPUBLIC	rsRxCatchBufferIndex, rsRxCatchBuffer, rsReceiverInXOFFState, rsFlowOffPUBLIC	rsCheckFlowControl, rsFlowSendByte, rsSendFlowRequest, rsTxActiveBuffer, rsBytesToTransfer RSEEpromconfigImageA	STRUCrsDeviceTypeChA 	DB	?rsChAAttributes		DB 	?RSEEpromconfigImageA	ENDSFlowControl 	STRUCflowType	DW	?xOn		DW	?xOff		DW	?FlowControl	ENDSrS232CFCB		LABEL	WORDrS232CMainTaskTcb	DB	SIZE TaskContextBlock DUP (?)txTaskChATcb		DB	SIZE TaskContextBlock DUP (?)specRxTaskChATcb	DB	SIZE TaskContextBlock DUP (?)rxTaskChATcb		DB	SIZE TaskContextBlock DUP (?)extStatTaskChATcb	DB	SIZE TaskContextBlock DUP (?)rsQueueTxChA		DB	SIZE QueueBlock DUP (?)rsQueueRxChA		DB	SIZE QueueBlock DUP (?)rs232LockMask		DW	?rs232WorkMask		DW	?rS232DCB		LABEL	WORDrsIOPSystemInputPort	DW	?	rsWorkList		DW	?rsCommandWorkList	DW	?rsBaudRateChA		DW	?;rsWR0ofi8274ChA		DB	?	;Write Register 0 for Channel A of MPSCrsWR1ofi8274ChA		DB	?	;Write Register 1 for Channel A of MPSCrsWR3ofi8274ChA		DB	?	;Write Register 3 for Channel A of MPSCrsWR4ofi8274ChA		DB	?	;Write Register 4 for Channel A of MPSCrsWR5ofi8274ChA		DB	?	;Write Register 5 for Channel A of MPSCrsWR6ofi8274ChA		DB	?	;Write Register 6 for Channel A of MPSCrsWR7ofi8274ChA		DB	?	;Write Register 7 for Channel A of MPSCrsReadRegister0		DB	?rsReadRegister1		DB	?rsReadRegister2		DB	?rsLatchedStatus		DB	?rsTTYHost		DB	?rsClientType		DB	?rs232Mode		DB	?rs232FlowControl	DB	SIZE FlowControl DUP (?)rsFrameTimeoutValue	DW	? rsClientConditionChA	DB	SIZE ClientCondition DUP (?)	rs232ChAWork		DB	SIZE Condition DUP (?)txChAWork		DB	SIZE Condition DUP (?)txChAWaitXOn		DB	SIZE Condition DUP (?)rsEEpromImage		DB	SIZE RSEEpromconfigImageA DUP (?);----  Error and status countersrsRxCRCErrorCnt		DW	?specErrorCount		DW	?rsOverRunErrors		DW	?badTxIntCnts		DW	?badRxIntCnts		DW	?badSpecRxIntCnts	DW	?badExtStatIntCnts	DW	?badTxIntTimeout		DW	?;-- The following parameters are not in the Mesa IOFacers232HdlOnly		LABEL	WORDrsBytesTransfered	DW	?rsBytesReceived		DW	?rsWatchDogTcb		DB	SIZE TaskContextBlock DUP (?);-- Inter task communication variables for rx task and spec rx tasksaveValueRR1		DB	?rsEndFrame		DB	?;-- Varriables for the receive taskrxFirstCharacterSave	DB	?rsRxActiveBuffer	DB	?rsBytesToReceive	DW	?;-- FrameTimeout parametersrsRxWatchDogValue	DW	?rsRxFrameTimeOutValue	DW	?rsRxBufferFrameTimeout	DB	?rsExtraByte1		DB	?;-- FlowControl ParametersrsRxCatchBufferCount	DW	?rsRxCatchBufferIndex	DW	?rsRxCatchBuffer		DB	64 DUP (?)rsReceiverInXOFFState	DB	?;-- Inter task communication variables for rx task and tx taskrsFlowOff		DB	?rsCheckFlowControl	DB	?rsFlowSendByte		DB	?rsSendFlowRequest	DB	?;-- For Tx for TaskrsTxActiveBuffer	DB	?rsBytesToTransfer	DW	?RS232CIOR		ENDS			END