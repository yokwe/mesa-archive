-- Copyright (C) 1982, 1983, 1984, 1985, 1986, 1987, 1988  by Xerox Corporation. All rights reserved. -- This file specifies the final merging of CODE and FRAME packs for all of UtilityPilotKernel.-- Specifically, it:-- .. merges together all KernelBasics resident--      and non-initialization swappable code packs.-- .. merges together IAmUtilityPilot with the KernelBasics--      initialization code pack, thus identifying UtilityPilotKernel. -- .. merges together all HighStore resident--      and non-initialization swappable code packs.-- .. merges together all Scavenger code packs-- .. merges together all resident and--      non-initialization swappable frame packs.-- .. merges all non-initialization frame packs of UtilityPilotKernel.-- .. merges all initialization frame packs of UtilityPilotKernel.-- 11-Jan-88 17:35:18  RSV--    Added  LVErase, LVOtherScavengerOps, LVCompaction, LVScavengerCommon to--    ScavengersResident code pack.-- 20-Nov-87 10:38:43  KEK per RSV--    Streams and UnimplementedStream is now called MostStreams.--    FileCreateDelete and FileDelete are now merged and called--    FileCreationDeletion.  VolumeCommon and CloseVolume are now merged and--    called VolumeCommonAndClose.  Added--    new pack InterpretBackingStoreRun.  OtherVolTable replaces--    VolTableSeldomUsed and OtherAccess.-- 17-Nov-86 17:58:45  Added FileLockMisc.-- 14-Jul-86 17:49:37--    Deleted LVScavengerConversion and ScavengerPublicProcs.  Changed--    CommonLabelOperations to CommonDataOperations-- 12-Jun-86 15:18:47  Deleted VamVfmCommon and TempFileManipulation.  Added FileMapOftenUsed.--  1-Feb-86 11:47:58  Added MapLogCleaning to HighStoreResident.-- 21-Aug-85 17:39:39 --    Added ResMemMgrSwappableFrames.  Changed HeapSetSizeAttributes to--    ZonePackageUncommon.  Changed HeapZoneChecking to ZoneChecking. Added--    ZoneMakeFreeNodes.  (all of this from ResMemMgr config)--  5-Dec-84 16:31:00  added VMDriverPinned.-- 12-Jan-84 14:43:21     --    Added LVScavengerConversion, FileMgrScavengerFrames and MesaRuntimeSwappableTrapsFrames--  7-Jan-84 16:29:22		Added SpaceCopyingHelper code pack.-- WDK        28-Sep-83 11:28:02  New swappable code pack.--  4-Sep-83 15:19:55   --    SpaceMapping => SpaceMap, add GetBSData.--10-Aug-83 17:16:41--    FrameImpl code packs disappeared, LoadState packs appeared. -- 21-Jul-83 10:26:34   --    Modify to reflect changes to the lower level packaging specs.-- 21-Jun-83 17:35:17   --    Adding Pinning-- 13-Jun-83 10:49:54   --    Modify to reflect another round of changes to the packaging specs.-- 18-May-83 17:28:29   --    Modify to reflect new packaging specs.-- 28-Mar-83 11:48:45   --    Add new Segment for the Scavengers. FileBasics.SwappableDiskBackingStore--    disappears.--  2-Mar-83 15:51:15   --    ProcessesCold renamed to SwappableProcess.--  4-Feb-83 14:44:46   --    Added FileCreateDelete. Improved documentation.-- 24-Dec-82 12:08:18   --    Keep IAmUtilityPilot; discard other IAm*Pilot.-- 23-Sep-82 15:18:50   --    Added SimpleSpace. Updated list of swappable packs. Disappearing code packs. Merged in UtilityPilotKernelFrames.pack (which is now obsolete). Frame packs now in leaf packs, so this file is just  final merge of frame packs. Added UtilityPilotKernelInitializationFrames.-- (See Pilot 8.0 archives for earlier entries)KernelBasicsFinalMerge: SEGMENT MERGES KernelBasicsInitialMerge =  -- This segment:  -- .. merges together all KernelBasics resident  --      and non-initialization swappable code packs.  -- .. merges together IAmUtilityPilot with the KernelBasics  --      initialization code pack, thus identifying UtilityPilotKernel. BEGIN-- IF YOU CREATE OR DELETE A CODE PACK HERE, you almost certainly will have to make a corresponding change to UtilityPilot.bootmesa!-- Earlier merged code packs:KernelBasicsInitialMerge.KernelResidentBooting;  -- Must be first.KernelSpecialResident: CODE PACK =BEGINKernelBasicsInitialMerge.KernelSpecialResident;  -- 1 of 2.KernelBasicsInitialMerge.KernelResidentRunFast;  -- 2 of 2. (ok to put in special memory)    -- NOTE: The following is a copy of the swappable code pack list in KernelBasicsPack.pack.  -- IF YOU CHANGE ANYTHING IN THE FOLLOWING LIST, you should be making the corresponding changes to KernelBasicsPack.KernelBasicsInitialMerge too.-- BEGIN list of swappable packs:  -- Control config:  SwappableSystem;  UtilityPilotBootFileBackingStore;  -- DiskDrivers config:  SwappableDiskDrivers;  Floppy;  -- MesaRuntime config:  NewUnnewModule;  ModulePerfAndLinkInfo;  BcdInfoOps;  SwappableProcess;  InLoadOutLoad;  SignalProcessing;  -- (MesaRuntime and ResMemMgr)  SnapshotMisc;  Traps;  -- Misc config:  ByteBlt;  MostStreams;  ObjAllocCommon;  OtherObjAlloc;  -- ResMemMgr config:  ZoneMakeFreeNodes;  ZonePackageUncommon;  ZoneChecking;  VMDataMapImplPinned;  -- UserTerminal config:  UserTerminalDriverSwappable;  -- VMDriver config:  VMDriverSwappable;  VMDriverPinned;  Pinning;  KernelBasicsInitialMerge.PeeCeeCode-- END list of swappable packs.END; --KernelSpecialResident code pack---- Earlier merged code packs:KernelBasicsInitialization: CODE PACK =  -- should be last (except for discards)  BEGIN  KernelBasicsInitialMerge.KernelBasicsInitialization;  IAmUtilityPilot;  END;-- Discard the following to denote that we are UtilityPilotWrongKindOfPilot: DISCARD CODE PACK =  {IAmDiagnosticPilot; IAmPilot};END; --SEGMENT KernelBasicsFinalMerge--HighStoreFinalMerge: SEGMENT MERGES HighStore =  -- This segment:  -- .. merges together all HighStore resident  --      and non-initialization swappable code packs.  -- .. merges together all HighStore initialization code packs.BEGINHighStoreResident: CODE PACK =  -- must be first!  BEGIN  HighStoreSpecialResident;  HighStoreResidentRunFast;  SpaceMap;  GetBSData;  SpaceAllocation;  VolTableCommon;  FileMapOftenUsed;  CommonDataOperations;  FileCreationDeletion;  FileCreation;  FileMapSeldomUsed;  FileMakePermanentOrTemporary;  FileSetSize;  FileAttributes;  VolumeCommonAndClose;  PVOnlineOffline;  InterpretBackingStoreRun;  OtherVolTable;  ManipulateVolumeData;  BuildingVolumes;  FileVolumeMisc;  VolumeConsistencyOps;  OpenVolume;  Othello;  ScavengerMiscUtilities;  SpaceUnmap;  SpaceCopying;  SpaceCopyingHelper;  SpaceMapLogging;  MapLogCleaning;  SpaceLargeRuns;  SpaceStatusOps;  SpaceMisc;  SpaceCodeHacking;  SpaceSpecialCreates;  SpaceProcesses;  FileLockMisc;  HighStoreBugAndCatchCode;  END;HighStoreInitialization;END; --SEGMENT HighStore--ScavengersFinalMerge: SEGMENT MERGES Scavengers =  -- This segment:  -- .. merges together all Scavengers resident  --      and non-initialization swappable code packs.  -- .. merges together Scavengers initialization code packs.BEGINScavengersResident: CODE PACK =  BEGIN  PhysicalVolumeScavenger;  LVScavenger;  LVErase;  LVOtherScavengerOps;  LVCompaction;  LVScavengerCommon;  ScavengerBugAndCatchCode;  END;  -- ScavengerResident CODE PACKScavengerInitialization;END;  -- ScavengersFinalMerge SEGMENT --UtilityPilotKernelResidentFrames: FRAME PACK MERGES  -- merges all non-initialization frame packs of UtilityPilotKernel.  ControlResidentFrames,  DiskDriversResidentFrames,  MesaRuntimeResidentFrames,  ResMemMgrResidentFrames,  ResMemMgrSwappableFrames,  UserTerminalDriverResidentFrames,  VMDriverResidentFrames,  DiskDriversSwappableFrames,  FileBasicsResidentFrames,  FileBasicsSwappableFrames,  FileMgrFrames,  FileMgrScavengerFrames,  MesaRuntimeSwappableFrames,  MesaRuntimeSwappableTrapsFrames,  MiscFrames,  VMMgrFrames;UtilityPilotKernelInitializationFrames: FRAME PACK MERGES  -- merges all initialization frame packs of UtilityPilotKernel.  DiskDriversInitializationFrames,  ResMemMgrInitializationFrames,  UserTerminalDriverInitializationFrames;-- End of UtilityPilotKernelPack.pack --