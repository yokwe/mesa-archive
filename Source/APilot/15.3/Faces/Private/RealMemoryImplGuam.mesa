-- RealMemoryImplGuam.mesa - last edit:--  JPM		 8-Mar-93  6:44:22-- Copyright (C) 1993 by Xerox Corporation.  All rights reserved.<< The following program was created in 1993 but has not been published within the meaning   of the copyright law, is furnished under license, and may not be used, copied and/or   disclosed except in accordance with the terms of said license.>>DIRECTORY  Environment USING [PageCount, PageNumber],  GuamInputOutput USING [firstRealPage, numberRealPages],  PageMap USING [RealPageNumber],  RealMemory USING [],  RealMemoryExtras USING [];RealMemoryImplGuam: PROGRAM  IMPORTS GuamInputOutput  EXPORTS RealMemory, RealMemoryExtras =  BEGIN  largestArraySize: CARDINAL = 4086;	-- supports almost 32 MB of real memory  --RealMemory.--  allocMap: PUBLIC DESCRIPTOR FOR ARRAY OF WORD ¬ DESCRIPTOR[allocMapArray];  allocMapArray: ARRAY [0..largestArraySize) OF WORD;  -- (initial state not important)<<Since no memory in Guam is reserved, the RealMemory procedures Initialize, FreeReservedMemory, and MoveIntervalToDisplayMemory are no-ops.  SpecialResidentCodeHandle is a no-op by design; PCBank returns an empty page interval to indicate that PC Emulation is not supported.>>  Initialize: PUBLIC --RealMemory.-- PROC = {};  FreeReservedMemory: PUBLIC --RealMemory.-- PROC [    keep: Environment.PageCount, bufferPage: Environment.PageNumber] = {};  MoveIntervalToDisplayMemory: PUBLIC --RealMemory.-- PROC [    page: Environment.PageNumber, count: Environment.PageCount,    bufferPage: Environment.PageNumber] = {};  SpecialResidentCodeHandle: PUBLIC --RealMemory.-- PROC = {};  PCBank: PUBLIC --RealMemoryExtras.-- PROC RETURNS [    firstPCBankPage, lastPCBankPagePlusOne: PageMap.RealPageNumber] = {    RETURN[0, 0]};<<The remaining RealMemory procedure, Count, returns a count of real pages that might ever be present in virtual memory and the minimum and maximum real page numbers. This implementation uses GuamInputOutput variables.>>   Count: PUBLIC --RealMemory.-- PROC RETURNS [    count: Environment.PageCount, realPageMin, realPageMax: PageMap.RealPageNumber] =    BEGIN    count ¬ GuamInputOutput.numberRealPages;    realPageMin ¬ GuamInputOutput.firstRealPage;    realPageMax ¬ count - 1    END;  END.LOG 8-Mar-93 -- JPM -- Created from RealMemoryImplBounty.