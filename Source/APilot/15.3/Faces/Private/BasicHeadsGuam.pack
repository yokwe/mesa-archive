-- File: BasicHeadsGuam.pack -- edited:	22-Apr-93 16:38:07 by JPM-- Copyright (C) 1993 by Xerox Corporation. All rights reserved.BasicHeads: SEGMENT =BEGINBasicHeadsResident: CODE PACK =  BEGIN  EthernetHeadGuam [ENTRY VECTOR, AddCleanup];  DiskHeadGuam [    ENTRY VECTOR, InitializeCleanup,  -- must be in BasicHeadsResident    Initiate, Poll];  -- put here to run fast  FloppyHeadGuam [ENTRY VECTOR, InitializeCleanup];  TTYPortHeadGuam [ENTRY VECTOR, InitializeCleanup];  UserTerminalHeadGuam [ENTRY VECTOR, InitializeCleanup];  END;BasicHeadsSpecialResident: CODE PACK =  BEGIN  EthernetHeadGuam [    GetNextDevice, GetPacketLength, GetPacketsMissed, GetRetries, GetStatus,    QueueInput, QueueOutput, RemoveCleanup, TurnOff, TurnOn];  DiskHeadGuam [    DetermineDiskShape, GetControllerAttributes, GetDeviceAttributes, GetDeviceType,    GetDriveInfo, GetFormattingUnit, GetNextController, GetNextDevice,    Recalibrate, Reset, SuggestedTries];  UserTerminalHeadGuam [    BeepOff, BeepOn, BitPlanes, COLORBLTMono, COLORBLT16, COLORBLT256, Connect, Disconnect,    GetBitBltTable, GetBorderColorValue, GetBorderPattern, GetColorValue,    GetCursorColorValue, GetCursorPattern, SetBackground, SetBorderPattern, SetColorValue,    SetCursorPattern, SetCursorPosition, SetPosition, TurnOn, TurnOff, UpdateDisplay,    WRITEPIXEL];  ProcessorHeadGuam [    ENTRY VECTOR, BootButton, CountCSBanks, DoveMachineTypeInfo, GetGreenwichMeanTime,    MachineTypeInfo, SetMP];  RealMemoryImplGuam [    ENTRY VECTOR, SpecialResidentCodeHandle <<MUST  be in special memory >>];  SetGMTUsingEthernet [    FixupClock, SetClockRate, ENTRY VECTOR];  END;SmoothScrollingScrolling: CODE PACK = {  UserTerminalHeadGuam [    Scroll]};SmoothScrollingCreateDelete: CODE PACK = {  UserTerminalHeadGuam [CreateScrollWindow, DeleteScrollWindow]};SwappableBasicHeads: CODE PACK = {  ProcessorHeadGuam [    PowerOff, SetAutomaticPowerOn, ResetAutomaticPowerOn,  -- not needed for swapping.    SetGreenwichMeanTime];  -- used very seldom  FloppyHeadGuam [    DiskChangeClear, GetContext, GetDeviceAttributes, GetLogStatus, GetNextDevice,    GetStatistics, GetTapeParameters, Initiate, LogicalAddressToPhysicalAddress,    MaxTracksPerFormatOperation, Poll, Reset, Retention, SetContext, SuggestedTries];  UserTerminalHeadGuam [    GetMapExtent, SetBorderColorValue, SetCursorColorValue, SetMapExtent, SetMapPriority,    SoftwareColorBlt, SoftwareWritePixel];  };SwappableTTYHeads: CODE PACK =  BEGIN  TTYPortHeadGuam[    GetCommand, GetLineCount, GetStatus, Off, On, PutCommand, SendBreak, SetParameter];  END;BasicHeadsInitialization: CODE PACK =  BEGIN  ProcessorHeadGuam [GetNextAvailableVM, Start, UnimplementedTrapHandler, MAIN];  EthernetHeadGuam [Start, MAIN];  HeadStartChainPlug [Start, ENTRY VECTOR, MAIN];  DiskHeadGuam [    InitializeController, InitializeTrackBuffer, PagesForTrackBuffering, Start, MAIN];  FloppyHeadGuam [Initialize, Start, MAIN];  SetGMTUsingEthernet [MAIN, EthernetExists, GetNetworkGMT, SetGMT];  TTYPortHeadGuam [Start, MAIN];  UserTerminalHeadGuam [Initialize, Start, MAIN];  RealMemoryImplGuam [    Count, FreeReservedMemory, Initialize, MoveIntervalToDisplayMemory, PCBank, MAIN];  END;END;BasicHeadsResidentFrames: FRAME PACK =  BEGIN  EthernetHeadGuam;  ProcessorHeadGuam;  RealMemoryImplGuam;  DiskHeadGuam;  FloppyHeadGuam;  TTYPortHeadGuam;  SetGMTUsingEthernet;  HeadStartChainPlug;  UserTerminalHeadGuam;  END;