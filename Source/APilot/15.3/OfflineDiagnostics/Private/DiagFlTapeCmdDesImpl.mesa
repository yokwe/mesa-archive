-- Copyright (C) 1987  by Xerox Corporation. All rights reserved.---- File: DiagFlTapeCmdDesImpl.mesa-- Edited by: PJT 11-Mar-87 16:21:55--  DIRECTORY DiagFlTapeCmdDes	USING	[CommandRecord, Command], DiagFlTapeCmdDrive	USING	[EndLoop, NoOp, SetEndOfFile,				 StartLoop, TimeDelay], DiagFlTapeCmds		USING	[ResetController, ClearDiskChange, Retention,				-- Recalibrate, SetStream, Seek,				 NoOp, ReadID, ReadSector, WriteSector,				 WriteDelSector, FormatTrack--, ReadTrack--], DiagFlTapeDisplay	USING	[LastReadStatus, LastReadID,				 ReadData, WriteData--, DisplayContext--], DiagFlTapeLog		USING	[ClearLog, LogErrors, StopLoggingErrors,				 ClearTrace, TraceCommands, StopTracingCommands,				 DisplayErrorLog, DisplayTrace], DiagFlTapeMkIOCmd	USING	[mkIOCmd]; 				  DiagFlTapeCmdDesImpl: PROGRAM      IMPORTS	DiagFlTapeCmdDrive,	DiagFlTapeCmds,	DiagFlTapeDisplay,	DiagFlTapeLog,	DiagFlTapeMkIOCmd     EXPORTS	DiagFlTapeCmdDes = BEGIN     OPEN	DiagFlTapeMkIOCmd;  -- describes each individual command and its requirements CmdDescriptArray: PUBLIC LONG DESCRIPTOR FOR ARRAY  DiagFlTapeCmdDes.Command OF 		 DiagFlTapeCmdDes.CommandRecord ¬ DESCRIPTOR[FlTapeCmdArray]; FlTapeCmdArray: ARRAY DiagFlTapeCmdDes.Command OF DiagFlTapeCmdDes.CommandRecord; --00. noOpertn FlTapeCmdArray[noOpertn].cmdProc	¬DiagFlTapeCmdDrive.NoOp; -- clearLog FlTapeCmdArray[clearLog].commandName	¬mkIOCmd[clearLog]; FlTapeCmdArray[clearLog].explanation	¬mkIOCmd[clearLogExpl]; FlTapeCmdArray[clearLog].cmdProc	¬DiagFlTapeLog.ClearLog;  -- startLog FlTapeCmdArray[startLog].setLogging	¬TRUE; FlTapeCmdArray[startLog].commandName	¬mkIOCmd[startLogging]; FlTapeCmdArray[startLog].explanation	¬mkIOCmd[startLoggingExpl]; FlTapeCmdArray[startLog].cmdProc	¬DiagFlTapeLog.LogErrors;  -- stopLog FlTapeCmdArray[stopLog].resetLogging	¬TRUE; FlTapeCmdArray[stopLog].commandName	¬mkIOCmd[stopLogging]; FlTapeCmdArray[stopLog].explanation	¬mkIOCmd[stopLoggingExpl]; FlTapeCmdArray[stopLog].cmdProc	¬DiagFlTapeLog.StopLoggingErrors;  -- clrTrace FlTapeCmdArray[clrTrace].commandName	¬mkIOCmd[clearTrace]; FlTapeCmdArray[clrTrace].explanation	¬mkIOCmd[clearTraceExpl]; FlTapeCmdArray[clrTrace].cmdProc	¬DiagFlTapeLog.ClearTrace;  -- strTrace FlTapeCmdArray[strTrace].setTracing	¬TRUE; FlTapeCmdArray[strTrace].commandName	¬mkIOCmd[startTrace]; FlTapeCmdArray[strTrace].explanation	¬mkIOCmd[startTraceExpl]; FlTapeCmdArray[strTrace].cmdProc	¬DiagFlTapeLog.TraceCommands;	  -- stpTrace FlTapeCmdArray[stpTrace].resetTracing	¬TRUE; FlTapeCmdArray[stpTrace].commandName	¬mkIOCmd[stopTrace]; FlTapeCmdArray[stpTrace].explanation	¬mkIOCmd[stopTraceExpl]; FlTapeCmdArray[stpTrace].cmdProc	¬DiagFlTapeLog.StopTracingCommands;	 -- strtLoop FlTapeCmdArray[strtLoop].needParam	¬TRUE; FlTapeCmdArray[strtLoop].setLooping	¬TRUE; FlTapeCmdArray[strtLoop].needLoopCount	¬TRUE; FlTapeCmdArray[strtLoop].commandName	¬mkIOCmd[startLoop]; FlTapeCmdArray[strtLoop].explanation	¬mkIOCmd[startLoopExpl]; FlTapeCmdArray[strtLoop].cmdProc	¬DiagFlTapeCmdDrive.StartLoop;	 -- endLoop FlTapeCmdArray[endLoop].resetLooping	¬TRUE; FlTapeCmdArray[endLoop].commandName	¬mkIOCmd[endLoop]; FlTapeCmdArray[endLoop].explanation	¬mkIOCmd[endLoopExpl]; FlTapeCmdArray[endLoop].cmdProc	¬DiagFlTapeCmdDrive.EndLoop;	 -- timDelay FlTapeCmdArray[timDelay].needParam	¬TRUE; FlTapeCmdArray[timDelay].needDelay	¬TRUE; FlTapeCmdArray[timDelay].commandName	¬mkIOCmd[timeDelay]; FlTapeCmdArray[timDelay].explanation	¬mkIOCmd[timeDelayExpl]; FlTapeCmdArray[timDelay].cmdProc	¬DiagFlTapeCmdDrive.TimeDelay; -- displLog FlTapeCmdArray[displLog].commandName	¬mkIOCmd[displayLog]; FlTapeCmdArray[displLog].explanation	¬mkIOCmd[displayLogExpl]; FlTapeCmdArray[displLog].cmdProc	¬DiagFlTapeLog.DisplayErrorLog; -- disTrace FlTapeCmdArray[disTrace].commandName	¬mkIOCmd[displayTrace]; FlTapeCmdArray[disTrace].explanation	¬mkIOCmd[displayTraceExpl]; FlTapeCmdArray[disTrace].cmdProc	¬DiagFlTapeLog.DisplayTrace;	 -- displSts FlTapeCmdArray[displSts].commandName	¬mkIOCmd[displayStatus]; FlTapeCmdArray[displSts].explanation	¬mkIOCmd[displayStatusExpl]; FlTapeCmdArray[displSts].cmdProc	¬DiagFlTapeDisplay.LastReadStatus; -- displID FlTapeCmdArray[displID].commandName	¬mkIOCmd[displayID]; FlTapeCmdArray[displID].explanation	¬mkIOCmd[displayIDExpl]; FlTapeCmdArray[displID].cmdProc	¬DiagFlTapeDisplay.LastReadID; -- displRDt FlTapeCmdArray[displRDt].commandName	¬mkIOCmd[displayRdData]; FlTapeCmdArray[displRDt].explanation	¬mkIOCmd[displayRdDataExpl]; FlTapeCmdArray[displRDt].cmdProc	¬DiagFlTapeDisplay.ReadData; -- displWDt FlTapeCmdArray[displWDt].commandName	¬mkIOCmd[displayWrData]; FlTapeCmdArray[displWDt].explanation	¬mkIOCmd[displayWrDataExpl]; FlTapeCmdArray[displWDt].cmdProc	¬DiagFlTapeDisplay.WriteData; -- rstContl FlTapeCmdArray[rstContl].isIOCmd	¬TRUE; FlTapeCmdArray[rstContl].needsLogging	¬TRUE; FlTapeCmdArray[rstContl].commandName	¬mkIOCmd[resetCont]; FlTapeCmdArray[rstContl].explanation	¬mkIOCmd[resetContExpl]; FlTapeCmdArray[rstContl].cmdProc	¬DiagFlTapeCmds.ResetController; -- clrDkChn FlTapeCmdArray[clrDkChn].isIOCmd	¬TRUE; FlTapeCmdArray[clrDkChn].needsLogging	¬TRUE; FlTapeCmdArray[clrDkChn].commandName	¬mkIOCmd[clearDiskChange]; FlTapeCmdArray[clrDkChn].explanation	¬mkIOCmd[clearDiskChangeExpl]; FlTapeCmdArray[clrDkChn].cmdProc	¬DiagFlTapeCmds.ClearDiskChange;<< -- recal FlTapeCmdArray[recal].isIOCmd		¬TRUE; FlTapeCmdArray[recal].needsLogging	¬TRUE; FlTapeCmdArray[recal].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[recal].commandName	¬mkIOCmd[recalibrate]; FlTapeCmdArray[recal].explanation	¬mkIOCmd[recalibrateExpl]; FlTapeCmdArray[recal].cmdProc		¬DiagFlTapeCmds.Recalibrate; >><< -- seek FlTapeCmdArray[seek].isIOCmd		¬TRUE; FlTapeCmdArray[seek].needVrfyHdr	¬TRUE; FlTapeCmdArray[seek].needsLogging	¬TRUE; FlTapeCmdArray[seek].needParam		¬TRUE; FlTapeCmdArray[seek].needTrack		¬TRUE; FlTapeCmdArray[seek].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[seek].commandName	¬mkIOCmd[seek]; FlTapeCmdArray[seek].explanation	¬mkIOCmd[seekExpl]; FlTapeCmdArray[seek].cmdProc		¬DiagFlTapeCmds.Seek; >> -- retntn FlTapeCmdArray[retntn].isIOCmd		¬TRUE; FlTapeCmdArray[retntn].needsLogging	¬TRUE; FlTapeCmdArray[retntn].needParam	¬TRUE; FlTapeCmdArray[retntn].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[retntn].commandName	¬mkIOCmd[retention]; FlTapeCmdArray[retntn].explanation	¬mkIOCmd[retentionExpl]; FlTapeCmdArray[retntn].cmdProc		¬DiagFlTapeCmds.Retention; -- noOp FlTapeCmdArray[noOp].isIOCmd		¬TRUE; FlTapeCmdArray[noOp].needsLogging	¬TRUE; FlTapeCmdArray[noOp].needParam		¬TRUE; FlTapeCmdArray[noOp].needTrack		¬TRUE; FlTapeCmdArray[noOp].needTryCount	¬TRUE; FlTapeCmdArray[noOp].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[noOp].commandName	¬mkIOCmd[noOp]; FlTapeCmdArray[noOp].explanation	¬mkIOCmd[noOpExpl]; FlTapeCmdArray[noOp].cmdProc		¬DiagFlTapeCmds.NoOp; -- readID FlTapeCmdArray[readID].isIOCmd		¬TRUE; FlTapeCmdArray[readID].needsLogging	¬TRUE; FlTapeCmdArray[readID].needParam	¬TRUE; FlTapeCmdArray[readID].needTrack	¬TRUE; FlTapeCmdArray[readID].need0sInRdBuff	¬TRUE; FlTapeCmdArray[readID].needTryCount	¬TRUE; FlTapeCmdArray[readID].xfersData	¬TRUE; FlTapeCmdArray[readID].rtrnsParam	¬TRUE; FlTapeCmdArray[readID].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[readID].commandName	¬mkIOCmd[readID]; FlTapeCmdArray[readID].explanation	¬mkIOCmd[readIDExpl]; FlTapeCmdArray[readID].cmdProc		¬DiagFlTapeCmds.ReadID; -- rdSector FlTapeCmdArray[rdSector].isIOCmd	¬TRUE; FlTapeCmdArray[rdSector].fastRunning	¬TRUE; FlTapeCmdArray[rdSector].needsLogging	¬TRUE; FlTapeCmdArray[rdSector].needParam	¬TRUE; FlTapeCmdArray[rdSector].needTrack	¬TRUE; FlTapeCmdArray[rdSector].needSector	¬TRUE; FlTapeCmdArray[rdSector].needSectorCnt	¬TRUE; FlTapeCmdArray[rdSector].need0sInRdBuff¬TRUE; FlTapeCmdArray[rdSector].needTryCount	¬TRUE; FlTapeCmdArray[rdSector].needUse1Buff	¬TRUE; FlTapeCmdArray[rdSector].needVrfyData	¬TRUE; FlTapeCmdArray[rdSector].xfersData	¬TRUE; FlTapeCmdArray[rdSector].rtrnsParam	¬TRUE; FlTapeCmdArray[rdSector].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[rdSector].commandName	¬mkIOCmd[readSector]; FlTapeCmdArray[rdSector].explanation	¬mkIOCmd[readSectorExpl]; FlTapeCmdArray[rdSector].cmdProc	¬DiagFlTapeCmds.ReadSector; -- wrSector FlTapeCmdArray[wrSector].isIOCmd	¬TRUE; FlTapeCmdArray[wrSector].fastRunning	¬TRUE; FlTapeCmdArray[wrSector].needsLogging	¬TRUE; FlTapeCmdArray[wrSector].needParam	¬TRUE; FlTapeCmdArray[wrSector].needTrack	¬TRUE; FlTapeCmdArray[wrSector].needSector	¬TRUE; FlTapeCmdArray[wrSector].needSectorCnt	¬TRUE; FlTapeCmdArray[wrSector].needData	¬TRUE; FlTapeCmdArray[wrSector].needTryCount	¬TRUE; FlTapeCmdArray[wrSector].needUse1Buff	¬TRUE; FlTapeCmdArray[wrSector].xfersData	¬TRUE; FlTapeCmdArray[wrSector].rtrnsParam	¬TRUE; FlTapeCmdArray[wrSector].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[wrSector].commandName	¬mkIOCmd[writeSector]; FlTapeCmdArray[wrSector].explanation	¬mkIOCmd[writeSectorExpl]; FlTapeCmdArray[wrSector].cmdProc	¬DiagFlTapeCmds.WriteSector; -- wrDlSctr FlTapeCmdArray[wrDlSctr].isIOCmd	¬TRUE; FlTapeCmdArray[wrDlSctr].needsLogging	¬TRUE; FlTapeCmdArray[wrDlSctr].needParam	¬TRUE; FlTapeCmdArray[wrDlSctr].needTrack	¬TRUE; FlTapeCmdArray[wrDlSctr].needSector	¬TRUE; FlTapeCmdArray[wrDlSctr].needSectorCnt	¬TRUE; FlTapeCmdArray[wrDlSctr].needData	¬TRUE; FlTapeCmdArray[wrDlSctr].needTryCount	¬TRUE; FlTapeCmdArray[wrDlSctr].needUse1Buff	¬TRUE; FlTapeCmdArray[wrDlSctr].xfersData	¬TRUE; FlTapeCmdArray[wrDlSctr].rtrnsParam	¬TRUE; FlTapeCmdArray[wrDlSctr].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[wrDlSctr].commandName	¬mkIOCmd[writeDelSector]; FlTapeCmdArray[wrDlSctr].explanation	¬mkIOCmd[writeDelSectorExpl]; FlTapeCmdArray[wrDlSctr].cmdProc	¬DiagFlTapeCmds.WriteDelSector; -- formatTk FlTapeCmdArray[formatTk].isIOCmd	¬TRUE; FlTapeCmdArray[formatTk].needsLogging	¬TRUE; FlTapeCmdArray[formatTk].needParam	¬TRUE; FlTapeCmdArray[formatTk].needTrack	¬TRUE; FlTapeCmdArray[formatTk].needTkCnt	¬TRUE; FlTapeCmdArray[formatTk].needFillByte	¬TRUE; FlTapeCmdArray[formatTk].needTryCount	¬TRUE; FlTapeCmdArray[formatTk].needUse1Buff	¬TRUE; FlTapeCmdArray[formatTk].xfersData	¬TRUE; FlTapeCmdArray[formatTk].rtrnsParam	¬TRUE; FlTapeCmdArray[formatTk].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[formatTk].commandName	¬mkIOCmd[formatTrack]; FlTapeCmdArray[formatTk].explanation	¬mkIOCmd[formatTrackExpl]; FlTapeCmdArray[formatTk].cmdProc	¬DiagFlTapeCmds.FormatTrack;<< -- readTk FlTapeCmdArray[readTk].isIOCmd	¬TRUE; FlTapeCmdArray[readTk].needsLogging	¬TRUE; FlTapeCmdArray[readTk].needParam	¬TRUE; FlTapeCmdArray[readTk].needTrack	¬TRUE; FlTapeCmdArray[readTk].need0sInRdBuff	¬TRUE; FlTapeCmdArray[readTk].needTryCount	¬TRUE; FlTapeCmdArray[readTk].xfersData	¬TRUE; FlTapeCmdArray[readTk].rtrnsParam	¬TRUE; FlTapeCmdArray[readTk].rtrnsIOStatus	¬TRUE; FlTapeCmdArray[readTk].commandName	¬mkIOCmd[readTrack]; FlTapeCmdArray[readTk].explanation	¬mkIOCmd[readTrackExpl]; FlTapeCmdArray[readTk].cmdProc		¬DiagFlTapeCmds.ReadTrack; >> -- endOFile FlTapeCmdArray[endOFile].setRunCmdFile	¬TRUE; FlTapeCmdArray[endOFile].commandName	¬mkIOCmd[endOfFile]; FlTapeCmdArray[endOFile].explanation	¬mkIOCmd[endOfFileExpl]; FlTapeCmdArray[endOFile].cmdProc	¬DiagFlTapeCmdDrive.SetEndOfFile;   END....--of DiagFlTapeCmdDesImpl.mesa 