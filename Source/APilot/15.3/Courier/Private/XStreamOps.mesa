-- File: XStreamOps.mesa - last edit:-- AOF                  3-Jun-87 18:08:15-- Copyright (C) 1986, 1987 by Xerox Corporation. All rights reserved.DIRECTORY  BulkData USING [Identifier],  CourierInternal USING [ConnectionHandle],  System USING [HostNumber, NetworkNumber, nullNetworkNumber, nullHostNumber],  XStream USING [Request];XStreamOps: DEFINITIONS =  BEGIN  Address: TYPE = MACHINE DEPENDENT RECORD[    net: System.NetworkNumber, host: System.HostNumber];  nullAddress: Address = [System.nullNetworkNumber, System.nullHostNumber];  Handle: TYPE = LONG POINTER TO Object;  Object: TYPE = RECORD[    link: Handle ¬ NIL,    identifier: BulkData.Identifier,  --ID of original creator    seal: ObjectSeal ¬ new,  --gives us state of completion/deletion    request: XStream.Request ¬ TRASH,  --this is what local client wants    use: IndicatedUse ¬ undeclared,  --shows what he wants to do    attentionProc: PROCESS ¬ NIL,  --to watch for remote aborts    courier: CourierInternal.ConnectionHandle,  --back pointer to owner    variant: SELECT type: * FROM      null => [],      immediate => [],      deferred => [passive, active: CourierInternal.ConnectionHandle ¬ NIL],      active => [	rendezvous: CONDITION, process: PROCESS, passive: Address ¬ nullAddress],      passive => [	rendezvous: CONDITION, process: PROCESS, active: Address ¬ nullAddress],      cancel => [rendezvous: CONDITION, process: PROCESS],      ENDCASE];  ObjectSeal: TYPE = MACHINE DEPENDENT{    smashed(0), new(1985), old, rendezvous, transferring, finished, cancelled,    (LAST[CARDINAL])};  IndicatedUse: TYPE = {    undeclared, puts, gets, deferred, cancel, truncated};  StartProtocol: PROCEDURE;  StopProtocol: PROCEDURE;  END....  --XStreamOps--LOG 3-Jun-87 18:08:12  AOF  Add rendezvous state to ObjectSeal