-- File: PacketTimer.mesa - last edit:-- AOF                 30-May-86 19:20:58-- gillies.PA          10-Apr-85 11:34:58-- ExpeditedCourier's Library of PacketExchange handles.-- Copyright (C) 1985, 1986 by Xerox Corporation. All rights reserved.DIRECTORY  NSBuffer USING [Buffer],  PacketExchange USING [ExchangeHandle];PacketTimer: DEFINITIONS = BEGIN    tries: CARDINAL;  -- number of times to retransmit (for initial impl., 6)    ResponseProc: TYPE = PROCEDURE [replyBuffer: NSBuffer.Buffer, hops: CARDINAL];    -- called back once by "SendPackets" if the PacketExchange call returns.   Checkout: PROCEDURE[hops: CARDINAL] RETURNS[pxH:PacketExchange.ExchangeHandle];    -- Returns a packet Exchange Handle good for sending a single packet      Checkin: PROCEDURE[    pxH: PacketExchange.ExchangeHandle, hops: CARDINAL, timeout: LONG CARDINAL];    -- Checks in a packet Exchange Handle.  Updates timing statistics.    -- Most clients will use Checkout/SendPackets instead of this.  SendPackets: PROCEDURE[pxH: PacketExchange.ExchangeHandle,    requestBuffer: NSBuffer.Buffer,    firstResponse: ResponseProc, numberOfPackets: CARDINAL ¬ tries];    -- Transmits packets to the foreign host.  If the foreign host responds    -- then the responseProc is called back with the first response.  The    -- Packet Exchange handle should be derived from a -Checkout-, and    -- should be used to derive the requestBuffer.  Checks in the    -- ExchangeHandle, and deletes the requestBuffer and the replyBuffer.        ReadTimeout: PROCEDURE[hops: CARDINAL] RETURNS[timeout: LONG CARDINAL];    -- returns a retransmission timeout (in milliseconds).    END..LOG13-Mar-85 23:47:21 DWG  restructured to simplify and add SendPackets proc.  