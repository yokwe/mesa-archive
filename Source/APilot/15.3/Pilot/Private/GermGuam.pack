-- GermGuam.pack--Copyright (C) 1993  by Xerox Corporation. All rights reserved.-- 7-Jul-93  9:59:29	JPM	added BootChannelStream and CoProcessorHeadGuam.-- 8-Mar-93  7:56:55	JPM	created file.BasicHeadsGuam: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  HeadStartChainPlug [MAIN, Start];  ProcessorHeadGuam [    MAIN, BootButton, GetGreenwichMeanTime, PowerOff,    ResetAutomaticPowerOn, SetAutomaticPowerOn,    SetGreenwichMeanTime, Start, UnimplementedTrapHandler];  END;Resident: CODE PACK =  BEGIN  HeadStartChainPlug EXCEPT Initialization;  ProcessorHeadGuam EXCEPT Initialization;  END;      END; --SEGMENT--BasicHeadsGuamFrames: FRAME PACK =  BEGIN  HeadStartChainPlug;  ProcessorHeadGuam;  END;BasicGerm: SEGMENT =BEGINResident: CODE PACK =  BEGIN  GermOpsImpl EXCEPT Initialization;  GermOpsLinkageImpl EXCEPT Initialization;  END;-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  GermOpsImpl [MAIN, CodeTrap, Start];  GermOpsLinkageImpl [MAIN];  END;END; --SEGMENT--BasicFrames: FRAME PACK =  BEGIN  GermOpsImpl;  GermOpsLinkageImpl;  END;FloppyHeadsGuam: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  FloppyHeadGuam [MAIN, Start];  END;Discard: DISCARD CODE PACK =  BEGIN  FloppyHeadGuam [InitializeCleanup, MaxTracksPerFormatOperation, Reset];  END;Resident: CODE PACK =  BEGIN  FloppyHeadGuam EXCEPT Initialization, Discard;  END;END; --SEGMENT--FloppyHeadsGuamFrames: FRAME PACK =  BEGIN  FloppyHeadGuam;  END;Floppy: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  BootChannelFloppy [MAIN];  END;Resident: CODE PACK =  BEGIN  BootChannelFloppy [ENTRY VECTOR, Create];  END;  -- memory that can be reclaimed postboot...  Temporary: CODE PACK =  BEGIN  BootChannelFloppy EXCEPT Initialization, Resident;  END;    END; --SEGMENT--FloppyFrames: FRAME PACK =  BEGIN  BootChannelFloppy;  END;-- End of FloppyPack.pack--  Disk: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  BootChannelDisk [MAIN];  END;  Resident: CODE PACK =  BEGIN  BootChannelDisk EXCEPT Initialization;  END;    END; --SEGMENT--DiskFrames: FRAME PACK =   BEGIN   BootChannelDisk;   END;   DiskHeadsGuam: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  DiskHeadGuam[    MAIN, GetDeviceType, GetFormattingUnit, InitializeCleanup, Recalibrate, Start];  END;  Resident: CODE PACK =  BEGIN  DiskHeadGuam EXCEPT Initialization;  END;    END; --SEGMENT--DiskHeadsGuamFrames: FRAME PACK =  BEGIN  DiskHeadGuam;  END;EthernetHeadsGuam: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  EthernetHeadGuam [    MAIN, AddCleanup, GetPacketsMissed, GetRetries, RemoveCleanup, Start];  END;Resident: CODE PACK =  BEGIN  EthernetHeadGuam EXCEPT Initialization;  END;      END; --SEGMENT--EthernetHeadsGuamFrames: FRAME PACK =  BEGIN  EthernetHeadGuam;  END;Ethernet: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  BootChannelSPP [MAIN];  SimpleNSIOEthernetImpl [MAIN];  TeledebugImpl [MAIN];  END;  Resident: CODE PACK =  BEGIN  BootChannelSPP EXCEPT Initialization;  SimpleNSIOEthernetImpl EXCEPT Initialization;  TeledebugImpl EXCEPT Initialization;  END;    END; --SEGMENT--EthernetFrames: FRAME PACK =  BEGIN  BootChannelSPP;  SimpleNSIOEthernetImpl;  TeledebugImpl;  END;Stream: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  BootChannelStream [MAIN];  END;  Resident: CODE PACK =  BEGIN  BootChannelStream EXCEPT Initialization;  END;    END; --SEGMENT--StreamFrames: FRAME PACK =   BEGIN   BootChannelStream;   END;   StreamHeadsGuam: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  CoProcessorHeadGuam[    MAIN, Initialize, Start];  END;Discard: DISCARD CODE PACK =  BEGIN  CoProcessorHeadGuam[    GetSST, InitializeCleanup, Put, SetSST];  END;Resident: CODE PACK =  BEGIN  CoProcessorHeadGuam EXCEPT Initialization, Discard;  END;    END; --SEGMENT--StreamHeadsGuamFrames: FRAME PACK =  BEGIN  CoProcessorHeadGuam;  END;<< The Marker routines are no-op dummies whose sole purpose is to delimit the Floppy code pack and the Initialization code pack.  The order of the code packs is what does the delimiting; don't disturb it! >><< be sure the germ-specific GermDiskGuamStart, GermOpsImplGuam are included in this segment >>Start: SEGMENT =BEGIN-- memory that can be reclaimed postboot...Initialization: CODE PACK =  BEGIN  GermGuamStart [MAIN, Start];  GermOpsImplGuam [MAIN];  END;  Resident: CODE PACK =  BEGIN  GermGuamStart EXCEPT Initialization;  GermOpsImplGuam EXCEPT Initialization;  END;  END; --StartPack SEGMENT----StartFrames: FRAME PACK =--  BEGIN--  GermGuamStart;--  GermOpsImplGuam;--  END;Markers: SEGMENT =BEGINGatesOfHellMarker: CODE PACK =  BEGIN  GermMarkersImpl EXCEPT BeforeMarker, MiddleMarker, AfterMarker;   --i.e., [ENTRY VECTOR, MAIN, GatesOfHellMarker]  END;BeforeMarker: CODE PACK =  BEGIN  GermMarkersImpl [BeforeMarker];  END;MiddleMarker: CODE PACK =  BEGIN  GermMarkersImpl [MiddleMarker];  END;AfterMarker: CODE PACK =  BEGIN  GermMarkersImpl [AfterMarker];  END;END; --Markers SEGMENT--StartAndMarkerFrames: FRAME PACK =  BEGIN  GermGuamStart;  GermOpsImplGuam;  GermMarkersImpl;  END;  GermGuamPack: SEGMENT MERGES   BasicHeadsGuam, FloppyHeadsGuam, DiskHeadsGuam, EthernetHeadsGuam, StreamHeadsGuam,  BasicGerm, Floppy, Disk, Ethernet, Stream, Start, Markers =BEGIN----GatesOfHellMarker: CODE PACK =----  BEGIN----  Markers.GatesOfHellMarker;----  END;Resident: CODE PACK =  BEGIN  BasicHeadsGuam.Resident;  DiskHeadsGuam.Resident;  EthernetHeadsGuam.Resident;  StreamHeadsGuam.Resident;  BasicGerm.Resident;  Floppy.Resident;  Disk.Resident;  Ethernet.Resident;  Stream.Resident;  Start.Resident;  END;----BeforeMarker: CODE PACK =----  BEGIN----  Markers.BeforeMarker;----  END;  Floppy: CODE PACK =  BEGIN  FloppyHeadsGuam.Resident;  Floppy.Temporary;  END;----MiddleMarker: CODE PACK =----  BEGIN----  Markers.MiddleMarker;----  END;Initialization: CODE PACK =  BEGIN  BasicHeadsGuam.Initialization;  FloppyHeadsGuam.Initialization;  DiskHeadsGuam.Initialization;  EthernetHeadsGuam.Initialization;  StreamHeadsGuam.Initialization;  BasicGerm.Initialization;  Floppy.Initialization;  Disk.Initialization;  Ethernet.Initialization;  Stream.Initialization;  Start.Initialization;  END;  Discard: DISCARD CODE PACK =  BEGIN  FloppyHeadsGuam.Discard;  StreamHeadsGuam.Discard;  END;----AfterMarker: CODE PACK =----  BEGIN----  Markers.AfterMarker;----  END;    END; --SEGMENT--    ResidentMergedFrames: FRAME PACK MERGES  BasicHeadsGuamFrames,  FloppyHeadsGuamFrames,  DiskHeadsGuamFrames,  EthernetHeadsGuamFrames,  StreamHeadsGuamFrames,  BasicFrames,  FloppyFrames,  DiskFrames,  EthernetFrames,  StreamFrames,  StartAndMarkerFrames;-- End of  GermGuam.pack--    