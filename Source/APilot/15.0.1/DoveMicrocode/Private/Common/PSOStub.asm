$MOD186			 $PAGELENGTH (72)$PAGEWIDTH  (136);Copyright (C) 1987 by Xerox Corporation. All rights reserved.;;-- stored as [BamBam:Osbu North]<WMicro>Dove>PSOStub.asm;-- created on 22-Jun-87 16:01:40 JMA;;-- Last edited by:;;;==========================  Parallel Port Option Stub  ==================	NAME	PSOStub			;Parallel Port Option Stub	;==========================  INCLUDE  DECLARATIONS  ========================== $NOLIST$INCLUDE		(IOPDefs.asm)	;$INCLUDE		(HardDefs.asm)	;$INCLUDE		(IOPMacro.asm)	;$INCLUDE		(OpieDefs.asm)	;$LISTEXTRN PPOHandlerID 	  :ABS		;SP Option Handler IDEXTRN PSOHandlerID 	  :ABS		;LP Option Handler ID;==========================  OPIE CODE  SEGMENT  ====================================IOPELocalRam		SEGMENT AT 0EXTRN HandlerInitProcTable: SegmentAndOffsetIOPELocalRam		ENDS				;==========================  CODE  SEGMENT  ====================================IOPEInRAM       SEGMENT	PUBLIC			;codes reside in RAM                ASSUME  CS:IOPEInRAM		ASSUME	DS:NOTHING;-------------------------  PUBLIC DECLARATION  ---------------------------------PUBLIC		PSOInit;*******************************************************************************;*                                 *;*        PSO Stub Init            *;*                                 *;***********************************;PSO stub will start the PPO handler instead of Opie then vanish forever.;This stub is necessary so that EEPROM = LPO may be able to run with the new;PPO handler.;Note: For further reference, see RamInit.asm.;PSOInit  	PROC    FAR		ASSUME	ES: IOPELocalRAM		MOV	BX, PPOHandlerID		IMUL	BX, SIZE SegmentEntry	;get index into table		PUSH	ESJumpStartPPO:	CALL	ES: DWORD PTR HandlerInitProcTable[BX]		POP	ES		ASSUME 	ES: NOTHING		RETPSOInit  	ENDPIOPEInRAM	ENDS;********************************************************************************;		E N D	O F	P S O	S T U B		         		*;********************************************************************************		END