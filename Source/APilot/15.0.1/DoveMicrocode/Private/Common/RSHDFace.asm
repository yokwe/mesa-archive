;Copyright (C) 1984 by Xerox Corporation. All rights reserved.;-- file RSHDFace.asm;-- last edited by:;	JPM	 8-Aug-85  8:26:19	:Comment out i8274VarVect (it's in HardDefs now);	DMS	26-Mar-85 16:47:17	:Updates;----------------------------------------------------------------serialCRCRstUnderRun	EQU	0C0h	;D7-D6 = 11b;-------------------------------------;  i8254 Mode Inst Bits Def:i8254SelCount0		EQU	00H	; Select Counter 0i8254LSBthenMSB		EQU	30H	; R/L ls byte first, then ms bytei8254DivideByN		EQU	04H     ; Mode 2 -- Rate Generatori8254SqWave		EQU	06H	; Mode 3 -- Square Wave Geni8254BinaryCount	EQU	00H	; as 16-bit binary counter;;--------------------------------------------------------------------------------;(Intel 8274)		RS232C Channel A (Comm port);	Write and Read Register Definitions;-- Write Register 0 description;i8274ChanReset		EQU	018hi8274ErrorReset		EQU	030hi8274RstExtStat		EQU	010hi8274RstTxUndEOM	EQU	0C0Hi8274EOI		EQU	038h; CRC Reset Codesi8274CommCRCNull	EQU	000h	;D7-D6 = 00bi8274CommCRCRstRx	EQU	040h	;D7-D6 = 01bi8274CommCRCRstTx	EQU	080h	;D7-D6 = 10b;; Basic commandsserialCmd0		EQU	00h	;D5-D3 = 000b					;NullserialCmd1		EQU	08h	;D5-D3 = 001b					;send AbortSerialCmd2		EQU	10h	;D5-D3 = 010b					;Reset External/Status InterruptsserialCmd3		EQU	18h	;D5-D3 = 011b					;Channel ResetserialCmd4		EQU	20h	;D5-D3 = 100b					;Enable Rx InterruptsserialCmd5		EQU	28h	;D5-D3 = 101b					;Reset Tx InterruptsserialCmd6		EQU	30h	;D5-D3 = 110b					;Error ResetserialCmd7		EQU	38h	;D5-D3 = 111b					;End of Interrupt;-- Write Register 1 description;i8274VarVect		EQU	004h	:in HardDefs.asmi8274TxInt		EQU	002hi8274ExtInt		EQU	001H;-- Write Register 3 descriptioni8274Rx8BitChar		EQU	0C0hi8274Rx7BitChar		EQU	40hi8274Rx6BitChar		EQU	80hi8274Rx5BitChar		EQU	00hrxCharLength		EQU	0C0HrxChar7Bits		EQU	7FHrxChar6Bits		EQU	3FHrxChar5Bits		EQU	1FHi8274AutoEnable		EQU	020H;-- Write Register 4 descriptioni8274x16Clock		EQU	040hi8274StopBits2		EQU	00Chi8274StopBits1		EQU	004hi8274OddParity		EQU	001hi8274EvenParity		EQU	003h;-- Write Register 5 descriptioni8274Tx8BitChar		EQU	060hi8274Tx7BitChar		EQU	020hi8274RxEnable		EQU	001hi8274TxEnable		EQU	008hi8274Dtr		EQU	080hi8274Rts		EQU	002h;-- Read Register 0 descriptionserialTxReady		EQU	04h	;Tx buffer emptyi8274SerialCDetect	EQU	08h	;Carrier detectserialSyncHunt		EQU	10h	;Sync/Hunt status bitserialCTS		EQU	20h	;Clear to SendserialTxUnderrun	EQU	40h	;Tx Underrun serialBreak		EQU	80h	;Break detectedi8274IntPending		EQU	002h;-- Read Register 1 descriptionserialParityError	EQU	10h	;Parity error statusserialRxOverrun		EQU	20h	;Rx overrun errorserialFrameError	EQU	40h	;CRC/Framing errorserialEndOfFrame	EQU	80h	;End of Frame in SDLC mode;;; BaudRateTable:;Constant  to load into 8254 counter to generate baud rates for the i8274 MPSC;Input freq to 8254 counter is 4 MHz, set up 8274 to divide its clock input by 16;   4 MHz / 208 / 16 = 1200 baud rate;-------------------------------------;BaudRateTable:Baud50		EQU		5000Baud75		EQU		3334Baud110		EQU		2272Baud150		EQU		1667Baud300		EQU		833Baud600		EQU		417Baud1200	EQU		208Baud1800	EQU		138Baud2000	EQU		126Baud2400	EQU		104Baud3600	EQU		69Baud4800	EQU		52Baud7200	EQU		35Baud9600	EQU		26;RS232C IOP Control Register and Bit Values;The following signals are input from the IOP port: DSR, RingIndicator, & DTR;-------------------------------------iopDSR		EQU		400H	;DSR (active low)iopRingIndctr	EQU		200H	;Ring Indicator (active low)iopDTR		EQU		100H	;DTR (active low)