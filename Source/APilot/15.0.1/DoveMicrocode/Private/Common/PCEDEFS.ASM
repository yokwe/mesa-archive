;Copyright (C) 1984 by Xerox Corporation. All rights reserved.;-- IORegion locations for the bootstrap handler.;-- stored as [Iris]<WMicro>Dove>PCEDefs.asm;; This file contains constants for use by the PCE handlers.;; General Note: PREPEND ALL CONSTANTS WITH THE LETTER p (FOR PCE). This will ;eliminate any error that might result in trying to define new PCE constants that;are already defined elsewhere.;-- last edited by:;--	CWM	23-Nov-86 20:44:51	: Added Keyboard Down Notify Masks;--	FHB	13-Oct-86 13:16:10	: Added Serial Down Notify Masks;--	FHB	11-Sep-86 16:01:38	: Added serialPauseMask;--	FHB	27-Aug-86 10:27:54	: Added Serial Notify Mask;--	AGK   	 5-Dec-85 14:31:56	: Changed values for up notify masks ;--	HNH   	 4-Dec-85 13:35:33	: Made file consistent with PCEInterface.mesa ;--	GPV   	 3-Dec-85 13:28:31	: Added diskPauseMask;--	AGK   	30-Jul-85 14:21:06	: Added conditional assembly constant;--	AGK   	22-Jul-85 18:20:41	: Added runPCE masks;--	AGK   	17-Jul-85 15:46:33	: Added new notify masks;--	AGK   	10-Jul-85 10:30:22	: Added pEnableTimer constants;--	AGK   	24-Jun-85 17:37:57	: Etch 2 Board upgrade (B0);--	AGK   	17-May-85  1:04:38	: Added Up/Down notify constants;--	AGK   	28-Mar-85 15:03:18	: Fixed different files versions;--	HNH  	12-Mar-85 19:25:25	: Incorrect 8254 address ports  offset changed to proper values;--	MLT   	27-Feb-85 10:39:15	: Added pseudoConfigSwitch constants;--	MLT   	 4-Dec-84 17:24:31	: Fixed bug;--	MLT   	 3-Dec-84 17:00:01	: Added PCE Printer status masks;--	AGK   	 2-Dec-84 16:18:05	: Added PCE Up/Down notify masks;--	GXV      14-Nov-84 11:26:06	: Added DMA channel defs;--	GXV      13-Nov-84  9:42:22	: Added DMA and Lo/Hi Nybles;--    	CWM	 8-Nov-84 17:36:20	: Deleted keyboard constants;--	GXV       7-Nov-84 10:23:38	: Deleted floppy constants;--	AGK	10-Oct-84 11:43:16	: Added and updated some dispatcher constants;--	AGK	 8-Oct-84 14:59:31	: Bookkeeping. First assembled version;--	CWM	 2-Oct-84 12:16:20	: Added keyboard constants;--	GXV	13-Sep-84 10:57:18	: Added floppy constants, ioTrappedStatus bits and Global defs;--	GXV	 6-Sep-84 17:21:43	: Change Floppy constants;--	AGK	 5-Sep-84 18:26:07	: IOP IO Address Map added;--	GXV	 3-Aug-84 16:58:38	: Creation;;--------------------------------------------------------------------------------; Conventions for labels:; 	p186	=	PC Emulator 80186;	p8259	=	8259A PIC on PCE Board;	p8253	=	8254 PIT on PCE Board;	p8255	=	8255 PPI on PCE Board;--------------------------------------------------------------------------------; ; PCE IO Address Map for Opie Handlers (PCS3'); See PCE schematics (UNguyen.ES) Rev.A, 8/4/84, Page 21a;; Base IO Addresses;p8259Base	EQU	PCS3Base + 0Hp8254Base	EQU	PCS3Base + 8Hp8255Base	EQU	PCS3Base + 10HpIOTrapperBase	EQU	PCS3Base + 40HpInterruptBase	EQU	PCS3Base + 60H; Due to peculiar hardware (!), the dirty bits will be read as follows:; 160H to 17EH (in increments of two) then 140 H to 15EHpDisplayBase	EQU	PCS2Base + 60H; 8259A Programmable Interrupt Controller;p8259Addr0	EQU	p8259Base + 0H	p8259Addr1	EQU	p8259Base + 2H; 8254 Programmable Interval Timer;p8254Count0	EQU	p8254Base + 0Hp8254Count1	EQU	p8254Base + 2Hp8254Count2	EQU	p8254Base + 4Hp8254CtrlWord	EQU	p8254Base + 6H; IO Read will clear timer 0 interrupt from 8254 to PCE186 (via 8259A)pTimerIntClear	EQU	pIOTrapperBase + 0EH; 8255 Programmable Peripheral Interface;p8255PortBAddr	EQU	p8255Base + 0H	; Port B only - else tdb in software; IO Trapper;pIOTrapperStat		EQU	pIOTrapperBase + 0HpIOTrapperLo		EQU	pIOTrapperBase + 2HpIOTrapperHi		EQU	pIOTrapperBase + 4HpIOTrapperDataLo	EQU	pIOTrapperBase + 6HpIOTrapperDataHi	EQU	pIOTrapperBase + 8HpEnableTimer		EQU	pIOTrapperBase + 0EH; Interrupt Controller Inputs;pIRQ0		EQU	pInterruptBase + 0H	; NMIpIRQ1		EQU	pInterruptBase + 2H	; KeyboardpIRQ2		EQU	pInterruptBase + 4H	; ReservedpIRQ3		EQU	pInterruptBase + 6H	; Async (secondary)pIRQ4		EQU	pInterruptBase + 8H	; Async (Primary)pIRQ5		EQU	pInterruptBase + 0AH	; Rigid DiskpIRQ6		EQU	pInterruptBase + 0CH	; Floppy DiskpIRQ7		EQU	pInterruptBase + 0EH	; Parallel Printer;--------------------------------------------------------------------------------; PC Dispatcher Constants; Masks for isolating the different status bits of the ioTrappedStatus byte provided by PCE hardwarepIOTrapInOutBit	EQU	00000001B	; S0' (0 for OUT, 1 for IN)pIOTrapAA00	EQU	00000010B	; AA00pIOTrapBHE	EQU	00000100B	; BHE'pIOTrapNumOfWr	EQU	00001000B	; Number Of WritespIOTrapLock	EQU	00010000B	; LOCK'pIOCycleMask	EQU	00001110B	; #OFWRITES, BHE' & AA00pIOTrapOddByte	EQU	00000010B	; per Uoc message 2 Sep 84 10:44 PDTpIOTrapEvenByte	EQU	00000100B	;pIOTrapOddWord	EQU	00001100B	;pIOTrapEvenWord	EQU	00000000B	;; Bit masks for a bytepBit0		EQU	01H	; To detect D0pBit1		EQU	02H	; To detect D1pBit2		EQU	04H	; To detect D2pBit3		EQU	08H	; To detect D3pBit4		EQU	10H	; To detect D4pBit5		EQU	20H	; To detect D5pBit6		EQU	40H	; To detect D6pBit7		EQU	80H	; To detect D7pLowNyble	EQU	0FH	; Low four bitspHighNyble	EQU	0F0H	; Low four bits;--------------------------------------------------------------------------------; Support for new trapping mechanismpNMIBaseAddress		EQU	08H	; Offset of base of NMI vectorpNMICorrectOffset	EQU	0D010H	; Offset of NMI Correction in PC LogicalpNMICorrectSegment	EQU	0F000H	; Segment of NMI Correction in PC LogicalpSaveNMILo		EQU	0D000H	;pSaveNMIHi		EQU	0F000H	;;--------------------------------------------------------------------------------; Support for Down NotificationpceBootNotifyMask	EQU	8000HpceConfigureNotifyMask	EQU	4000HpceExitNotifyMask	EQU	2000HpceMouseDownNotifyMask	EQU	1000HpceSerialRxNotifyMask	EQU	0800HpceSerialTxNotifyMask	EQU	0400HpceKeyboardDNMask	EQU	0200H;--------------------------------------------------------------------------------; Support for Up NotificationpceDisplayNotifyMask	EQU	8000HpceFloppyNotifyMask	EQU	4000HpceRigidDiskNotifyMask	EQU	2000HpcePrinterNotifyMask	EQU	1000HpceTimerNotifyMask	EQU	0800HpceKeyboardNotifyMask	EQU	0400HpceMouseNotifyMask	EQU	0200HpceSerialNotifyMask	EQU	0100H;--------------------------------------------------------------------------------; runPCE masksagentPauseMask		EQU	80HfloppyPauseMask		EQU	40HprinterPauseMask	EQU	20HdiskPauseMask		EQU	10HtimerPauseMask		EQU	08HserialPauseMask		EQU	04H;--------------------------------------------------------------------------------; Code compression booleans used for conditional assemblies%SET (CodeExpanded, 0);--------------------------------------------------------------------------------; 8259A Emulation Supportp8259EOI	EQU	20H	; Non-specific EOI to 8259AibmPC8259Addr0	EQU	20HibmPC8259Addr1	EQU	21H;--------------------------------------------------------------------------------; 8253-5 Emulation Support thru PCE Board 8254p8253ReadOnFly		EQU	30H	; Isolate D4,D5 in Control WordibmPC8253Count0		EQU	40HibmPC8253Count1		EQU	41HibmPC8253Count2		EQU	42HibmPC8253CtrlWord	EQU	43H;--------------------------------------------------------------------------------; 8255 Emulation SupportibmPC8255PortA		EQU	60HibmPC8255PortB		EQU	61HibmPC8255PortC		EQU	62HibmPC8255Control	EQU	63H;--------------------------------------------------------------------------------; DMA ChannelspceDMAMemoryChannel	EQU	0pceDMAFloppyChannel	EQU	1pceDMARigidDiskChannel	EQU	2pceDMAMiscChannel	EQU	3pceDMAChannel0Addr	EQU	0pceDMAChannel0ByteCount	EQU	2pceDMAFloppyAddr	EQU	8pceDMAFloppyByteCount	EQU	0AHpceDMARigidAddr		EQU	8pceDMARigidByteCount	EQU	0AHpceDMAChannel1Addr	EQU	0CHpceDMAChannel1ByteCount	EQU	0EHpceDMA0Page		EQU	0pceDMAFloppyPage	EQU	1pceDMARigidDiskPage	EQU	2pceDMA3Page		EQU	3;--------------------------------------------------------------------------------;pseudoConfigSwitch constantsswitch0		EQU	01F0Hswitch1		EQU	01F1Hswitch2		EQU	01F2H