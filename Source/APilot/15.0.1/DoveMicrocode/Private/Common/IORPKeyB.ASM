$	DEBUG MOD186$	PAGELENGTH (72)$	PAGEWIDTH  (136);;--	Copyright (C) 1984,1985 by Xerox Corporation. All rights reserved.	;-- The following program was created in 1984 but has not been published within;-- the meaning of the copyright law. It is furnished under license, and may not;-- be used, copied and/or disclosed except in accordance with the terms of said;-- license.;-- IORPKeyb.asm created  2-Oct-84  9:27:03 by CWM. ;-- Log:;--	13-Aug-85 16:19:30 by JPM -- Opie redesign conversion;--	29-Jul-85  1:05:25 by CWM -- dual in;--	11-Jun-85 22:21:22 by AGK -- Deleted kdpTestTask;--	28-Jan-85 10:55:07 by MLT -- Made Conditions local;--	19-Dec-84  3:07:22 by AGK -- Added moreKDPKludge - Don't know why!! - KBBufferMaxIndex decremented to 63 due to FCB size allocation overflow;--     26-Nov-84 20:59:03 by CWM -- Converted to handle indexed buffer;--      8-Nov-84  7:39:39 by CWM -- Handles byte instead of word codes     ;--	24-Oct-84  7:57:21 by CWM -- Localized Equates;--      9-Oct-84 11:11:33 by CWM -- Include identifier changes in PCE Defs;--	 3-Oct-84  8:35:09 by CWM -- Include dummyWord;-- 	 2-Oct-84  9:27:03 by CWM -- Creation		NAME	IORPKeyb;--------------------------------------------------------------------------------; $NOLIST$INCLUDE	(IOPDefs.asm)$LIST;--------------------------------------------------------------------------------; Keyboard defsPUBLIC	KBBufferMaxIndexKBBufferMaxIndex		EQU	63;--------------------------------------------------------------------------------; ;;********************************************************************************PCEKeyboardIOR			SEGMENT	COMMON PUBLIC	pceKeyboardTaskPUBLIC	pceKeyboardWorkMask, pceKeyboardHandlerStatePUBLIC	KBBufferIN, KBBufferOUT, KBBufferPUBLIC	pceKeyboardConditionClear, pceKeyboardConditionWorkPUBLIC	codePtrpceKeyboardFCB			LABEL	WORDpceKeyboardTask			taskContextBlock  <>pceKeyboardWorkMask		DW		?	pceKeyboardHandlerState		DW		?	KBBufferIN			DB		?		KBBufferOUT			DB		?KBBufferFirst			LABEL	BYTE	KBBuffer			DB		KBBufferMaxIndex+1 DUP (?); Conditions used only on IOP sidepceKeyboardConditionClear	Condition  <>	pceKeyboardConditionWork	Condition  <>codePtr				DB		?PCEKeyboardIOR			ENDS		END