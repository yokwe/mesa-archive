$MOD186$PAGELENGTH (72)$PAGEWIDTH  (136);Copyright (C) 1985 by Xerox Corporation. All rights reserved.;-- IORegion segment for Opie and its tasks (RAM expansion).;-- stored as [Iris]<WMicro>Dove>IOROpieX.asm;;-- last edited by:;--	kek	11-Aug-86 16:14:57	:changes for multiple options support;--	JPM	29-Jul-85 16:01:19	:Make segment COMMON;--	JPM	28-Jun-85 14:01:36	:Use HardOpie.asm (which now includes RAM-needed data);--	JPM	27-Jun-85 17:48:03	:CreationNAME			IOROpieX;--------------------------------------------------------------------------------; $NOLIST$INCLUDE		(IOPDefs.asm)$INCLUDE		(OpieDefs.asm)$INCLUDE		(HardOpie.asm)$LIST;--------------------------------------------------------------------------------; ;;********************************************************************************OpieIORinRAM		SEGMENT		WORD COMMON ;workMaskConditionPtrs is defined (almost) last in IOROpie;  so we can expand the table and then add new stuff after it			DW	15 DUP (?)PUBLIC			RAMworkMaskLimitRAMworkMaskLimit	EQU	32;RAM-code location for workNotifierBitsPUBLIC			RAMworkNotifierBitsRAMworkNotifierBits	DW	2 DUP (?)	; work notify words;options DMA queue definitionsPUBLIC DMAQueueDMAQueue		IOPEQueue	<>DMAQueueType		EQU		3waitForDMAState		EQU		waitForTimeState;for now...;RAM-based ControllerBlocksPUBLIC			RAMCBbaseLocationRAMCBbaseLocation	LABEL	WORD%*DEFINE(Controller(name,intType,slaveEOIPort,PendPort,MaskPort))($GENONLY%IF(%EQS(%whereDefined,RAM)) THEN (PUBLIC			%name%(Controller)%name%(Controller)	ControllerBlock	<>)FI);End Controller macro definition$SAVE			%InterruptControllers$RESTORE;RAM-based InterruptContextBlocksPUBLIC			RAMICBbaseLocationRAMICBbaseLocation	LABEL	WORD%*DEFINE(x(name,controlname,channel,slaveEOIcommand,enableMask))($GENONLY%IF(%EQS(%whereDefined,RAM)) THEN (PUBLIC			%name%(ICB)%name%(ICB)		InterruptContextBlock	<>)FI);End x macro definition$SAVE			%Devices$RESTOREOpieIORinRAM		ENDS			END