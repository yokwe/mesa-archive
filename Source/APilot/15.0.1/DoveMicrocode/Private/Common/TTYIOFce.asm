;Copyright (C) 1984 by Xerox Corporation. All rights reserved.;-- File = TtyIOFce.asm	;-- IORegion locations for the TTY handler (Printer port).;-- stored as [Idun]<WDLion>Dove>TtyIOFce.asm;;-- last edited ;	DMS		18-Sep-85 15:54:13	:Got rid of 8 byte buffer;	DMS   		 3-Mar-85 13:47:10	;Additions and reordered;--	PxE .es		  9-Jan-85 16:23:49	;real IORegion for Tty;------------------------------------------------------------------------------$INCLUDE		(IOPDefs.asm);------------------------------------------------------------------------------;;Description:;;This Module contains part of the IORegion (IOPage equivalent on the Dlion) which;is a region of memory that is permanently mapped into contiguous Real Memory.;The IORegion is common to both Mesa and the IOP, it is laid out in;DoveInputOutput.mesa in terms of blocks of words and offsets for the head;in the mesa world. It is partitioned in function Context Blocks for Tty ;;******************************************************************************;Task Context Blocks entry points for the printer portTTYEEpromconfigImageB	STRUCttyDeviceTypeChB 	DB	?ttyAttributesChB	DB 	?TTYEEpromconfigImageB	ENDSTtyFcbRecord		STRUCTxTcb			DB	SIZE TaskContextBlock DUP (?)specRxTcb		DB	SIZE TaskContextBlock DUP (?)RxTaskChBTcb		DB	SIZE TaskContextBlock DUP (?)ttyLockMask		DW	?ttyWorkMask		DW	?ttyClientCondition	DB  	SIZE ClientCondition DUP (?)	ttyWorkCondition	DB	SIZE Condition DUP (?)txBuffer		DB 	?rXBuffer		DB 	?ttyWorkList		DW	?ttyBaudRate		DW	?wr1			DB	?wr3			DB	?wr4			DB	?wr5			DB	?iopSystemInputPort	DB	?rr0			DB	?rr1			DB	?rr2			DB	?ttyStatusWord		DW	?eepromImage		DB 	SIZE TTYEEpromconfigImageB DUP (?)badTTYTxInt		DW	?badTTYRxInt		DW	?badSpecRxInt		DW	?TtyFCBRecord		ENDS;				********************************ChBInitParmsRec	STRUCerrReset	DB	?	;i8274ErrorReset		;Reset any channel error		DB	?	;4			;Point to Register 4bwr4		DB	?			;WR 4		DB	?	;1			;Point to Register 1bwr1		DB	?			;WR 1		DB	?	;3			;Point to Register 3bwr3		DB	?			;WR 3		DB	?	;5			;Point to Register 5bwr5		DB	?			;WR 5ex1reset	DB	?	;Reset external status interrupt is done twice		ex2reset	DB	?	;since the MPSC storesup to 2 states internally		eot		DB      ?	;0		;End of tableChBInitParmsRec	ENDS;				********************************;-- TTY IORegion Descriptive Constants; Work list bit descriptionsttyWorkBaudRate	EQU	 	8000HttyWorkWR3	EQU		4000HttyWorkWR4	EQU		2000HttyWorkWR5	EQU		1000HworkToBeDone	EQU		0800HttyWorkWR1	EQU		0400H; status word bit descriptionsttyChnlBOn	EQU		4000HttyTxBufEmpty	EQU		2000HttyRxBufFull	EQU		1000HttyInterruptFail EQU		0200HttyDataLost	EQU		0100H