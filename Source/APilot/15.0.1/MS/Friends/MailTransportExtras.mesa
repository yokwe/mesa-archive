-- Copyright (C) 1984  by Xerox Corporation. All rights reserved. -- MailTransportExtras.mesa  -  Mail Transport Stub Procedures-- last edited by Wobber,  29-May-84 13:34:29DIRECTORY  Auth USING [IdentityHandle],  MailTransport USING [ContentsType, MessageID, NameList, Undeliverables],  NSDataStream USING [Source],  System USING [NetworkAddress];  MailTransportExtras: DEFINITIONS =  BEGIN  -- Friends-level access to 'posting slot'.  PostDirected: PROC [    identity: Auth.IdentityHandle, recipients: MailTransport.NameList,    postIfInvalidRecipients, allowDLRecipients: BOOLEAN,    contentsType: MailTransport.ContentsType, contents: NSDataStream.Source,    where: LONG POINTER TO System.NetworkAddress ¬ NIL]    RETURNS [undeliverables: MailTransport.Undeliverables,     msgID: MailTransport.MessageID];  << ERRORS: InvalidRecipients, Error EXCEPT {connection, access, handle};    Searches for a 'mail drop' and attempts to deliver the message contents specified by the bulk data source.  Top level recipients are validated.  IF postIfInvalidRecipients=FALSE, the existence of invalid recipients will cause the SIGNAL InvalidRecipients to be raised.  IF allowDLRecipients=FALSE, the existence of dls in the recipient list will cause the SIGNAL InvalidRecipients to be raised.  If postIfInvalidRecipients=TRUE, the message will be sent to all valid recipients, irregardless of the existence of invalid recipients ... InvalidRecipients will not be raised.  Recipients names MUST be fully qualified. >>    END.                  