;MoonPPTCB.ASM -- Parallel Port Option (DASH2) Boot Diagnostic;created by: JMA 14-Jul-86 13:32:31;;last edited by:;	JMA	16-Sep-87 17:30:57	:Added SmartLoopback;	JMA	11-Aug-86 16:06:02	:;	JMA	 8-Apr-87 17:18:13	:removed SoftReset test for Inca;	JMA	21-Apr-87 16:07:55	:re-arranged tests;;---------------------------------------------------------------------------	NAME	MoonPPTCB$	TITLE	(PPOTCBlocks)$	NOLIST$	INCLUDE (MOONSYS.def)			$	INCLUDE (MOONLINK.def)$	INCLUDE	(MoonPPO.def)$	LIST		MonitorCode	SEGMENT  COMMON;-----------------------------------------------------------------; Monitor Test Control Block          ORG 	ExtTCBlockLoc;PPOTCBblock	STRUC			- PPO Test Control Block; PPOCSControl	 DB	00H; PPOTestControl DB	00H	; PPOPageParity	 DB	00H		; PPOBankParity	 DB	00H		; ErrorLoop	 DB	00H		- ; TESType	 DB	00H; WORDPattern	 DW	04142H		- ASCII of AB; NUMBERofPass	 DB	00H; LASTpass	 DB	00H; PORTstatus	 DW	0000H; PPOstatus	 DW	0000H; PPOFault	 DB	00H		- Information on PPO fault; PPOSpareByte	 DB	00H		; CnfigRegVal	 DW	0006H		- set useAck/useBusy & Period value;PPOTCBblock	 ENDS	 ;Word Maintenance Loopback TestTestNum0 PPOTCBblock <00, 00, 00, 00, 00, SmartLoopback, 4241H, 0FFH, 00, 0000, 0000, 00, 00, 0006H>		;Word Maintenance Loopback TestTestNum1 PPOTCBblock <00, 00, 00, 00, 00, MaintLoopBack, 4241H, 0FFH, 00, 0000, 0000, 00, 00, 0006H>	 ;Word DMA Transfer Out, Port0TestNum2 PPOTCBblock <00, 00, 00, 00, 00, DMAWordsOutP0, 0000, 01, 00, 0000, 0000, 00, 00, 0006H>		;Byte DMA Transfer Out Port0TestNum3 PPOTCBblock <00, 00, 00, 00, 00, DMABytesOutP0, 0000, 01, 00, 0000, 0000, 00, 00, 0006H>	 ;LPO PROM Error TestTestNum4 PPOTCBblock <00, 00, 00, 00, 00, LPOFaultIntrp, 0000, 02, 00, 0000, 0000, 00, 00, 0006H>;----- PPO Specific Tests -------;Word DMA Transfer Out Port 1TestNum5 PPOTCBblock <00, 00, 00, 00, 00, DMAWordsOutP1, 0000, 01, 00, 0000, 0000, 00, 00, 0006H>		;Byte DMA Transfer Out Port1TestNum6 PPOTCBblock <00, 00, 00, 00, 00, DMABytesOutP1, 0000, 01, 00, 0000, 0000, 00, 00, 0006H>;Port0 Hard ResetTestNum7 PPOTCBblock <00, 00, 00, 00, 00, HardResetP0, 0000, 01, 00, 0000, 0000, 00, 00, 0016H>;Data Regr LoopbackTestNum8 PPOTCBblock <00, 00, 00, 00, 00, DataRLoopback, 4241H, 0FFH, 00, 0000, 0000, 00, 00, 0006H>;PPO PROM Error TestTestNum9 PPOTCBblock <00, 00, 00, 00, 00, PPOFaultIntrp, 0000, 02, 00, 0000, 0000, 00, 00, 0006H>;Port1 Hard ResetTestNum10 PPOTCBblock <00, 00, 00, 00, 00, HardResetP1, 0000, 01, 00, 0000, 0000, 00, 00, 0016H>;-------------------------------- SCANNER COMMANDS --------------------------------;Initialize WS Communication -- TestNum11 PPOTCBblock <00, 00, 00, 00, 00, InitWSComm, 0000, 01, 00, 0000, 0000, 00, 00, 0016H>MonitorCode	ENDS		END 