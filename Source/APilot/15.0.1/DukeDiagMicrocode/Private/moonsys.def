;; Definitions.;  Program mode, stored in location Mode.i8259MasterAddr0 EQU  00h		;Master 8259 address 0i8259MasterAddr1 EQU  02h		;Master 8259 address 2i8259SlaveAddr0 EQU  010h		;Slave 8259 address 0i8259SlaveAddr1 EQU  012h		;Slave 8259 address 2i8259OptionsSlaveAddr0 EQU  060h	;Option Slave 8259 address 0i8259OptionsSlaveAddr1 EQU  062h	;Option Slave 8259 address 2;i8259MasICW1	EQU	011h	;ICW1, edge triggered, cascade mode, ICW4 neededi8259MasICW2	EQU	020h	;interrupt types 20h-27hi8259MasICW3 	EQU	060h	;i8259MasICW4	EQU	011h	;SFNM, Not Buffered, Normal EOI, 86/88 modei8259SlvICW1	EQU	011h	;ICW1, edge triggered, cascade mode, ICW4 neededi8259SlvICW2	EQU	030h	;interrupt types 30h-37hi8259SlvICW3 	EQU	005h	;This slave is connected to IR5 of the masteri8259SlvICW4	EQU	001h	;not SFNM, Not Buffered, Normal EOI, 86/88 modei8259OptionsSlaveICW1 EQU  013h	;ICW1, edge triggered, single mode, ICW3 not needed, ICW4 not neededi8259OptionsSlaveICW2 EQU  048h	;interrupt types 48h-4Fhi8259OptionsSlaveICW3 EQU  007h ;This slave is connected to IR6 of the slavei8259OptionsSlaveICW4 EQU  001h ;not SFNM, Not Buffered, Normal EOI, 86/88 modei8259AllInhibited     EQU  0FFh	;All interrupts are inhibited...;-----------------------------------------------------------------i8274IntPending	EQU	002hi8274EOI		EQU	038h;-----------------------------------------------------------------i8254Ctlr	EQU  026hi8254Count0	equ	020hi8254Count1	equ	022hi8254Count2	EQU     024h;-----------------------------------------------------------------KbdUartData	EQU  030h		;keyboard UART write & read dataKbdUart		EQU  032h		;keyboard UART write cmd & read statusWrRstCtlReg	EQU  0C0h		;Write Reset Control RegisterWrCtlReg	EQU  080hWriteConfigReg	EQU  0D0h		;EEPROM address;-----------------------------------------------------------------;DayBreak InfoDayBreakPort	equ 0B0hHaltOnBit	equ 00HIntMasaOnBit	equ 100HReadPNIA	equ 400HNoBits	equ 200HCSStartPort	equ 8000hBankPort	equ 0E000h;-----------------------------------------------------------------;WrRstCtlReg BitsENetLpBk	equ 8000hEnKbLpBk	equ 4000hAllowEEProm	equ 2000hResetDmaFifo	equ 0200HResetRDC	equ 0100hIOPRestPC	equ 0080HRstMesaP	equ 0040hResetKb		equ 0020HResetDebugCtlr	equ 0010HRstKbUart	equ 0008HRstFDCtlr	equ 0004HRstRS232Ctlr	equ 0002HRstENetCtlr	equ 0001HNoResets	EQU  3FFHResetAll        EQU  3EFH;-----------------------------------------------------------------;WrCtlReg BitsEnableMem	equ 8000hEnTimer0	equ 4000hFDDMoterOn	equ 2000HFDDInUse	equ 1000HAllowTmrTC	equ 0800HFDDSpeed	equ 0400HSelChAIntClk	equ 0200HEnDCEClk	equ 0100HFDDDrive	equ 0010HFDDDriveRate	equ 0008HFDDPreCom	equ 0002H;-----------------------------------------------------------------;Data from control store is port 080H bit 13 i.e. CSReadPort	EQU	080H 	;bit 13 contains data from Sirius shift registerSiriusPort	EQU	0B0H 	;The port for controlling the Sirius chip;bit 7: RAMWrEnable;bit 6: CSShift';bit 5: CSDOe;bit 4: shift data;bit 3: ShiftClk;bit 2: Halt';bit 1: ResetSChip';bit 0: IOPIntSChipRam		EQU  8000HNCSShift	EQU  4000HCSShift		EQU  0CSDOe		EQU  2000HSData		EQU  1000HSClock		EQU  800HNHalt		EQU  200HIOPInt		EQU  100HCSDataBit	EQU  2000H;-----------------------------------------------------------------InputPort	EQU  80h		;keyboard UART write cmd & read statusLEDPort		EQU  90h		;;Input Port ;Dip0		equ	1	; ;Dip1		equ	2	; ;Dip2		equ	4	; ;Dip4		equ	8	; DayBreakType	equ	40h	; Map0PCE		equ 0E010hMap1PCE		equ 0E011hMap2PCE		equ 0E012hMap3PCE		equ 0E013hMap4PCE		equ 0E014hMap5PCE		equ 0E015hMap6PCE		equ 0E016hMap7PCE		equ 0E017hMap0IOP		equ 0E018hMap1IOP		equ 0E019hMap2IOP		equ 0E01AhMap3IOP		equ 0E01BhMap4IOP		equ 0E01ChMap5IOP		equ 0E01DhMap6IOP		equ 0E01EhMap7IOP		equ 0E01Fh;++++++++++++++++++++++++++++++++;Commands for the i8251A;;-------------------------------------; i8251A UART Mode Inst Bits Def:;-------------------------------------i8251StopBits2		EQU	0C0Hi8251StopBits15		EQU	80Hi8251StopBits1		EQU	40Hi8251EvenParity		EQU	20Hi8251OddParity		EQU	00Hi8251ParityYes		EQU	01Hi8251ParityNo		EQU	00Hi8251Char8Bits		EQU	0CHi8251Char7Bits		EQU	08Hi8251Char6Bits		EQU	04Hi8251Char5Bits		EQU	00Hi8251Factor64X		EQU	03Hi8251Factor16X		EQU	02Hi8251Factor1X		EQU	01Hi8251SyncMode		EQU	00H;;-------------------------------------; i8251A UART Command Inst Bits Def:;-------------------------------------i8251HuntMode		EQU	80Hi8251IntRsest		EQU	40Hi8251RTSEnable		EQU	20Hi8251ErrorReset		EQU	10Hi8251SendBreak		EQU	08Hi8251RxEnable		EQU	04Hi8251DTREnable		EQU	02Hi8251TxEnable		EQU	01H;;-------------------------------------; i8251A UART Status Bits Def:;-------------------------------------i8251DSR		EQU	80Hi8251SynBreak		EQU	40Hi8251FrameError		EQU	20Hi8251OvRunError		EQU	10Hi8251ParError		EQU	08Hi8251TxEmpty		EQU	04Hi8251RxReady		EQU	02Hi8251TxReady		EQU	01H;------------------------------------------------------------------------------;; Timers  (i8254);; [Programming information on Page 2- of ; the Intel '84 Microsystem Components Handbook];;-------------------------------------;  i8254 Mode Inst Bits Def:i8254SelCount0		EQU	00H	; Select Counter 0i8254SelCount1		EQU	40H	; Select Counter 1i8254SelCount2		EQU	80H	; Select Counter 2i8254LSBthenMSB	EQU	30H	; R/L ls byte first, then ms bytei8254DivideByN		EQU	04H     ; Mode 2 -- Rate Generatori8254SqWave		EQU	06H	; Mode 3 -- Square Wave Geni8254BinaryCount	EQU	00H	; as 16-bit binary counter;------------------------------------------------------------------------------i186Timer1MCWAddr	EQU 0FF5Eh	;Mode/Control Wordi186DMA0LSPAddr	 	EQU 0FFC0h	;Source pointer (16LSBs)i186Timer1CountAAddr	EQU 0FF5Ah	;Max Count A;;FDC registersFDCDataReg	EQU 52H			;data RegFDCStatusReg	EQU 50H 		;Status Reg.;------------------------------------------------------------------------------ChanlaCommand equ  044h  ; address of channel a command registerChanlaData    equ  040h  ; address of cahnnel a data    registerChanlaStatus  equ  044h  ; chanel  a status register    ChanlbCommand equ  046h  ; address of channel b command registerChanlbData    equ  042h  ; address of channel b data    registerChanlbStatus  equ  046h  ; chanel b status register   ResetExt 	 equ  010hChanelReset	 equ  018hErrorReset	 equ  030hIntReset	 equ  010h;------------------------------------------------------------------------------DVIntLatch	 equ  0D0H;------------------------------------------------------------------------------FloppyDMATC 	 equ  0C005h;------------------------------------------------------------------------------EtherNetIntLatch equ  0C0h;------------------------------------------------------------------------------;--------------------------------------------; EEProm Definitions:;--------------------------------------------;ETCH TWO Data for WriteConfigReg (from HardDefs)EEPEnable		EQU	1000HEEPWriteDataMask	EQU	8000HEEPClk			EQU	2000H;Data for ReadInputReg (from HardDefs)EEPReadDataMask		EQU	0800HEEPStatusReady		EQU	0800H;Command codesEEPCmdRead		EQU	80H	;10aaaaaa, where aaaaaa = word addressEEPCmdWrite		EQU	40H	;01aaaaaaEEPCmdErase		EQU	0C0H	;11aaaaaaEEPCmdEWEnable		EQU	30H	;0011xxxx, where xxxx = don't careEEPCmdEWDisable		EQU	00H	;0000xxxxEEPCmdReset		EQU	20H	;0010xxxx;Loop ControlNoLoop			equ	0	; LoopOnTest		equ	1	; LoopOnTestStream	equ	2	; LoopOnFile		equ	4	; LoopOnFileStream	equ	8	; ;Jump ControlNoJump			equ	0	; NoAnilize		equ	0	;Jumping			equ	1	; Anilizeing		equ	4	;TelescopeIt		equ	2	; TelescopeSet		equ	4	;TelescopeA		equ	8	;TelescopeR		equ	10H	; TelescopeF		equ	20H	;TelescopeAutoSet	equ	40H	;AnilizeIt		equ	80h	;;Error ControlNoError			Equ	1NoIOPError		Equ	2NoMesaError		Equ 	4ContinueAfterError	Equ	8;Mp ControlUseMP			Equ	1UseCurser		Equ	2;File ControlMonitorFile		Equ	1NoClearTestControl	Equ	2 ;For files with only one set of CScodeBurdockFile		Equ 	4DoBranches		Equ 	8;Test ControlClearLoaderMask	equ	0F7h	SkipToNextTest		Equ	2NoStopStartMesa		Equ	8 ;For Down loader,Controled by TestAlagInProcess		Equ	10h;Edit ControlWordEdit		Equ	0ByteEdit		Equ	1DRamEdit		Equ	2SRamEdit		Equ	4EEPromEdit		Equ	8;TCBSize/Config;bits 0 to 5 are TCB Size in WordsSizeMask		Equ	0FFhCpFiles			Equ	1hLockBuffer		equ	1	;UnLockBuffer		equ	0	;WaitNumber		equ	99h	;SkipTestBit		equ	80h	;;-----------------------------------------------------------------NoIOPFault		equ	0	;NoMesaFault		equ	0	;IOPDataError		equ	1	;IOTimeOutError		equ	2	;MemoryParityError	equ	4	;IOPMemorySizeError	equ	8	;EarlyExpectedInterrupt	equ	10HNoExpectedInterrupt	equ	20h	;UnExpectedInterrupt	equ	40h	;FileErrorCode		equ	80h	; ;-----------------------------------------------------------------;kb defs and stuffKMouse equ 0FFHKSTN equ 48HKSTOP equ 54HKDEL equ 55HKSP equ 3DHKCR equ 1FHKA equ 21HKB equ 33HKC equ 31HKD equ 23HKE equ 15HKF equ 24HKI equ 1AHKJ equ 27HKK equ 28HKL equ 29HKM equ 35HKN equ 34HKO equ 1BHKP equ 1CHKQ equ 13HKR equ 16HKS equ 22HKT equ 17HKU equ 19HKV equ 32HKW equ 14HKY equ 18HKZ equ 2FHK0 equ 0EHK1 equ 05HK2 equ 06HK3 equ 07HK4 equ 08HK5 equ 09HK6 equ 0AHK7 equ 0BHK8 equ 0CHK9 equ 0DH;-----------------------------------------------------------------;	END	MOONSysDefs