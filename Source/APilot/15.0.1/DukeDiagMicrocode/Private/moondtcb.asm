	NAME	MoonDTCB$	NOLIST$	INCLUDE(MOONSYS.def)			$	INCLUDE(MOONLINK.def)$	LIST		MonitorCode	SEGMENT  COMMON;-----------------------------------------------------------------; Monitor Test Control Block          ORG 	ExtTCBlockLoc	 ;FIFO Test Control Block ----------------------------------------;**0;DiskErrCtl	DB  0H;SkipTest	DB  0;PageParity	DB 00H;BankParity	DB 00H;Passes	DB  10;CurrentPass	DB  0;DmaArea	DB  0;PassCtl	DB  0EH;StartData	DW  0AAAAH;AddData 	DW  00101H;WordLen	DB  64;AddLen	DB  64;FIFOInat 	DW  0;ExpectedData 	DW  0;ObservedData 	DW  0;Errat 	DW  0;Mask8bitReg 	DB  0;ExpectedVal 	DB  0;ObservedVal	DB  0;Allows	DB  0;TestFaults	DW  0;ErrCount	DW  0;Reserved	DB  0;LogSubErrs	DB  0;AddSec	DW  0;StartCy	DW  0;StartHd	DB  0;StartSec	DB  0;EndCy	DW  0;EndHd	DB  0;EndSec	DB  0;CurCy	DW  0;CurHd	DB  0;CurSec	DB  0; Default Non-Destructive Disk TCB ------------------------------;**1;DiskErrCtl	DB  0H;SkipTest	DB  0;PageParity	DB 00H;BankParity	DB 00H;Passes	DB  2;CurrentPass	DB  0;DmaArea	DB  0;PassCtl	DB  07H;StartData	DW  00001H;AddData 	DW  08202H	;use something close to format data;WordLen	DB  0;AddLen	DB  0;FIFOInat 	DW  0;ExpectedData 	DW  0;ObservedData 	DW  0;Errat 	DW  0;Mask8bitReg 	DB  0;ExpectedVal 	DB  0;ObservedVal	DB  0;Allows	DB  0;TestFaults	DW  0;ErrCount	DW  0;Reserved	DB  0;LogSubErrs	DB  0;AddSec	DW  1;StartCy	DW  0;StartHd	DB  0;StartSec	DB  0;EndCy	DW  0;EndHd	DB  1		;all drives have at least 2 hds on Cyl 0;EndSec	DB  0FH;CurCy	DW  0;CurHd	DB  0;CurSec	DB  0; Format, Read Check --------------------------------------;**2;DiskErrCtl	DB  0H;SkipTest	DB  0;PageParity	DB 00H;BankParity	DB 00H;Passes	DB  1;CurrentPass	DB  0;DmaArea	DB  0;PassCtl	DB  2FH;StartData	DW  00001H;AddData 	DW  00202H;WordLen	DB  0;AddLen	DB  0;FIFOInat 	DW  0;ExpectedData 	DW  0;ObservedData 	DW  0;Errat 	DW  0;Mask8bitReg 	DB  0;ExpectedVal 	DB  0;ObservedVal	DB  0;Allows	DB  0;TestFaults	DW  0;ErrCount	DW  0;Reserved	DB  0;LogSubErrs	DB  0;AddSec	DW  1;StartCy	DW  130H;StartHd	DB  0;StartSec	DB  0;EndCy	DW  131H;EndHd	DB  3;EndSec	DB  0FH;CurCy	DW  0;CurHd	DB  0;CurSec	DB  0; Write Read Log , needs **2's format ----------------------------;**3;DiskErrCtl	DB  0H;SkipTest	DB  0;PageParity	DB 00H;BankParity	DB 00H;Passes	DB  1;CurrentPass	DB  0;DmaArea	DB  0;PassCtl ;Hdr data,double secs,all ops - log,no format,no restores, lag IOP	DB  0F1H;StartData	DW  7F3EH;AddData 	DW  800FH;WordLen	DB  0;AddLen	DB  0 ;FIFOInat 	DW  0;ExpectedData 	DW  0;ObservedData 	DW  0;Errat 	DW  0;Mask8bitReg 	DB  0;ExpectedVal 	DB  0;ObservedVal	DB  0;Allows	DB  0;TestFaults	DW  0;ErrCount	DW  0;Reserved	DB  0;LogSubErrs	DB  0;AddSec	DW  1;StartCy	DW  130H;StartHd	DB  0;StartSec	DB  0;EndCy	DW  131H;EndHd	DB  3;EndSec	DB  0FH;CurCy	DW  0;CurHd	DB  0;CurSec	DB  0; Full Format, Write/Read Log --------------------------------;**4;DiskErrCtl	DB  0H;SkipTest	DB  0;PageParity	DB 00H;BankParity	DB 00H;Passes	DB  1;CurrentPass	DB  0;DmaArea	DB  0;PassCtl	DB  79H;StartData	DW  0C3C3H;AddData 	DW  06969H;WordLen	DB  0;AddLen	DB  0;FIFOInat 	DW  0;ExpectedData 	DW  0;ObservedData 	DW  0;Errat 	DW  0;Mask8bitReg 	DB  0;ExpectedVal 	DB  0;ObservedVal	DB  0;Allows	DB  0;TestFaults	DW  0;ErrCount	DW  0;Reserved	DB  0;LogSubErrs	DB  0;AddSec	DW  1;StartCy	DW  0;StartHd	DB  0;StartSec	DB  0;EndCy	DW  131H;EndHd	DB  3;EndSec	DB  0FH;CurCy	DW  0;CurHd	DB  0;CurSec	DB  0; Seek Read Headers Cyc0 --------------------------------;**5;DiskErrCtl	DB  0H;SkipTest	DB  40h;PageParity	DB 00H;BankParity	DB 00H;Passes	DB  1;CurrentPass	DB  0;DmaArea	DB  0;PassCtl	DB  21H;StartData	DW  0H;AddData 	DW  0H;WordLen	DB  0;AddLen	DB  0;FIFOInat 	DW  0;ExpectedData 	DW  0;ObservedData 	DW  0;Errat 	DW  0;Mask8bitReg 	DB  0;ExpectedVal 	DB  0;ObservedVal	DB  0;Allows	DB  0;TestFaults	DW  0;ErrCount	DW  0;Reserved	DB  0;LogSubErrs	DB  0;AddSec	DW  01H;StartCy	DW  0;StartHd	DB  0;StartSec	DB  0;EndCy	DW  0H;EndHd	DB  3;EndSec	DB  0FH;CurCy	DW  0;CurHd	DB  0;CurSec	DB  0; Seek Read Headers Diag Cyc --------------------------------;**6;DiskErrCtl	DB  0H;SkipTest	DB  40H;PageParity	DB 00H;BankParity	DB 00H;Passes	DB  1;CurrentPass	DB  0;DmaArea	DB  0;PassCtl	DB  21H;StartData	DW  0H;AddData 	DW  0H;WordLen	DB  0;AddLen	DB  0;FIFOInat 	DW  0;ExpectedData 	DW  0;ObservedData 	DW  0;Errat 	DW  0;Mask8bitReg 	DB  0;ExpectedVal 	DB  0;ObservedVal	DB  0;Allows	DB  0;TestFaults	DW  0;ErrCount	DW  0;Reserved	DB  0;LogSubErrs	DB  0;AddSec	DW  01H;StartCy	DW  0;StartHd	DB  0;StartSec	DB  0;EndCy	DW  131H;EndHd	DB  3;EndSec	DB  0FH;CurCy	DW  0;CurHd	DB  0;CurSec	DB  0; Seek Safe Zone Cyc --------------------------------;**7;DiskErrCtl	DB  0H;SkipTest	DB  60h;PageParity	DB 00H;BankParity	DB 00H;Passes	DB  1;CurrentPass	DB  0;DmaArea	DB  0;PassCtl	DB  21H;StartData	DW  0H;AddData 	DW  0H;WordLen	DB  0;AddLen	DB  0;FIFOInat 	DW  0;ExpectedData 	DW  0;ObservedData 	DW  0;Errat 	DW  0;Mask8bitReg 	DB  0;ExpectedVal 	DB  0;ObservedVal	DB  0;Allows	DB  0;TestFaults	DW  0;ErrCount	DW  0;Reserved	DB  0;LogSubErrs	DB  0;AddSec	DW  1H;StartCy	DW  0;StartHd	DB  0;StartSec	DB  0;EndCy	DW  0H;EndHd	DB  0;EndSec	DB  0H;CurCy	DW  0;CurHd	DB  0;CurSec	DB  0		MonitorCode	ENDS		END