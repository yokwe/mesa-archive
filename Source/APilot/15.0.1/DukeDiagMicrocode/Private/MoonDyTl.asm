$	DEBUG MOD186;MOONDayBreakLoader.asm	NAME	MoonDayTl$	TITLE(DayBreak Tele)$	NOLIST		;Next line includes Daisy.def	$	INCLUDE(MoonSys.def)$	INCLUDE(MOONLINK.def)$	LIST		;Previous line included Daisy.def;--------------------------------------------MonitorCode	SEGMENT COMMON	ASSUME	CS:MonitorCode, SS:MonitorCode, DS:MonitorCode	ORG TeleCodeLoc		 jmp TelescopeCp	 jmp UnTelescopeCp	 jmp SetTelValues	 	 TelescopeCp:    CALL ExtStopCp                MOV  ax,[di].OutCSAddress	        push ax	        MOV  ax,200H                or al,[si].TestN                MOV  [di].OutCSAddress,ax		Call GetTList	        MOV al, [di].JumpTest		shl ax,1		add bx,ax                CALL ExtDoInToOutD		or ax,WORD PTR [bx]	    	CALL ExtWriteNewAdd		CALL SaveOld		mov WORD PTR [bx],ax		Call GetTList                MOV al, [di].JumpFile		shl ax,1		add bx,ax	    	MOV ax,WORD PTR [bx]	    	MOV  [di].OutCSAddress,ax	        CALL ExtDoInToOutD                or  ax,0FF0H                or  al,[si].TestN                CALL ExtWriteNewAdd		CALL SaveOld		add bx,2	        mov WORD PTR [bx],axTelescopeDone:  pop ax	        MOV  [di].OutCSAddress,ax                Ret   		SaveOld:        CALL GetTList		Mov ax,[di].InCSData2	        and ax,0FFFH	        xor ax,0FH		ret		UnTelescopeCp:  CALL ExtStopCp                MOV  ax,[di].OutCSAddress	        push ax	        MOV  ax,200H                or al,[si].TestN                MOV  [di].OutCSAddress,ax		Call GetTList	        CALL ExtDoInToOutD		or ax,WORD PTR [bx]	    	CALL ExtWriteNewAdd		Call GetTList                MOV al, [di].JumpFile		shl ax,1		add bx,ax	    	MOV ax,WORD PTR [bx]	    	MOV  [di].OutCSAddress,ax		Call GetTList		add bx,2	        CALL ExtDoInToOutD                or ax,WORD PTR [bx]                CALL ExtWriteNewAdd		jmp TelescopeDoneGetTList:       MOV bx, DayTList0                cmp [si].TestN,0		je GotTList		MOV bx, DayTList1			cmp [si].TestN,1		je GotTList		MOV bx, DayTList2                cmp [si].TestN,2		je GotTList		MOV bx, DayTList3			cmp [si].TestN,3		je GotTList		MOV bx, DayTList4                cmp [si].TestN,4		je GotTList		MOV bx, DayTList5			cmp [si].TestN,5		je GotTList   		MOV bx, DayTList6                cmp [si].TestN,6		je GotTList		MOV bx, DayTList7	GotTList:       mov ax,0                Ret		SetTelValues:   MOV ax, DayTList0Size-4                cmp [si].TestN,0		je GotSetTList		MOV ax, DayTList1Size-4			cmp [si].TestN,1		je GotSetTList		MOV ax, DayTList2Size-4                cmp [si].TestN,2		je GotSetTList		MOV ax, DayTList3Size-4			cmp [si].TestN,3		je GotSetTList		MOV ax, DayTList4Size-4                cmp [si].TestN,4		je GotSetTList		MOV ax, DayTList5Size-4			cmp [si].TestN,5		je GotSetTList   		MOV ax, DayTList6Size-4                cmp [si].TestN,6		je GotSetTList		MOV ax, DayTList7Size-4GotSetTList:    shr ax,1                mov [DI].JumpFile,al		mov [DI].JumpTest,2                jmp TelescopeCp	                 MonitorCode	ENDS	END 