-- Copyright (C) 1987  by Xerox Corporation. All rights reserved. -- FloppyCommissure.mesa     28-Aug-87 10:02:14 by JAC   -- Last edit by :-- JAC	 6-Nov-87 15:46:19	add nullStats-- JAC	25-Sep-87 10:14:45	add GetStatusOfFailedOperation-- JAC	22-Sep-87 18:45:42	continue splitting  DIRECTORY  Device USING [Type],  FloppyDiskFace USING [Attributes, Context, DeviceHandle, Status],  FloppyIOFaceDove,  SpecialFloppyTapeFace USING [Statistics];FloppyCommissure: DEFINITIONS   IMPORTS Device, FloppyIOFaceDove =  BEGIN  OPEN FloppyIOFaceDove;    -- variables private to the head  currentStream: CARDINAL;  DiagnosticClientMask: WORD;  FloppyFCB: LONG POINTER TO FunctionContextBlock;  passesOnThisStream: CARDINAL;  retentionInProgress: BOOLEAN;  tapeStatistics: SpecialFloppyTapeFace.Statistics;    --constants    nullStats:  SpecialFloppyTapeFace.Statistics = [  --Initial values of the various statistics    retriesDone:		0,    recordNotFoundErrors:	0,    totalRetriesDone:		0,    retentionNeeded:		FALSE,    unused:			0,    retentionsDone:		0];    -- procedures private to the head  BuildIOCB: PROCEDURE [IOCBPtr, IOCBType, MesaClientType, BOOLEAN];  EnqueueIOCB: PROCEDURE [IOCBPtr];  GetDeviceType: PROCEDURE [INTEGER] RETURNS [Device.Type];  GetStatusOfNewOperation: PROCEDURE[IOCBPtr, MesaClientType, BOOLEAN, fdcCommandType] RETURNS [FloppyDiskFace.Status];  GetStatusOfFailedOperation: PROCEDURE [IOCBPtr] RETURNS [FloppyDiskFace.Status];  InternalGetDeviceAttributes: PROCEDURE[FloppyDiskFace.DeviceHandle, MesaClientType] RETURNS [FloppyDiskFace.Attributes];  InternalGetNextDevice: PROCEDURE [FloppyDiskFace.DeviceHandle] RETURNS [FloppyDiskFace.DeviceHandle];  InternalInitiate: PROCEDURE[IOCBPtr, MesaClientType, BOOLEAN, fdcCommandType] RETURNS [FloppyDiskFace.Status];  InternalPoll: PROCEDURE [IOCBPtr, MesaClientType] RETURNS [FloppyDiskFace.Status, CARDINAL];  InternalSetContext: PROCEDURE [FloppyDiskFace.DeviceHandle, FloppyDiskFace.Context, MesaClientType] RETURNS [BOOLEAN];    END.