-- Copyright (C) 1980, 1981, 1983  by Xerox Corporation. All rights reserved. -- TemporarySetGMT.mesa (last edited by: DXG      on: 26-Sep-84  2:56:57)-- Note: This interface is still evolving as we learn to deal with flakey-- low rent hardware and awful time requirements.DIRECTORY  ProcessorFace USING [GreenwichMeanTime, gmtEpoch];TemporarySetGMT: DEFINITIONS =  BEGIN OPEN ProcessorFace;  -- Implementation may use EthernetFace directly; only called early in  -- Pilot initialization and coming back from Snapshot.OutLoad (the  -- second time), with interrupts disabled.  In particular this must  -- NEVER be called when the communications package is active.  TimeZoneDirection: TYPE = MACHINE DEPENDENT {west(0), east(1)};    SetGMT: PROC [    earliestAcceptableTime, latestAcceptableTime: GreenwichMeanTime ¬ gmtEpoch]    RETURNS [      paramsValid: BOOLEAN,      zoneDirection: TimeZoneDirection, zone: [0..12], zoneMinutes: [0..59],      beginDST: [0..366], endDST: [0..366]];    -- Perform ProcessorFace.SetGreenwichMeanTime with the correct time.      -- EarliestAcceptableTime and latestAcceptableTime are aids to the    -- implementation in determining if the hardware clock (if available)    -- is valid.  EarliestAcceptableTime and latestAcceptableTime are    -- ignored if time is retrieved from network.      -- May return local time zone parameters (when paramsValid=TRUE).  GetNetworkGMT: PROC RETURNS [    networkTimeFound: BOOLEAN, timeFromNetwork: GreenwichMeanTime,    zoneDirection: TimeZoneDirection, zone: [0..12], zoneMinutes: [0..59],    beginDST: [0..366], endDST: [0..366]];    -- get the external world's idea of the time.    -- networkTimeFound returns false when ethernet will not respond.    adjustableClockRate: READONLY BOOLEAN;    -- TRUE if this processor has a clock with an adjustable rate.    SetClockRate: PROCEDURE [internal, external: LONG CARDINAL];    -- Sets the processor clock rate so that for every "internal" units of    -- procesor time, "external" units of external (= "real-world") time elapse.    -- This is a no-op if adjustableClockRate = FALSE.  FixupClock: PROCEDURE;  END.....April 16, 1980  12:14 PM	PXM       Create fileJanuary 23, 1981  2:50 PM	PXM       Add local time parametersFebruary 4, 1981  5:58 PM	PXM       SystemExtras=>System19-Oct-81 15:00:02	        XXR      re-arrange interface and more correctly   name several parameters; add GetNetworkGMT[].  Deleted reference to System. 7-Dec-81 10:20:17	        AWL         Added adjustableClockRate and SetClockRate.11-Apr-83 14:12:56	        AEF        Incorporated TemporarySetGMTExtra.mesa.Time: 26-Sep-84  2:56:44	By: DXG     	Action: Added copyright notice and rebuild for 11.1 release.