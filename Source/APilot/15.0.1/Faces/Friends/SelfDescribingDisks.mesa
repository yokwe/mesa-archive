-- SelfDescribingDisks.mesa-- Last edit:	JPM	26-May-87 15:25:45-- Copyright (C) 1987 by Xerox Corporation. All rights reserved.DIRECTORY  Device USING [Type],  DeviceTypes USING [anyPilotDisk],  PilotDiskFace USING [DiskAddress, unknownAttribute];SelfDescribingDisks:  DEFINITIONS  =BEGIN  -- This interface defines the data structure which is written to disk's  --   which have their shape and type information stored on a reserved page  --   on track 0.  Seal: CARDINAL = 62626B;  -- word zero of a valid DiskShape descriptor  currentVersion: CARDINAL = 1;  -- increment each time DiskShape descriptor below is reformatted  DiskShape: TYPE = MACHINE DEPENDENT RECORD [    type (0): Device.Type,    pagesPerTrack (1): CARDINAL,    headsPerCylinder (2): CARDINAL,    cylinderCount (3): CARDINAL,    reducedWriteCylinder(4): CARDINAL,    preCompensationCylinder (5): CARDINAL,    headLandingZone (6): CARDINAL,    rpm (7): CARDINAL,    vcmDisk (8:0..0): BOOLEAN, --TRUE is VCM disk, FALSE is stepper motor disk.    unused (8:1..15): PACKED ARRAY [0..15) OF BOOLEAN];  DiskShapeDescriptorPageFormat: TYPE = MACHINE DEPENDENT RECORD [    seal(0): CARDINAL ¬ Seal,  -- must be 1st field    version(1): CARDINAL ¬ currentVersion,  -- must be 2nd field    diskShape(2): DiskShape,    unused (11): ARRAY [0..243) OF CARDINAL ¬ ALL[0],    -- CheckSum is computed using the PrincOps checksum from the Checksum    --   interface.  This is used to help verify the validity of this data    --   structure on the disk.  Specifically, CheckSum and InvertedCheckSum    --   together help detect an old disk which does not have this information    --   stored to it.    checkSum (254): WORD,    invertedCheckSum (255): WORD ];  DiskShapeDescriptorAddress: PilotDiskFace.DiskAddress = [0, 0, 14];  nullDiskShape: DiskShape = [    type: DeviceTypes.anyPilotDisk,    pagesPerTrack: PilotDiskFace.unknownAttribute,    headsPerCylinder: PilotDiskFace.unknownAttribute,    cylinderCount: PilotDiskFace.unknownAttribute,    reducedWriteCylinder: PilotDiskFace.unknownAttribute,    preCompensationCylinder: PilotDiskFace.unknownAttribute,    headLandingZone: PilotDiskFace.unknownAttribute,    rpm: PilotDiskFace.unknownAttribute,    vcmDisk: FALSE,    unused: ALL[FALSE]];END.17-Feb-87 18:22:28	RRP    Created.26-Feb-87 18:53:46	RRP    Seperated DiskShape from DiskShapeDescriptorPageFormat, added nullDiskShape, added DiskShapeDescriptorAddress.12-Mar-87 10:22:37	RRP    Added rpm and vcmDisk.26-May-87 15:25:45	JPM    Changed DiskShapeDescriptorAddress to sector 14 (instead of 15).