-- file: XFormatSCSImpl.mesa; last edit:-- Alfvin:		   5-Jan-84 19:26:57DIRECTORY  NSName,  NSString,  TTY,   XFormat,  XString;XFormatSCSImpl: MONITOR  IMPORTS NSString, XFormat, XString  EXPORTS XFormat =  BEGIN OPEN nss: NSString, XFormat, XS: XString;    -- Public procedures    NSStringProc: PUBLIC FormatProc = {    UpdateString: PROC = {      sp.length _ XString.ByteLength[XString.ReaderFromWriter[@writerBody]]};    sp: LONG POINTER TO nss.String _ h.data;    writerBody: XS.WriterBody;    writerObject: Object _ WriterObject[@writerBody];        success: BOOLEAN _ TRUE;    IF sp=NIL THEN ERROR Error[nilData];    DO      writerBody _ XString.WriterBodyFromNSString[sp^];      WriterProc[r, @writerObject !        XString.InsufficientRoom => {	  UpdateString[];	  sp^ _ SIGNAL nss.StringBoundsFault[sp^, amountNeeded];	  LOOP}];      UpdateString[];      RETURN;      ENDLOOP};      NSStringObject: PUBLIC PROC [s: LONG POINTER TO nss.String] RETURNS [Object] = {    IF s = NIL THEN ERROR Error[nilData];    RETURN[[NSStringProc, XS.vanillaContext, s]]};  END.14-Nov-83 18:46:52 - Alfvin - Filled in NSStringProc 8-Dec-83 17:39:51 - Alfvin - Added NSName 5-Jan-84 19:27:13 - Alfvin - Removed SHARES