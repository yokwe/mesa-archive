-- File: DiagEtherPutErrorMsgsImpl.mesa - last edit:-- MXT                 29-Jan-86 18:47:08-- Copyright (C) 1985, 1986 by Xerox Corporation. All rights reserved.-- To release the Ethernet Diagnostics with Pilot stuff, AddressTranslation is renamed to -- DiagEtherAddressTranslation.-- When Diagnostics release become independent from Pilot/Mesa, the DiagEtherAddressTranslation-- should be resumed to use AddressTranslation interface.DIRECTORY  DiagEtherAddressTranslation  USING[Field, Reason],  DiagEtherErrorMsgs,  DiagEtherIOCmdMsgs,  DiagEtherNS,  DiagEtherPutErrorMsgs,  OfflineDiagInterface,  String  USING[AppendDecimal, AppendString, Copy];DiagEtherPutErrorMsgsImpl: PROGRAM   IMPORTS DiagEtherErrorMsgs, DiagEtherIOCmdMsgs, OfflineDiagInterface, String  EXPORTS DiagEtherPutErrorMsgs =  BEGIN OPEN    ODI: OfflineDiagInterface,    DiagEtherErrorMsgs,     DiagEtherIOCmdMsgs,    DiagEtherPutErrorMsgs;      PutBadSyntax: PUBLIC PROCEDURE[field: DiagEtherAddressTranslation.Field] = {    msg: STRING _ [256];    String.Copy[to: msg, from: errors[badSyntax]];    String.AppendString[to: msg,       from: SELECT field FROM	net => errors[net],	host => errors[host],	socket => errors[socket],	ENDCASE => errors[ambiguous]];    PostMessage[msg];    };      PutCHLookupProblem: PUBLIC PROCEDURE[code: DiagEtherNS.Code] = {    msg: STRING _ [256];    String.Copy[to: msg, from: errors[chLookupProblem]];    -- msg = "Error: CHS Lookup Problem. Error code is "    String.AppendString[to: msg,       from: SELECT code.code FROM	notAllowed => errors[notAllowed],	rejectedTooBusy => errors[rejectedTooBusy],	allDown => errors[allDown],	badProtocol => errors[badProtocol],	illegalPropertyID => errors[illegalPropertyID],	illegalOrgName => errors[illegalOrgName],	illegalDomainName => errors[illegalDomainName],	illegalLocalName => errors[illegalLocalName],	noSuchOrg => errors[noSuchOrg],	noSuchDomain => errors[noSuchDomain],	noSuchLocal => errors[noSuchLocal],	propertyIDNotFound => errors[propertyIDNotFound],	wrongPropertyType => errors[wrongPropertyType],	noChange => errors[noChange],	outOfDate => errors[outOfDate],	overflowOfName => errors[overflowOfName],	overflowOfDataBase => errors[overflowOfDataBase],	wasUpNowDown => errors[wasUpNowDown],	ENDCASE => " "      ];    -- msg = "Error: CHS Lookup Problem. Error code is code"    PostMessage[msg];    };  PutOtherCHProblem: PUBLIC PROCEDURE[reason: DiagEtherAddressTranslation.Reason] = {    msg: STRING _ [256];    String.Copy[to: msg, from: errors[otherCHProblm]];    String.AppendString[to: msg,      from: SELECT reason FROM        noUsefulProperties => errors[noUsefulProperties],	ambiguousSeparators => errors[ambiguousSeparators],        tooManySeparators => errors[tooManySeparators],	authentication => errors[authentication],	invalidName => errors[invalidName],	invalidPassword => errors[invalidPassword],	couldntDetermineAddress => errors[couldntDetermineAddress],	ENDCASE => errors[otherCHProblemItem]      ];    PostMessage[msg];    };  PutScanError: PUBLIC PROCEDURE[position: CARDINAL] = {    msg: STRING _ [256];    String.Copy[to: msg, from: errors[scanError]];    -- msg = "Error: Illegal Charcter in position = "    String.AppendDecimal[s: msg, n: LOOPHOLE[position]];    String.AppendString[to: msg, from: ioCmdMsgs[leftBracket]];    String.AppendString[to: msg, from: ioCmdMsgs[period]];    PostMessage[msg];    };  PostMessage: PROCEDURE[msg: STRING] = {    String.AppendString[to: msg, from: ioCmdMsgs[leftBracket]];    ODI.PutMessage[message: msg, beep: TRUE];    };      -- ~~~~~~~~~~~~~~~~~~~~~~~  -- actual output procedure  -- ~~~~~~~~~~~~~~~~~~~~~~~  PutErrorMsgs: PUBLIC PROCEDURE[msg: STRING] = {    ODI.PutMessage[message: msg, beep: TRUE];    };      END...  LOGTime			By	Action17-Mar-85 15:33:25	MXT	Created. 9-Apr-85 11:36:29	MXT	Added PostMessage.11-Apr-85 11:16:08	MXT	Replaced CH.ReturnCode by DiagEtherNS.ReturnCode.29-Jan-86 18:46:49	MXT	Renamed AddressTranslation to DiagEtherAddressTranslation. 