-- Copyright (C) 1984, 1985  by Xerox Corporation. All rights reserved. -- File: DiagDiskCmdDrive.mesa---- DIRECTORY DiagDiskCmdDes		USING	[CommandRecord];  DiagDiskCmdDrive: DEFINITIONS = BEGIN DiagDiskCmdDriveImpl:		PROGRAM;	 ParamRecord: TYPE= RECORD [	recalFirstMem:		CARDINAL¬ 0,	useSameDataBuffMem:	CARDINAL¬ 0,	tryCountMem:		CARDINAL¬ 0,	UnitMem:		INTEGER¬ 0,	UnitPos:		BOOLEAN¬ TRUE,	UnitChange:		INTEGER¬ 0,	CylinderMem:		INTEGER¬ 0,	CylinderPos:		BOOLEAN¬ TRUE,	CylinderChange:		INTEGER¬ 0,	HeadMem:		INTEGER¬ 0,	HeadPos:		BOOLEAN¬ TRUE,	HeadChange:		INTEGER¬ 0,	SectorMem:		INTEGER¬ 0,	SectorPos:		BOOLEAN¬ TRUE,	SectorChange:		INTEGER¬ 0,	SectorCountMem:		INTEGER¬ 0,	TrackCountMem:		INTEGER¬ 0,	LabelDataMem:		CARDINAL¬ 0,	DataMem:		CARDINAL¬ 0,	WriteLabelPtr:		LONG POINTER TO ARRAY OF WORD¬ NIL,	WriteDataPtr:		LONG POINTER TO ARRAY OF WORD¬ NIL,	SkipCount:		CARDINAL¬ 0]; Command:			CARDINAL; Continue:			BOOLEAN; Rigid:				BOOLEAN; Floppy:			BOOLEAN; CmdDescriptionArray:		LONG DESCRIPTOR FOR ARRAY OF					DiagDiskCmdDes.CommandRecord; --Hard disk parameters LoopCount:			LONG CARDINAL; RecalFirst:			CARDINAL; UseSameDataBuff:		CARDINAL; TryCount:			CARDINAL; MinTryCount:			CARDINAL; MaxTryCount:			CARDINAL; Unit:				CARDINAL; MinUnit:			CARDINAL; MaxUnit:			CARDINAL; Cylinder:			CARDINAL; MinCylinder:			CARDINAL; MaxCylinder:			CARDINAL; Head:				CARDINAL; MinHead:			CARDINAL; MaxHead:			CARDINAL; Sector:			CARDINAL; MinSector:			CARDINAL; MaxSector:			CARDINAL; SectorCount:			CARDINAL; MinSectorCount:		CARDINAL; MaxSectorCount:		CARDINAL; TrackCount:			CARDINAL; MinTrackCount:			CARDINAL; MaxTrackCount:			CARDINAL; LabelSize:			CARDINAL; DataSize:			CARDINAL; --Sector incrementing XferPassedMaxCylinder:		BOOLEAN; XferPassedMaxHead:		BOOLEAN; XferPassedMaxSector:		BOOLEAN; ParamArrayL1:			ARRAY [0..3] OF ParamRecord; ParamPtrL1:			CARDINAL;				 -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -- Public procedure -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  StartLoop: PROCEDURE []; -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -- loop control -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  EndLoop: PROCEDURE []; -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -- Does nothing (required to execute user selected subtests) -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  NoOp: PROCEDURE []; -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -- sets end of command file -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  SetEndOfFile: PROCEDURE []; -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -- to delay a given amount of time before executing the next command -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  TimeDelay: PROCEDURE []; -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -- executes a command given command file -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  ExecuteCommands: PROCEDURE [commandArray:		LONG DESCRIPTOR FOR ARRAY OF CARDINAL¬ DESCRIPTOR [NIL, 0]]; END...  --of DiagDiskCmdDrive  