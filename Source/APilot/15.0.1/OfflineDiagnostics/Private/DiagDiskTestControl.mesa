-- File: DiagDiskTestControl.mesa-- Copyright (C) 1984, 1985 , 1986, 1986, 1986, 1986 by Xerox Corporation. All rights reserved. -- Last edited by STC, 15-Mar-87 15:29:25----Note: Compile DiagDiskTestRec.mesa alsoDiagDiskTestControl: DEFINITIONS =  BEGIN  DiagDiskTestControlImpl: PROGRAM;  CheckBadPageTable: BOOLEAN;  CheckForError: BOOLEAN;  CheckSoftErrorCount: BOOLEAN;  ContinueOnHardError: BOOLEAN;  ContinueOnSoftError: BOOLEAN;  --ControllerStatusTrace:		BOOLEAN;  ControlCylinder: BOOLEAN;  ControlHead: BOOLEAN;  ControlLoopCount: BOOLEAN;  ControlSector: BOOLEAN;  ControlSectorCount: BOOLEAN;  ControlTrackCount: BOOLEAN;  ControlUnit: BOOLEAN;  CountSubtestSoftErrors: BOOLEAN;  --DeviceStatusTrace:		BOOLEAN;  DisplaySoftErrors: BOOLEAN;  EndlessLoop: BOOLEAN;  IgnoreSoftErrors: BOOLEAN;  LoopOnError: BOOLEAN;  MaxErrorsPerHead: CARDINAL;  MaxSubtestSoftErrors: CARDINAL;  MaxSoftErrorsTotal: CARDINAL;  --NotReadyDelay:			LONG CARDINAL;  --NoWaitForReady:		BOOLEAN;  RepeatCommand: BOOLEAN;  ReturnAfterCommand: BOOLEAN;  ReturningAfterCommand: SIGNAL;  ReturnOnHardError: BOOLEAN;  ReturningOnHardError: SIGNAL;  ReturnOnSoftError: BOOLEAN;  ReturningOnSoftError: SIGNAL;  ReturnOnSoftErrorInTable: BOOLEAN;  ReturningOnSoftErrorInTable: SIGNAL;  RetryOnSameSector: BOOLEAN;  SectorPlus1OnSoftError: BOOLEAN;  UseDiagData: BOOLEAN;  UseFormatData: BOOLEAN;  VerifyData: BOOLEAN;  VerifyHeader: BOOLEAN;  VerifyLabel: BOOLEAN;  --the following booleans are used for loop count control  UseSectorsPerHead: BOOLEAN;  UseHalfSectorsPerCylinder: BOOLEAN;  UseSectorsPerCylinder: BOOLEAN;  UseHalfSectorsPerDrive: BOOLEAN;  UseSectorsPerDrive: BOOLEAN;  UseHeadsPerDrive: BOOLEAN;  UseTracksPerDrive: BOOLEAN;  UseCylindersPerDrive: BOOLEAN;  --the following booleans are used for sector count control  UseSectorCountPerHead: BOOLEAN;  UseSectorCountPerCylinder: BOOLEAN;  --the following booleans are used for cylinder control  UseFirstCylinder: BOOLEAN;  UseLastCylinder: BOOLEAN;  --the following booleans are used for head control  UseFirstHead: BOOLEAN;  UseLastHead: BOOLEAN;  --the following booleans are used for sector control  UseFirstSector: BOOLEAN;  UseLastSector: BOOLEAN;  TestControlRecord: TYPE = MACHINE DEPENDENT RECORD [    checkBadPageTable(0:0..0): BOOLEAN ¬ FALSE,    checkForError(0:1..1): BOOLEAN ¬ FALSE,    checkSoftErrorCount(0:2..2): BOOLEAN ¬ FALSE,    continueOnHardError(0:3..3): BOOLEAN ¬ FALSE,    continueOnSoftError(0:4..4): BOOLEAN ¬ FALSE,    controllerStatusTrace(0:5..5): BOOLEAN ¬ FALSE,    controlCylinder(0:6..6): BOOLEAN ¬ FALSE,    controlHead(0:7..7): BOOLEAN ¬ FALSE,    controlLoopCount(0:8..8): BOOLEAN ¬ FALSE,    controlSector(0:9..9): BOOLEAN ¬ FALSE,    controlSectorCount(0:10..10): BOOLEAN ¬ FALSE,    controlTrackCount(0:11..11): BOOLEAN ¬ FALSE,    controlUnit(0:12..12): BOOLEAN ¬ FALSE,    countSubtestSoftErrors(0:13..13): BOOLEAN ¬ FALSE,    deviceStatusTrace(0:14..14): BOOLEAN ¬ FALSE,    displaySoftErrors(0:15..15): BOOLEAN ¬ FALSE,    endlessLoop(1:0..0): BOOLEAN ¬ FALSE,    ignoreSoftErrors(1:1..1): BOOLEAN ¬ FALSE,    loopOnError(1:2..2): BOOLEAN ¬ FALSE,    noWaitForReady(1:3..3): BOOLEAN ¬ FALSE,    repeatCommand(1:4..4): BOOLEAN ¬ FALSE,    returnAfterCommand(1:5..5): BOOLEAN ¬ FALSE,    returnOnHardError(1:6..6): BOOLEAN ¬ FALSE,    returnOnSoftError(1:7..7): BOOLEAN ¬ FALSE,    returnOnSoftErrorInTable(1:8..8): BOOLEAN ¬ FALSE,    sectorPlus1OnSoftError(1:9..9): BOOLEAN ¬ FALSE,    useDiagData(1:10..10): BOOLEAN ¬ FALSE,    useFormatData(1:11..11): BOOLEAN ¬ FALSE,    verifyData(1:12..12): BOOLEAN ¬ FALSE,    verifyHeader(1:13..13): BOOLEAN ¬ FALSE,    verifyLabel(1:14..14): BOOLEAN ¬ FALSE,    retryOnSameSector(1:15..15): BOOLEAN ¬ FALSE,  --spare 1    --loop count control    useSectorsPerHead(2:0..0): BOOLEAN ¬ FALSE,    useHalfSectorsPerCylinder(2:1..1): BOOLEAN ¬ FALSE,    useSectorsPerCylinder(2:2..2): BOOLEAN ¬ FALSE,    useHalfSectorsPerDrive(2:3..3): BOOLEAN ¬ FALSE,    useSectorsPerDrive(2:4..4): BOOLEAN ¬ FALSE,    useHeadsPerDrive(2:5..5): BOOLEAN ¬ FALSE,    useTracksPerDrive(2:6..6): BOOLEAN ¬ FALSE,    useCylindersPerDrive(2:7..7): BOOLEAN ¬ FALSE,    --sector count control    useSectorCountPerHead(2:8..8): BOOLEAN ¬ FALSE,    useSectorCountPerCylinder(2:9..9): BOOLEAN ¬ FALSE,    --cylinder control    useFirstCylinder(2:10..10): BOOLEAN ¬ FALSE,    useLastCylinder(2:11..11): BOOLEAN ¬ FALSE,    --head control    useFirstHead(2:12..12): BOOLEAN ¬ FALSE,    useLastHead(2:13..13): BOOLEAN ¬ FALSE,    --sector control    useFirstSector(2:14..14): BOOLEAN ¬ FALSE,    useLastSector(2:15..15): BOOLEAN ¬ FALSE,    maxErrorsPerHead	(3):		CARDINAL¬ 1,    maxSubtestSoftErrors(4): CARDINAL ¬ 1,    maxSoftErrorsTotal(5): CARDINAL ¬ 1,    notReadyDelay(6): LONG CARDINAL ¬ 0];  --  PublicTestControl:		TestControlRecord;  TCWrWrWrDisk: TestControlRecord;  TCWrWrWrLstCyl: TestControlRecord;  TCVrWrWrDiagDtDisk: TestControlRecord;  TCVrWrWrDiagDtCyl0: TestControlRecord;  TCVrRdRdCyl0: TestControlRecord;  TCVrRdRdCyl0VlVdFmtDt: TestControlRecord;  TCVrWrWrDiagDtCylLst: TestControlRecord;  TCVrRdRdCylLstVlVd: TestControlRecord;  TCVrRdRdAllCyls: TestControlRecord;  TCVrRdRdAllCylsFmtDt: TestControlRecord;  --TCStandardCyl0:		TestControlRecord;  TCPassedLstCyl: TestControlRecord;  TCStndLstScTrk0: TestControlRecord;  TCVrRdRdCmpLbDtLstScTrk0: TestControlRecord;  TCRecalCn: TestControlRecord;  TCRecal: TestControlRecord;  TCVrWrWrCylLstEx: TestControlRecord;  TCWrOrRd2CylLstCn: TestControlRecord;  TCRndRd: TestControlRecord;  TCWrOrRd1CylLstCn: TestControlRecord;  TCVrRdRdCmpLbDtCylLstEx: TestControlRecord;  --TCWrRdCyl0:			TestControlRecord;  TCRndWrRdVrCnt: TestControlRecord;  TCRunCmdFile1: TestControlRecord;  TCRunCmdFile2: TestControlRecord;  TCRunCmdFile3: TestControlRecord;  TCSurfVer1: TestControlRecord;  TCSurfVer2: TestControlRecord;  TCSurfVer3: TestControlRecord;-- by STC for TestCyl  TCWrWrWrCyl: TestControlRecord;  TCVrWrWrsCyl: TestControlRecord;  TCVrVrWrsCyl: TestControlRecord;  TCVrVrVrCyl: TestControlRecord;  TCZipControl: TestControlRecord;  -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  -- to initialize the test control Records  -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  InitTestControl: PROCEDURE;  -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  -- to set up the given test control Records  -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~  SetUpTestControl: PROCEDURE [controlData: TestControlRecord];  END... -- DiagDiskTestControl.mesa17-Jan-86 16:49:03 by MXT15-Mar-87 15:29:05 by STC, add TestCyl stuff 