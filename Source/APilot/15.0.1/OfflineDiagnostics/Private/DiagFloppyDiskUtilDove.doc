-- File: DiagFloppyDiskUtilDove.doc-- Created on 18-Oct-85  9:18:44 by KL-- Last edited on  31-Jan-86 15:05:25 by KL---- Copyright (C) 1985, 1986 Xerox Corporation. All rights reserved.--Documentation base:  	OfflineFloppyDiskUtilitiesDove.mesa  	FloppyDiskUtilMessagesDove.mesa 	FloppyDiskUtilMessagesImplDove.mesa	DiagFloppyDiskUtilDove.config	DiagFloppyDiskUtilDove.df	  1.0  Introduction     DiagFloppyDiskUtilDove.boot is full-fledged OfflineDiagKernelDove     client. This means that it can be bound with any other offline diagnostic     package and becomes a menu item in the subsystem selection menu of the     resultant boot file. Refer to "OfflineDiagKernel.doc" in     OfflineDiagKernelDove.df for details of the features commo to all offline     diagnostic packages.          This boot file contains the utilities to duplicate and verify Dove floppy     diskettes.          2.0  First screen: Login Screen     (Note: For this package, all users have the identical selections. Selecting            "1 - I Am A Normal User" will obviate the need to enter a password).      Diagnostic users are divided into 5 classes as follows:	 Normal Users - No login needed. Selecting 1 will advance to next menu.         System Administrators - "rgmsn"	 Field Service  - "rexifsn"	 Manufacturing - "fle"	 Programmers/Engineers - "do8"	      The tests each class of users can run may be different depending on the     riskiness of the tests. Generally, the test runnable by the Normal Users are     harmless, so no login is required. All the other classes of users must enter     a valid password. The passwords entered determine the contents of the menus     that will be generated and presented to the users for selection. The     specification of who can run each test is done by the diagnostic programmer.     Also, the presentation order of the menu items may be different for      different classes of users.2.1  Screen Lay-Out  +===========================================================================+  I   ID   Xerox (C) Xerox Corporation 1984, 1985. All rights reserved.	      I  I   Running Login				    		              I  I									      I  I   What class of user do you belong to?				      I  I	 								      I  I      1 - Normal User					              I  I	 								      I  I	 2 - System Administrator				      	      I  I	 								      I  I	 3 - Technical Support				      		      I  I									      I  I   Please enter selection:					              I  I   < "Please enter password:" displayed here if 2 or 3 is selected >	      I  I									      I  I===========================================================================I  I									      I  I   Message Area - Help and error messages are displayed here. This will    I  I                  appear automatically only if needed.		      I  I	 	      						    	      I  I									      I  I									      I  I									      I  I   							        	      I  I		     							      I	     I	 					     			      I  I	 					 			      I  I            						   		      I  +===========================================================================+2.2  Valid inputs     The valid inputs for this screen are "1", "2", "3", "?" and STOP.     Entering a question mark displays this screen's help text on the screen. This     screen's help text is as follows:     Log In Help        Normal users can only run harmless tests that give qualitative	indications. No login is needed        Other users can run tests that may damage the system. They must login with        a valid password.          "1" identifies the user as a normal user. All menu generated will only     contain items selectable by this class of users. This selection exits the      Login Screen and presents the Subsystem Selection Screen to the user.     "2" identifies the user as a System Administrator. The user will be prompted     to enter a password. If the password entered is incorrect, the user must     reselect a menu item and start over.     "3" identifies the user as a Technical Representative, from Manufacturing or     a programmer. The user will be prompted to enter a password. The password     entered will identify the user's organization. Again, if the password entered     is incorrect, the user must reselect a menu item and start over.     STOP exits this menu and returns to the System Configuration Verification     Screen.3.0  "Floppy Duplication And Verification Facility" Screen     All users are presented with the same menu for this utility.     3.1  Menu Screen  +===========================================================================+  I   ID   Xerox (C) Xerox Corporation 1984, 1985. All rights reserved.	      I  I   Running Subsystem Selection    Test Selected:              	      I  I									      I  I   Available Selections						      I  I	 								      I  I      1 - Diskette Copy And Checksum Utility			  	      I  I	 2 - Go To Previous Menu					      I  I									      I  I   Please enter selection:					              I  I									      I  I===========================================================================I  I									      I  I   Message Area - Help and error messages are displayed here. This will    I  I                  appear only if needed.				      I  I	 	      						    	      I  I									      I  I									      I  I									      I  I   							        	      I  I		     							      I      I	 					     			      I  I	 					 			      I  I            						   		      I  +===========================================================================+  3.2  Diskette Copy And Checksum Utility     Selecting this menu item presents to the following prompt:             "Please specify action[ 1-Read Master  2-Make Copy  3-Calculate Checksum  4-Quit ]:"	     The program will loop here indefinitely until exit is requested.          3.2.1 Read Master     Read Master reads in the contents of the master floppy diskette. While      reading, a checksum is calculated for the contents of the floppy diskette.     The checksum algorithm is a one's complement add-and-left-cycle as specified     in the "Mesa Processor Principles of Operation". The checksum is displayed     at the top of the Data Area for visual comparison while making copies     from the master.     3.2.2 Make Copy     Make Copy foramts the destination diskette and copies the master image to     it. After all the bits are transfered, all sectors are re-read to verify its     reliability. If all goes well, a cheksum is calculated and printed so that     the user can compare it with the master's checksum.          In order to make use this command, a valid master image must have been read     in.     3.2.3 Calculate Checksum     Calculate Checksum reads the source diskette and calculates a checksum based     on the contents of the floppy diskette. The checksum is displayed in the     Data Area.          Calculate Checksum destroys the master image, because they use the same file     to hold the diskette contents. This means that a master image must be      re-read in order to make copies.          4.0  Subsystem Components   DiagFloppyDiskUtilDove.boot  - Boot file   OfflineFloppyDiskUtilitiesDove.mesa - Utility implementation   FloppyDiskUtilMessagesDove.mesa - Invariant abstractions for messages    FloppyDiskUtilMessagesImplDove.mesa - English message implementations   DiagFloppyDiskUtilDove.df - DF file for Subsystem   DiagFloppyDiskUtilDove.config - Configuration file   DiagFloppyDiskUtilDove.doc - Documentation for component