-- Copyright (C) 1984, 1985  by Xerox Corporation. All rights reserved. --File: DiagRDCmdDesImpl.mesa----  DIRECTORY DiagDiskCmdDes		USING	[CommandRecord], DiagDiskCmdDrive	USING	[EndLoop, NoOp, SetEndOfFile,				 StartLoop, TimeDelay], DiagRDCmds		USING	[ReadStatus, SetNoOpHeader, SetReadHeader,				 SetWriteHeader, SetVerifyHeader,				 SetNoOpLabel, SetReadLabel,				 SetWriteLabel, SetVerifyLabel,				 SetNoOpData, SetReadData,				 SetWriteData, SetVerifyData], DiagRDDisplay		USING	[LastReadStatus, Header, Label, Data], DiagRDLog		USING	[ClearLog, LogErrors, StopLoggingErrors,				 ClearTrace, TraceCommands, StopTracingCommands,				 DisplayErrorLogInCmdFile, DisplayTraceInCmdFile], DiagDiskMkIOCmd	USING	[mkIOCmd], DiagRDCmdDes		USING	[]; 				  DiagRDCmdDesImpl: PROGRAM      IMPORTS	DiagDiskCmdDrive,	DiagRDCmds,	DiagRDDisplay,	DiagRDLog,	DiagDiskMkIOCmd     EXPORTS	DiagRDCmdDes = BEGIN     OPEN	DiagDiskMkIOCmd;  -- describes each individual command and its requirements CmdDescriptArray: PUBLIC LONG DESCRIPTOR FOR ARRAY OF 	DiagDiskCmdDes.CommandRecord¬ DESCRIPTOR[RDcmdArray]; RDcmdArray: ARRAY [0..29] OF DiagDiskCmdDes.CommandRecord; -- InitCmdDes: PUBLIC PROCEDURE-- = BEGIN  --00. noOperation RDcmdArray[00].cmdProc			¬DiagDiskCmdDrive.NoOp; --01. clearLog RDcmdArray[01].commandName		¬mkIOCmd[clearLog]; RDcmdArray[01].explanation		¬mkIOCmd[clearLogExpl]; RDcmdArray[01].cmdProc			¬DiagRDLog.ClearLog;  --02. startLogging RDcmdArray[02].setStartLogging		¬TRUE; RDcmdArray[02].commandName		¬mkIOCmd[startLogging]; RDcmdArray[02].explanation		¬mkIOCmd[startLoggingExpl]; RDcmdArray[02].cmdProc			¬DiagRDLog.LogErrors;  --03. stopLogging RDcmdArray[03].resetStartLogging	¬TRUE; RDcmdArray[03].commandName		¬mkIOCmd[stopLogging]; RDcmdArray[03].explanation		¬mkIOCmd[stopLoggingExpl]; RDcmdArray[03].cmdProc			¬DiagRDLog.StopLoggingErrors;  --04. clearTrace RDcmdArray[04].commandName		¬mkIOCmd[clearTrace]; RDcmdArray[04].explanation		¬mkIOCmd[clearTraceExpl]; RDcmdArray[04].cmdProc			¬DiagRDLog.ClearTrace;  --05. startTrace RDcmdArray[05].setTracing		¬TRUE; RDcmdArray[05].commandName		¬mkIOCmd[startTrace]; RDcmdArray[05].explanation		¬mkIOCmd[startTraceExpl]; RDcmdArray[05].cmdProc			¬DiagRDLog.TraceCommands;	  --06. stopTrace RDcmdArray[06].resetTracing		¬TRUE; RDcmdArray[06].commandName		¬mkIOCmd[stopTrace]; RDcmdArray[06].explanation		¬mkIOCmd[stopTraceExpl]; RDcmdArray[06].cmdProc			¬DiagRDLog.StopTracingCommands;	 --07. startLoop RDcmdArray[07].setLooping		¬TRUE; RDcmdArray[07].needLoopCount		¬TRUE; RDcmdArray[07].commandName		¬mkIOCmd[startLoop]; RDcmdArray[07].explanation		¬mkIOCmd[startLoopExpl]; RDcmdArray[07].cmdProc	 		¬DiagDiskCmdDrive.StartLoop;	 --08. endLoop RDcmdArray[08].resetLooping		¬TRUE; RDcmdArray[08].commandName		¬mkIOCmd[endLoop]; RDcmdArray[08].explanation		¬mkIOCmd[endLoopExpl]; RDcmdArray[08].cmdProc			¬DiagDiskCmdDrive.EndLoop;	 --09. timeDelay RDcmdArray[09].needDelay		¬TRUE; RDcmdArray[09].commandName		¬mkIOCmd[timeDelay]; RDcmdArray[09].explanation		¬mkIOCmd[timeDelayExpl]; RDcmdArray[09].cmdProc			¬DiagDiskCmdDrive.TimeDelay; --10. displayLog RDcmdArray[10].commandName		¬mkIOCmd[displayLog]; RDcmdArray[10].explanation		¬mkIOCmd[displayLogExpl]; RDcmdArray[10].cmdProc			¬DiagRDLog.DisplayErrorLogInCmdFile;	 --11. displayTrace RDcmdArray[11].commandName		¬mkIOCmd[displayTrace]; RDcmdArray[11].explanation		¬mkIOCmd[displayTraceExpl]; RDcmdArray[11].cmdProc			¬DiagRDLog.DisplayTraceInCmdFile;	 --12. displayStatus RDcmdArray[12].commandName		¬mkIOCmd[displayStatus]; RDcmdArray[12].explanation		¬mkIOCmd[displayStatusExpl]; RDcmdArray[12].cmdProc			¬DiagRDDisplay.LastReadStatus;  --13. displayHeader RDcmdArray[13].commandName		¬mkIOCmd[displayHeader]; RDcmdArray[13].explanation		¬mkIOCmd[displayHeaderExpl]; RDcmdArray[13].cmdProc			¬DiagRDDisplay.Header; --14. displayLabel RDcmdArray[14].commandName		¬mkIOCmd[displayLabel]; RDcmdArray[14].explanation		¬mkIOCmd[displayLabelExpl]; RDcmdArray[14].cmdProc			¬DiagRDDisplay.Label; --15. displayData RDcmdArray[15].commandName		¬mkIOCmd[displayData]; RDcmdArray[15].explanation		¬mkIOCmd[displayDataExpl]; RDcmdArray[15].cmdProc			¬DiagRDDisplay.Data;	 --16. readStatus RDcmdArray[16].commandName		¬mkIOCmd[readStatus]; RDcmdArray[16].explanation		¬mkIOCmd[readStatusExpl]; RDcmdArray[16].cmdProc			¬DiagRDCmds.ReadStatus; --17. noOpHeader RDcmdArray[17].setStartOfCmdChain	¬TRUE; RDcmdArray[17].setNeedsLabelOpr	¬TRUE; RDcmdArray[17].commandName		¬mkIOCmd[noOpHeader]; RDcmdArray[17].explanation		¬mkIOCmd[noOpHeaderExpl]; RDcmdArray[17].cmdProc			¬DiagRDCmds.SetNoOpHeader; --18. readHeader RDcmdArray[18].setStartOfCmdChain	¬TRUE; RDcmdArray[18].setNeedsLabelOpr	¬TRUE; RDcmdArray[18].commandName		¬mkIOCmd[readHeader]; RDcmdArray[18].explanation		¬mkIOCmd[readHeaderExpl]; RDcmdArray[18].cmdProc			¬DiagRDCmds.SetReadHeader; --19. writeHeader RDcmdArray[19].setStartOfCmdChain	¬TRUE; RDcmdArray[19].setNeedsLabelOpr	¬TRUE; RDcmdArray[19].commandName		¬mkIOCmd[writeHeader]; RDcmdArray[19].explanation		¬mkIOCmd[writeHeaderExpl]; RDcmdArray[19].cmdProc			¬DiagRDCmds.SetWriteHeader; --20. verifyHeader RDcmdArray[20].setStartOfCmdChain	¬TRUE; RDcmdArray[20].setNeedsLabelOpr	¬TRUE; RDcmdArray[20].commandName		¬mkIOCmd[verifyHeader]; RDcmdArray[20].explanation		¬mkIOCmd[verifyHeaderExpl]; RDcmdArray[20].cmdProc			¬DiagRDCmds.SetVerifyHeader; --21. noOpLabel RDcmdArray[21].setNeedsDataOpr		¬TRUE; RDcmdArray[21].commandName		¬mkIOCmd[noOpLabel]; RDcmdArray[21].explanation		¬mkIOCmd[noOpLabelExpl]; RDcmdArray[21].cmdProc			¬DiagRDCmds.SetNoOpLabel; --22. readLabel RDcmdArray[22].setNeedsDataOpr		¬TRUE; RDcmdArray[22].commandName		¬mkIOCmd[readLabel]; RDcmdArray[22].explanation		¬mkIOCmd[readLabelExpl]; RDcmdArray[22].cmdProc			¬DiagRDCmds.SetReadLabel;	 --23. writeLabel RDcmdArray[23].setNeedsDataOpr		¬TRUE; RDcmdArray[23].commandName		¬mkIOCmd[writeLabel]; RDcmdArray[23].explanation		¬mkIOCmd[writeLabelExpl]; RDcmdArray[23].needLabelData		¬TRUE; RDcmdArray[23].cmdProc			¬DiagRDCmds.SetWriteLabel;	 --24. verifyLabel RDcmdArray[24].setNeedsDataOpr		¬TRUE; RDcmdArray[24].commandName		¬mkIOCmd[verifyLabel]; RDcmdArray[24].explanation		¬mkIOCmd[verifyLabelExpl]; RDcmdArray[24].needLabelData		¬TRUE; RDcmdArray[24].cmdProc			¬DiagRDCmds.SetVerifyLabel;	 --25. noOpData RDcmdArray[25].getParamsCmd		¬TRUE; RDcmdArray[25].needRecalFirst		¬TRUE; RDcmdArray[25].needUseSameDataBuff	¬TRUE; RDcmdArray[25].needTryCount		¬TRUE; RDcmdArray[25].needCylinder		¬TRUE; RDcmdArray[25].needHead		¬TRUE; RDcmdArray[25].needSector		¬TRUE; RDcmdArray[25].needSectorCount		¬TRUE; RDcmdArray[25].returnsIOStatus		¬TRUE; RDcmdArray[25].commandName		¬mkIOCmd[noOpData]; RDcmdArray[25].explanation		¬mkIOCmd[noOpDataExpl]; RDcmdArray[25].cmdProc			¬DiagRDCmds.SetNoOpData;	 --26. readData RDcmdArray[26].getParamsCmd		¬TRUE; RDcmdArray[26].needRecalFirst		¬TRUE; RDcmdArray[26].needUseSameDataBuff	¬TRUE; RDcmdArray[26].needTryCount		¬TRUE; RDcmdArray[26].needCylinder		¬TRUE; RDcmdArray[26].needHead		¬TRUE; RDcmdArray[26].needSector		¬TRUE; RDcmdArray[26].needSectorCount		¬TRUE; RDcmdArray[26].returnsIOStatus		¬TRUE; RDcmdArray[26].commandName		¬mkIOCmd[readData]; RDcmdArray[26].explanation		¬mkIOCmd[readDataExpl]; RDcmdArray[26].cmdProc			¬DiagRDCmds.SetReadData;	 --27. writeData RDcmdArray[27].getParamsCmd		¬TRUE; RDcmdArray[27].needRecalFirst		¬TRUE; RDcmdArray[27].needUseSameDataBuff	¬TRUE; RDcmdArray[27].needTryCount		¬TRUE; RDcmdArray[27].needCylinder		¬TRUE; RDcmdArray[27].needHead		¬TRUE; RDcmdArray[27].needSector		¬TRUE; RDcmdArray[27].needSectorCount		¬TRUE; RDcmdArray[27].needData		¬TRUE; RDcmdArray[27].returnsIOStatus		¬TRUE; RDcmdArray[27].commandName		¬mkIOCmd[writeData]; RDcmdArray[27].explanation		¬mkIOCmd[writeDataExpl]; RDcmdArray[27].cmdProc			¬DiagRDCmds.SetWriteData;	 --28. verifyData RDcmdArray[28].getParamsCmd		¬TRUE; RDcmdArray[28].needRecalFirst		¬TRUE; RDcmdArray[28].needUseSameDataBuff	¬TRUE; RDcmdArray[28].needTryCount		¬TRUE; RDcmdArray[28].needCylinder		¬TRUE; RDcmdArray[28].needHead		¬TRUE; RDcmdArray[28].needSector		¬TRUE; RDcmdArray[28].needSectorCount		¬TRUE; RDcmdArray[28].needData		¬TRUE; RDcmdArray[28].returnsIOStatus		¬TRUE; RDcmdArray[28].commandName		¬mkIOCmd[verifyData]; RDcmdArray[28].explanation		¬mkIOCmd[verifyDataExpl]; RDcmdArray[28].cmdProc			¬DiagRDCmds.SetVerifyData; --29. endOfFile RDcmdArray[29].setEndOfCommandFile	¬TRUE; RDcmdArray[29].commandName		¬mkIOCmd[endOfFile]; RDcmdArray[29].explanation		¬mkIOCmd[endOfFileExpl]; RDcmdArray[29].cmdProc			¬DiagDiskCmdDrive.SetEndOfFile;-- END; --~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -- Main line Code -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-- InitCmdDes [];    END....--of DiagRDCmdDesImpl.mesa 