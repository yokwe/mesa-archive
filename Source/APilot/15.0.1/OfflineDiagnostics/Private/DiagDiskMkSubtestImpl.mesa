-- Copyright (C) 1984, 1985, 1986, 1987, 1988  by Xerox Corporation. All rights reserved. -- File: DiagDiskMkSubtestImpl.mesa-- Last edited by STC,  4-Oct-88  8:35:53    --	1. Notes: Unless otherwise specified the maximun number of  --	characters per message is 79.   DIRECTORY  DiagDiskMkSubtest	USING	[MkSubtest, EnglishMessages],  Heap			USING	[Create],  String		USING	[CopyToNewString];  DiagDiskMkSubtestImpl: PROGRAM  IMPORTS Heap, String    EXPORTS	DiagDiskMkSubtest =    BEGIN    OPEN S: String;      mkSubtest: PUBLIC LONG DESCRIPTOR FOR DiagDiskMkSubtest.EnglishMessages;  z: UNCOUNTED ZONE;    InitializeDiskDiagMsgKeys: PUBLIC PROC = {        -- mkSubtest points to the array of English messages used by the Control Module  -- initialization  z ¬ Heap.Create[initial: 10];  mkSubtest ¬ DESCRIPTOR[z.NEW[DiagDiskMkSubtest.EnglishMessages], 53];    mkSubtest[checkStatus] ¬    S.CopyToNewString["Read/check status"L, z];  mkSubtest[chkLbVrErr] ¬    S.CopyToNewString["Check label verify error logic"L, z];  mkSubtest[chkDtVrErr] ¬    S.CopyToNewString["Check data verify error logic"L, z];  mkSubtest[clearLog] ¬    S.CopyToNewString["Clear error log"L, z];  mkSubtest[clearTrace] ¬    S.CopyToNewString["Clear the trace table"L, z];  mkSubtest[format] ¬    S.CopyToNewString["Format disk"L, z];  mkSubtest[formatLstCyl] ¬    S.CopyToNewString["Format last cylinder"L, z];   -- For services engineers.  mkSubtest[illegalCylChk] ¬    S.CopyToNewString["Illegal cylinder check"L, z];  mkSubtest[illegalCmdChk] ¬    S.CopyToNewString["Illegal command check"L, z];  mkSubtest[recalChk] ¬    S.CopyToNewString["Recalibrate test"L, z];  mkSubtest[recalChkEx] ¬    S.CopyToNewString["Recalibrate test (new disk)"L, z];  mkSubtest[rndVrRdRd1] ¬ --   S.CopyToNewString["Random verify/read/read single sector"L, z];   S.CopyToNewString["Random verify/read single sector"L, z];  mkSubtest[rndVrRdRd2] ¬ --   S.CopyToNewString["Random verify/read/read double sector"L, z];   S.CopyToNewString["Random verify/read double sector"L, z];  mkSubtest[rndWrRd1] ¬ --   S.CopyToNewString["Random verify/write, verify/read"L, z];   S.CopyToNewString["Random verify/write, verify/read"L, z];  mkSubtest[rndWrRd2] ¬ --   S.CopyToNewString["Random verify/write, verify/read"L, z];   S.CopyToNewString["Random verify/write, verify/read"L, z];  mkSubtest[rndWrRdVr] ¬    S.CopyToNewString["Random write/read/verify test"L, z];  mkSubtest[rndWrVr1] ¬    S.CopyToNewString["Random write, verify single sector"L, z];  mkSubtest[rndWrVr2] ¬    S.CopyToNewString["Random write, verify double sector"L, z];  mkSubtest[startLogging] ¬    S.CopyToNewString["Start Logging errors"L, z];  mkSubtest[startTracing] ¬    S.CopyToNewString["Start tracing IO commands"L, z];  mkSubtest[stopLogging] ¬    S.CopyToNewString["Stop Logging errors"L, z];  mkSubtest[stopTracing] ¬    S.CopyToNewString["Stop tracing IO commands"L, z];  mkSubtest[vrRdNpCmdChk] ¬    S.CopyToNewString["Verify/Read/NoOp command check"L, z];  mkSubtest[vrRdRdCyl0] ¬    S.CopyToNewString["Verify cylinder 0"L, z];  mkSubtest[vrRdRdCyl0Ex] ¬    S.CopyToNewString["Verify cylinder 0 (new disk)"L, z];  mkSubtest[vrRdRdCylLstVlVd] ¬    S.CopyToNewString["Verify last cylinder"L, z];  mkSubtest[vrRdRdAllCyls] ¬    S.CopyToNewString["Verify cylinder addressing"L, z];  mkSubtest[vrRdRdAllCylsEx] ¬    S.CopyToNewString["Verify cylinder addressing (new disk)"L, z];  mkSubtest[vrRdRdCmpLbDtCyl0] ¬    S.CopyToNewString["Data test last sector of track 0"L, z];  mkSubtest[vrRdRdCmpLbDtCylLst] ¬    S.CopyToNewString["Read and verify data of last cylinder"L, z];  mkSubtest[vrRdRdCmpLbDtCylLstEx] ¬    S.CopyToNewString["Read and verify data of last cylinder (new disk)"L, z];  mkSubtest[vrVrWrCmdChk] ¬ --   S.CopyToNewString["Verify/Verify/Write command check"L, z];   S.CopyToNewString["Verify/Write command check"L, z];  mkSubtest[vrWrWrDiagCylLst] ¬    S.CopyToNewString["Tag last cylinder"L, z];  mkSubtest[vrWrWrDiagDtDisk] ¬    S.CopyToNewString["Tag entire disk"L, z];  mkSubtest[vrWrWrDiagCyl0] ¬    S.CopyToNewString["Tag cylinder 0"L, z];  mkSubtest[vrWrWr0sCyl0] ¬    S.CopyToNewString["Write 0's last sector of track 0"L, z];  mkSubtest[vrWrWr1sCyl0] ¬    S.CopyToNewString["Write 1's last sector of track 0"L, z];  mkSubtest[vrWrWr5sCyl0] ¬    S.CopyToNewString["Write 5's last sector of track 0"L, z]; -- Test ran successfully  mkSubtest[vrWrWrAsCyl0] ¬    S.CopyToNewString["Write A's last sector of track 0"L, z]; -- Test failed. At least one error exist.  mkSubtest[vrWrWr0sCylLst] ¬    S.CopyToNewString["Write 0's last cylinder"L, z];  mkSubtest[vrWrWr1sCylLst] ¬    S.CopyToNewString["Write 1's last cylinder"L, z]; -- Test ran is not sure whether the test passed of failed  mkSubtest[vrWrWr5sCylLst] ¬    S.CopyToNewString["Write 5's last cylinder"L, z];  mkSubtest[vrWrWrAsCylLst] ¬    S.CopyToNewString["Write A's last cylinder"L, z];  mkSubtest[WrAndRdAndVrCylLst] ¬    S.CopyToNewString["Write then read then verify data on last cylinder"L, z]; -- Exit selection.  mkSubtest[vrWrWr0sCylLstEx] ¬    S.CopyToNewString["Write 0's last cylinder (new disk)"L, z];  mkSubtest[vrWrWr1sCylLstEx] ¬    S.CopyToNewString["Write 1's last cylinder (new disk)"L, z];  mkSubtest[vrWrWr5sCylLstEx] ¬    S.CopyToNewString["Write 5's last cylinder (new disk)"L, z];  mkSubtest[vrWrWrAsCylLstEx] ¬    S.CopyToNewString["Write A's last cylinder (new disk)"L, z]; -- This is yes.  mkSubtest[WrAndRdAndVrCylLstEx] ¬    S.CopyToNewString["Write then read then verify data on last cylinder (new disk)"L, z]; -- This is Yes.  mkSubtest[WrWrWrCyl] ¬    S.CopyToNewString["Format the cylinder"L, z]; -- This is no.  mkSubtest[vrWrWrCyl] ¬ --   S.CopyToNewString["Write label and data on the cylinder"L, z];   S.CopyToNewString["Write data on the cylinder"L, z];  mkSubtest[vrvrWrCyl] ¬    S.CopyToNewString["Write data on the cylinder"L, z];  mkSubtest[vrvrvrCyl] ¬ --   S.CopyToNewString["Verify Label and/or Data on the cylinder"L, z];   S.CopyToNewString["Verify Data on the cylinder"L, z];  };   END...DiagDiskMkSubtestImpl.mesa   7-Nov-84 18:27:35 by ???, Creation15-Mar-87 14:52:35 by STC, add TestCyl messages21-Mar-87 17:49:24 by STC, change to use heap 5-May-87 11:04:56 by STC, correct WrWrWrCyl 4-Oct-88  8:35:30 by STC, Labelless