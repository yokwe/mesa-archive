-- Copyright (C) 1983  by Xerox Corporation. All rights reserved. -- BenDefs.mesa   15-Dec-83 16:57:07 by AXD     -- A BenDefs.Event is written into the Ben log file describing each page fault.-- Log file format:  The Ben log file consists of a Header, followed by a sequence of Event's.  The file is padded with zeros following the last valid Event.DIRECTORY  BackingStore: TYPE USING [Data],  Environment: TYPE USING [PageNumber],  File: TYPE USING [File, Type],  PhysicalVolume: TYPE USING [PageNumber],  PrincOps: TYPE USING [BytePC],  PrincOpsExtras2: TYPE USING [LongGlobalFrameHandle],  System: TYPE USING [Pulses],  VolBackingStore: TYPE USING [IDHandle];BenDefs: DEFINITIONS =  BEGIN OPEN BS: BackingStore;  versionID: CARDINAL = 13002;  -- This number MUST be changed every time Event is altered!    LogFile: TYPE = MACHINE DEPENDENT RECORD [    header(0): Header, events(Event.SIZE): SEQUENCE COMPUTED CARDINAL OF Event];  Header: TYPE = MACHINE DEPENDENT RECORD [    version: CARDINAL,    time: System.Pulses,    filler: ARRAY [0..Event.SIZE-CARDINAL.SIZE-System.Pulses.SIZE) OF CARDINAL];  BackingStore: TYPE = MACHINE DEPENDENT{    unknown(0), file, volRoot, (CARDINAL.LAST)};    Event: TYPE = MACHINE DEPENDENT RECORD [    -- it would be nice if we had extendable variant records for this.    page: Environment.PageNumber,    backingStore: BackingStore,    time: System.Pulses,    gf: PrincOpsExtras2.LongGlobalFrameHandle,    pc: PrincOps.BytePC,    body: SELECT COMPUTED BackingStore[unknown..volRoot] FROM      unknown => [data: BS.Data],      file => [f: File.File, type: File.Type],      volRoot => [        type: File.Type,	id: VolBackingStore.IDHandle,	pvPage: PhysicalVolume.PageNumber],      ENDCASE];  eventSize: PUBLIC CARDINAL = Event.SIZE;    END.LOG15-Jan-82 13:57:12   WDK       Created file.22-Jan-82 13:11:56   AXD       Changed module name to BenDefs.