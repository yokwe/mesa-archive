-- Copyright (C) 1981, 1982, 1983  by Xerox Corporation. All rights reserved. -- SpyFormat.mesa, edited by-- Bruce	25-Jan-82 15:32:48-- Atkinson	 4-Aug-81 18:55:11-- Levin	27-Aug-81 13:34:43-- AXD    	23-Aug-83 15:38:03DIRECTORY  PrincOps USING [BytePC],  Process USING [Priority],  ProcessPriorities USING [priorityRealTime],  PSB USING [PsbIndex];  SpyFormat: DEFINITIONS =  BEGIN    Count: TYPE = LONG CARDINAL;  Ignore: Count = CARDINAL.LAST.LONG + 1;    -- The Count values in a Histogram are encoded as follows:  --   < Ignore		actual count  --   = Ignore		this module is to be ignored.  --   > Ignore		this module has multiple buckets in  --			'maps' storage.  The pail index is  --			(count - Ignore - 1).    LevelData: TYPE = ARRAY Process.Priority OF Count;  ProcessTable: TYPE = PACKED ARRAY PSB.PsbIndex OF ProcessAction;  ProcessAction: TYPE = {watch, ignore};  All: Process.Priority = ProcessPriorities.priorityRealTime;  FixedStorage: TYPE = MACHINE DEPENDENT RECORD [    levelData: LevelData,    processTable: ProcessTable];  Buckets: TYPE = LONG DESCRIPTOR FOR ARRAY OF PcMap;  PcMapHandle: TYPE = LONG POINTER TO PcMap;  PcMap: TYPE = RECORD [length: CARDINAL, pcVals: Map];  MapBase: TYPE = LONG BASE POINTER TO BracketArray;  Map: TYPE = MapBase RELATIVE POINTER TO BracketArray;  MapPos: TYPE = RECORD [    SELECT OVERLAID * FROM      pointer => [ptr: Map],      index => [index: CARDINAL],      ENDCASE];  MapHandle: TYPE = LONG POINTER TO BracketArray;  BracketHandle: TYPE = LONG POINTER TO Bracket;  BracketArray: TYPE = ARRAY [0..0) OF Bracket;  Bracket: TYPE = RECORD [    origin: PrincOps.BytePC,    ignore: BOOLEAN,    length: [0..NAT.LAST],    count: Count];  END..