-- Copyright (C) 1983  by Xerox Corporation. All rights reserved. -- SpecialSystem.mesa   (last edited by JXP    on   1-Jul-83 13:37:21)DIRECTORY  HostNumbers USING [    broadcastHostNumber, HostNumber, MulticastID,    nullHostNumber, nullProcessorID, ProcessorID],  System USING [broadcastHostNumber, GreenwichMeanTime, NetworkAddress,    nullHostNumber, nullNetworkAddress, nullNetworkNumber, nullSocketNumber,    Switches];SpecialSystem: DEFINITIONS =BEGIN   -- Network addressesNetworkAddress: TYPE = System.NetworkAddress;nullNetworkAddress: NetworkAddress = System.nullNetworkAddress;NetworkNumber: TYPE = MACHINE DEPENDENT RECORD [a, b: WORD];nullNetworkNumber: NetworkNumber = LOOPHOLE[System.nullNetworkNumber];HostNumber: TYPE = HostNumbers.HostNumber;nullHostNumber: HostNumber = HostNumbers.nullHostNumber; -- The number of no hostnullHostNumberCheck: BOOLEAN [TRUE..TRUE] = -- These MUST be the same!   (LOOPHOLE[System.nullHostNumber, HostNumber] = nullHostNumber);MulticastID: TYPE = HostNumbers.MulticastID;broadcastHostNumber: HostNumber = HostNumbers.broadcastHostNumber;broadcastHostNumberCheck: BOOLEAN [TRUE..TRUE] = -- These MUST be the same!   (LOOPHOLE[System.broadcastHostNumber, HostNumber] = broadcastHostNumber);SocketNumber: TYPE = MACHINE DEPENDENT RECORD [WORD];nullSocketNumber: SocketNumber = LOOPHOLE[System.nullSocketNumber];   -- Processor identifiersProcessorID: TYPE = HostNumbers.ProcessorID;nullProcessorID: ProcessorID = HostNumbers.nullProcessorID;GetProcessorID: PROCEDURE RETURNS [p: ProcessorID];   -- Return the ProcessorID by which this system element is known to software, Ethernet, etc.   -- Switchesswitches: System.Switches; -- writable access to System.switches  -- DiagnosticPilot related stuff  isDiagnosticPilot: READONLY BOOLEAN;  IsDiagnosticPilot: PROCEDURE RETURNS [BOOLEAN] =  INLINE    {RETURN[isDiagnosticPilot]};      -- Processor clock setting   -- Will set the clock either forwards or backwards   -- When the clock is set backwards, the apparent time as seen using   -- System.GetGreenwichMeanTime will not jump backwards - rather, time   -- will continue to advance, but more slowly.  This then guarantees   -- System.GetGreenwichMeanTime  is an increasing function.   -- If you try to set the clock back farther than maximumSetBack seconds,   -- the error SetBackTooFar is raised and the clock is left alone. maximumSetBack: READONLY CARDINAL;  -- secondsAdjustClock: PROCEDURE [delta: LONG INTEGER];SetBackTooFar: ERROR;TimeLastSet: PROCEDURE RETURNS [gmt: System.GreenwichMeanTime];  -- Time the clock had the last time that AdjustClock was called.clockSlipping: READONLY BOOLEAN;  -- TRUE while clock is being slipped backwards as a result of a call  -- to AdjustClock.  -- Cross Volume Memory  storageSize: CARDINAL = 60;  StorageRange: TYPE = [0..storageSize);  crossVolumeStorage: READONLY LONG POINTER TO ARRAY StorageRange OF WORD;  << This memory is shared among all clients running on a given physical     processor.  Pilot provides the storage but attaches no semantics to     the shared memory.  It is the mutual responsibility of all clients to     manage this storage in a benign manner.  >>  -- Time this instance of Pilot was booted  timeBooted: READONLY System.GreenwichMeanTime;    -- Note this may not be valid in UtilityPilot since the clock may not    -- have a correct value at boot time.  -- Errors  Unimplemented: ERROR;    -- Raised by operations that are not yet implemented.  Intended for use by    -- testing appplicationsEND.LOGTime: January 25, 1980  3:12 PM		By: YXD  	   Created fileTime: January 27, 1980  7:12 PM		By: FXH       Corrected file creation dateTime: May 9, 1980  1:36 PM		By: PXM       Changed to 48-bit processor id, added network address typesTime: September 2, 1980  4:56 PM	By: PXM       Add NULL default to ProcessorID, MulticastID so they can be used within   implementations of exported typesTime:  9-Aug-81 13:35:29		By: AWL         Added writable version of boot switches.  Moved Unimplemented here from   SystemInternal.Time:  8-Nov-81 18:37:47		By: AWL         Added isDiagnosticPilot, IsDiagnosticPilot, maximumSetBack, AdjustClock and   SetBackTooFar.Time:  8-Nov-81 18:37:47		By: WDK       Fix directory clause.Time:  7-Dec-81 11:47:09		By: AWL         NetworkAddress is now defined in System - just copy that type here for   compatibility purposes.  Added TimeLastSet, clockSlipping for time servers.Time:   7-Dec-81 17:06:46		By: AWL         nullNetworkAddress, nullNetworkNumber, and nullSocketNumber now equated to same   in System. Added check to make sure our nullHostNumber and broadcastHostNumber   match those in System.Time: 23-Nov-82 11:47:35		By: AWL         Fields in NetworkNumber and SocketNumber made WORDs not UNSPECIFIED.  Deleted   gmt argument from AdjustClock.Time:  1-Jul-83 13:37:16		By: JXP      Add Cross Volume Memory Stuff, GetTimeLastBooted. Change parameters to   AdjustClock (remove gmt parameter).