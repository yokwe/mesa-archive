-- Copyright (C) 1983, 1986, 1987  by Xerox Corporation. All rights reserved. -- FileInternal.mesa (last edited by: CAJ       on:  9-Apr-87 13:45:11)DIRECTORY  File USING [File, PageCount, Type],  KernelFile USING [Descriptor],  LogicalVolumeFormat USING [Handle],  VM USING [Interval],  VolTable USING [LVToken];FileInternal: DEFINITIONS =  BEGIN  CreateInternal: PROCEDURE [    file: File.File, lvHandle: LogicalVolumeFormat.Handle,    tok: VolTable.LVToken, initialSize: File.PageCount, type: File.Type,    interval: VM.Interval];  -- Caller should have write lock on volume to serialize access to file  DeleteInternal: PROCEDURE [    file: File.File, lvHandle: LogicalVolumeFormat.Handle, tok: VolTable.LVToken];  -- Caller should have write lock on volume to serialize access to file.  MakePermanentOrTemporary: PROCEDURE[    file: File.File, fileD: KernelFile.Descriptor,    action: MakePermanentOrTemporaryAction,    lvHandle: LogicalVolumeFormat.Handle, tok: VolTable.LVToken];  -- Caller should have write lock on volume to serialize access to file.   MakePermanentOrTemporaryAction: TYPE = {makePermanent, makeTemporary};   MakeUnbootableInternal: PROCEDURE [    tok: VolTable.LVToken, file: File.File, fileSize: File.PageCount,    type: File.Type, lvHandle: LogicalVolumeFormat.Handle]    RETURNS [newSize: File.PageCount];  FileID: TYPE = LONG CARDINAL; -- base type for a File.ID     END.LOG30-Nov-82 16:00:45	LXD         Complete rewrite for Klamath. 9-Dec-82 11:29:59	LXD         Added MakePermanentOrTemporary.23-Dec-82 13:36:58	AWL         Added FileID.28-Jan-83 14:04:49	LXD         Added comments. 3-Jun-86 11:00:37      RSV   Deleted return of temporary from DeleteInternal. 7-Jul-86 16:13:23      RSV   Deleted DeleteTemporaryFilesOnVolume and FlushTempsData. 9-Apr-87 13:44:53      CAJ   Added MakeUnbootableInternal.