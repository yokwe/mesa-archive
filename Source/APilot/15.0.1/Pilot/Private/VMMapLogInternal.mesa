-- Copyright (C) 1983, 1986  by Xerox Corporation. All rights reserved. -- VMMapLogInternal.mesa     4-Aug-86 14:59:18 by CAJ   -- Defines the concrete type of a VMMapLog.Entry.DIRECTORY  DiskChannel USING [DiskPageNumber],  Environment USING [PageNumber],  VMMapLog USING [currentVersion];VMMapLogInternal: DEFINITIONS =  BEGIN  currentVersion: CARDINAL = 62383;  -- IF YOU CHANGE THE FORMAT, change the version! (and the one in VMMapLog too.)  sameVersionAsVMMapLog: PRIVATE BOOLEAN [TRUE..TRUE] =    (currentVersion = VMMapLog.currentVersion);  BackingStorageType: TYPE = MACHINE DEPENDENT{    nil(0),  -- not mapped (i.e. was mapped but now is unmapped);    -- also, an unused or vacuous entry (if count = 0).    disk(1),  -- mapped to contiguous pages on a Pilot physical volume    spareA(2)};  -- for future mapping device.  PageCount: TYPE = [0..4096);  EntryHandle: TYPE = LONG POINTER TO Entry;  Entry: TYPE = MACHINE DEPENDENT RECORD [    page(0): Environment.PageNumber,    count(2:0..11): PageCount,  --  count=0 => unusedentry    writeProtected(2:12..12): BOOLEAN,  -- this is a hint    fill(2:13..13): [0..1],    backingStorage(2:14..79): SELECT kind(2:14..15): BackingStorageType FROM      nil => [pad(3): ARRAY [0..4) OF CARDINAL],      disk => [  -- mapped to contiguous pages on a Pilot physical volume        driveTag(3): CARDINAL,  --  = PhysicalVolumeFormat.IDCheckSum[pvID]        diskPage(4): DiskChannel.DiskPageNumber,	pad(6): CARDINAL ¬ 0],      spareA => [data(3): ARRAY [0..4) OF CARDINAL],      ENDCASE];  END.LOG 7-Oct-81   JXP    1-Jul-83 11:35:00   WDK        Long page numbers. Deleted alto31 and pilot31 variants, added spareA. Defined explicit BackingStorageType type and PageCount, which now starts at zero. nil vaiant now has no subfields. Use DiskChannel.DiskPageNumber. Added currentVersion nullEntry now all zeroes. Eliminated nullEntry. Improved documentation.12-Jul-83 14:31:05   JXP      Make all arms of the type Entry the same length to satisfy the compiler. 8-Jul-86 14:28:05   RSV   Deleted labelCheck field of Entry. 4-Aug-86 14:56:57   CAJ   Added pad field to disk variant part of Entry.