-- Copyright (C) 1984, 1986, 1987  by Xerox Corporation. All rights reserved. -- SOSP83HeapOps.mesa      29-Jun-87 13:52:29 by RSVDIRECTORY  SOSP83HeapInternal USING [    Handle, LargeNode, LargeNodeHeader, NodeLength, NodePointer, NormalHandle,    UniformHandle],  Space USING [Interval, PageCount, SwapUnitSize],  System USING [VolumeID];SOSP83HeapOps: DEFINITIONS =  BEGIN OPEN SOSP83HeapInternal;    systemZone: UNCOUNTED ZONE;  -- writeable!  systemMDSZone: MDSZone;  -- writeable!    Bug: ERROR [bugType: BugType];  BugType: TYPE = {fileWeCreatedWentAway, mappedAreaWentAway};  DeleteHeap: PROCEDURE [h: Handle];  EnumerateLargeNodes, EnumerateSegments: PROCEDURE [    h: Handle, proc: PROCEDURE [sI: Space.Interval]];  ExpandNormalHeap: PROCEDURE [    z: UNCOUNTED ZONE, h: NormalHandle, pages: Space.PageCount];  ExpandUniformHeap: PROCEDURE [h: UniformHandle, pages: Space.PageCount];  FlushNormalHeap: PROCEDURE [z: UNCOUNTED ZONE, h: NormalHandle];  FlushUniformHeap: PROCEDURE [h: UniformHandle];  FreeNormalNode: PROCEDURE [z: UNCOUNTED ZONE, p: NodePointer];  IsNormalEmpty: PROCEDURE [z: UNCOUNTED ZONE, h: NormalHandle] RETURNS [BOOLEAN];    IsUniformEmpty: PROCEDURE [h: UniformHandle] RETURNS [BOOLEAN];    MakeLargeNode: PROCEDURE [h: NormalHandle, n: NodeLength]    RETURNS [largeNode: LargeNode];  MakeNormalNode: PROCEDURE [    z: UNCOUNTED ZONE, n: NodeLength] RETURNS [p: LONG POINTER];  MakeResidentHeap: PROCEDURE [h: Handle];  MakeSwappableHeap: PROCEDURE [h: Handle];  MakeSpace: PROCEDURE [    parent: Space.Interval, pages: Space.PageCount,    swapUnitSize: Space.SwapUnitSize, resident: BOOLEAN,    volumeID: System.VolumeID]    RETURNS [LONG ORDERED POINTER];    PagesForLargeNode: PROCEDURE [largeNode: LONG POINTER TO LargeNodeHeader]    RETURNS [Space.PageCount];    PruneNormalHeap: PROCEDURE [z: UNCOUNTED ZONE, h: NormalHandle];  END...LOG31-Jan-84  8:27:34  XXJ  Created file.27-Jun-86 13:17:01  RSV  Added log, changed name of file to SOSP83HeapOps.mesa, and added procedure IsUniformEmpty and IsNormalEmpty.29-Jun-87 13:52:29  RSV  Added volumeID parameter to MakeSpace.  Added Bug and BugType.