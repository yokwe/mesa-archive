-- File: EtherMAC.mesa - last edit:-- SMA                 21-May-86 11:28:30-- Copyright (C) 1986 by Xerox Corporation. All rights reserved. DIRECTORY  SpecialSystem USING [broadcastHostNumber, HostNumber, ProcessorID];EtherMAC: DEFINITIONS =  BEGIN    ProcessorID: TYPE = SpecialSystem.ProcessorID;    Encapsulation: TYPE = LONG POINTER TO EncapObject;  EncapObject: TYPE = MACHINE DEPENDENT RECORD [    ethernetDest: SpecialSystem.HostNumber,    ethernetSource: ProcessorID,    ethernetType: EthernetPacketType];      EthernetPacketType: TYPE = MACHINE DEPENDENT{    echoMe(700B), echoed(701B), pup(1000B), translation(1001B), ns(3000B),    arpa(4000B), arp(4006B), (LAST[WORD])};    <<  Many places will fall apart if SIZE[Encapsulation]#7.  Look carefully at  the buffer allocation routines to be sure that the allignment works out  correctly.  >>  encapsulationTrap: [7..7] = SIZE[EncapObject];    --To start at the beginning of the world.  CreateDefaultEthernetDrivers: PROC RETURNS [BOOLEAN];      ethernetBroadcastHost: SpecialSystem.HostNumber =    SpecialSystem.broadcastHostNumber;  EthernetCRC: TYPE = RECORD[a, b: WORD];  --32 bit CRC used by ethernet only  minWordsPerEthernetPacket: CARDINAL = (64/2)-2;  --from the Ethernet spec  END.LOG 9-May-86 13:15:22  SMA  Created file.