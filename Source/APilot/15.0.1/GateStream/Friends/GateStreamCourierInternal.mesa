-- Copyright (C) 1984, 1985  by Xerox Corporation. All rights reserved. -- File: GateStreamCourierInternal.mesa - last edit:-- Danielson.PA        26-Jun-84 14:28:45DIRECTORY   Auth USING [Credentials, Verifier],  CFDStream USING [Handle],  Courier USING [Description],  GateStream USING [Resource, SessionParameterHandle,     TransportObject, WaitTime],  NetworkStream USING [CloseStatus],  Stream USING [Handle];GateStreamCourierInternal: DEFINITIONS =  BEGIN  GAP: CARDINAL = 3;  GAPCallBack: CARDINAL = 12;    OldVersion: CARDINAL = 2;  -- Trinity version  CurrentVersion: CARDINAL = 3; -- Services 8.0 version    -- Arguments and results for GAP protocol Version 2.0    Procedure: TYPE = {    reset, iAmStillHere, create, delete, reserve,    abortReserve, transfer, obtain, useMediumForOISCP};    Argument: TYPE = MACHINE DEPENDENT RECORD [    start(0): SELECT OVERLAID Procedure FROM      reset => NULL,      iAmStillHere => [resource(0): GateStream.Resource],      create => [        sessionParameters(0): GateStream.SessionParameterHandle,        transportList(2): LONG DESCRIPTOR FOR ARRAY OF GateStream.TransportObject,        waitTime(5): GateStream.WaitTime],      delete => [mgr(0): CFDStream.Handle],      ENDCASE];  Result: TYPE = MACHINE DEPENDENT RECORD [    start(0): SELECT OVERLAID Procedure FROM      reset => [mgrHandle(0): CFDStream.Handle],  -- also old reset      iAmStillHere => NULL,      create => [mgr(0): CFDStream.Handle],      delete => NULL,      ENDCASE];    -- Arguments and results for GAP protocol Version 3.0    CreateArgument: TYPE = MACHINE DEPENDENT RECORD [    sessionParameters(0): GateStream.SessionParameterHandle,    transportList(2): LONG DESCRIPTOR FOR ARRAY OF GateStream.TransportObject,    waitTime(5): GateStream.WaitTime,    credentials(6):  Auth.Credentials,    verifier(10):  Auth.Verifier];    -- Create result not need since only one thing is returned    -- Procedures implemented by GateStreamCourier   -- Courier descriptions for GAP version 2.0 and 3.0  ArgumentDescription: PROCEDURE [procedure: Procedure, oldVersion: BOOLEAN]    RETURNS [Courier.Description];  ResultDescription: PROCEDURE [procedure: Procedure, oldVersion: BOOLEAN]    RETURNS [Courier.Description];    -- Copies of NetworkStream code that fork Flushing process for Gets    Close: PROCEDURE[ sH: Stream.Handle]    RETURNS [status: NetworkStream.CloseStatus];  CloseReply: PUBLIC PROC[sH: Stream.Handle]    RETURNS [status: NetworkStream.CloseStatus];     -- Remote Errors  unimplemented: CARDINAL = 0;  noCommunicationHardware: CARDINAL = 1;  illegalTransport: CARDINAL = 2;  mediumConnectFailed: CARDINAL = 3;  badAddressFormat: CARDINAL = 4;  noDialingHardware: CARDINAL = 5;  dialingHardwareProblem: CARDINAL = 6;  transmissionMediumUnavailable: CARDINAL = 7;  inconsistentParams: CARDINAL = 8;  tooManyGateStreams: CARDINAL = 9;  bugInGAPCode: CARDINAL = 10;  gapNotExported: CARDINAL = 11;  gapCommunicationError: CARDINAL = 12;  controllerAlreadyExists: CARDINAL = 13;  controllerDoesNotExist: CARDINAL = 14;  deviceAddressInUse: CARDINAL = 15;  deviceAddressInvalid: CARDINAL = 16;  serviceTooBusy: CARDINAL = 17;  userNotAuthenticated: CARDINAL = 18;  userNotAuthorized: CARDINAL = 19;  serviceNotFound: CARDINAL = 20;  END.LOGTime:  4-Jun-81 18:34:03 By: Danielson		Action: Use variant records.Time:  5-Aug-81 18:22:42 By: Danielson		Action: Remove RS232CManager.Time:  3-Sep-81 17:51:14 By:  Danielson		Action: Moved ServiceHande to						 GateStreamInternalTime: 15-Sep-81 11:42:25 By:  Danielson		Action: Add reset remote procedureTime: 29-Oct-81 16:51:00 By:  Danielson		Action: Add 3270variants to TransportObjTime: 17-Dec-81 16:17:18 By:  Danielson		Action: Make some strings long;Time:  8-Jan-82 12:57:56 By:  Danielson		Action: Convert to new CourierTime: 17-Mar-82 10:41:42 By:  Danielson		Action: New BSC optionsTime: 18-Mar-82 18:35:02 By:  Danielson		Action: New IAmStillHere parmTime: 27-Jul-83 13:43:03 By:  Danielson		Action: Version 3 protocolTime: 30-Sep-83 17:09:22 By:  Danielson		Action: Authentication/KlamathTime:  9-Dec-83 16:20:23 By:  Danielson		Action: New AuthTime: 26-Jun-84 14:22:25 By:  Danielson		Action: Close and CloseReply