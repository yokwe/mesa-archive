{ File       : DukeExtras.dfn  Author     : TxH  Description: definitions added for Duke    Last Edited: TxM  19-Oct-89 13:15:24  Changed the uRunMru and Ur0100Save location from 0EC and 0ED to 0F2 and 0F3, because the old location  is destoryed by Rotate microcode.      	       TxH  13-Sep-88 23:15:37  Created }{Copyright (C) 1988, 1989 by Fuji Xerox Co., Ltd.  All rights reserved.}{************************************************               Registers ************************************************} {* R-Regs } RegDef[rDividendHi,	R,   0]; {VMFind}RegDef[rPRunTop,	R,   0]; {VMFind}RegDef[rIndex,		R,   0]; {VMFind}RegDef[rIndexHi,	R,   1]; {VMFind}RegDef[rIntvlEndPageHi, R,   1]; {VMFind}RegDef[rIntvlCountHi,	R,   1]; {VMFind}RegDef[rIndexLo,	R,   2]; {VMFind}RegDef[rIntvlEndPageLo,	R,   2]; {VMFind}RegDef[rIntvlCountLo,	R,   2]; {VMFind}RegDef[rDTrans,		R,   3]; {ByteBLT}RegDef[rBaseLo,		R,   3]; {VMFind}RegDef[rBaseHi,		R,   4]; {VMFind}RegDef[rPageHi,		R,   5]; {VMFind}RegDef[rIntvlPageHi,	R,   6]; {VMFind}RegDef[rTrue,		R,   6]; {VMFind}RegDef[rPageLo,		R,   7]; {VMFind}RegDef[rSR,		R,   9]; {ByteBLT}{FastBlock2}RegDef[rSTrans,		R,   9]; {ByteBLT}RegDef[rSourceLo,	R,   9]; {FastXfer -- temp}RegDef[rFrame,		R,   9]; {FastXfer -- temp}RegDef[rCounter,	R,   9]; {VMFind}RegDef[rRunMru,		R,   9]; {VMFind}RegDef[rPRunXX,		R,   9]; {VMFind}RegDef[rhSR,		RH,  9]; {ByteBLT}{FastBlock2}RegDef[rDstData,	R,  0B]; {ByteBLT}RegDef[rWTransferred,	R,  0B]; {ByteBLT}{FastBlock2}RegDef[rCompResult,	R,  0B]; {FastBlock2}RegDef[rRetPChi,	R,  0B]; {FastXfer -- temp}RegDef[Tb,		R,  0B]; {FastXfer -- temp}RegDef[rRunSize,	R,  0B]; {VMFind}RegDef[rhTb,		RH, 0B]; {FastXfer -- temp}RegDef[rBCount,		R,  0C]; {ByteBLT}RegDef[rWCount,		R,  0C]; {ByteBLT}{FastBlock2}RegDef[rReturnPC,	R,  0C]; {FastXfer -- temp}RegDef[Tc,		R,  0C]; {FastXfer -- temp}RegDef[rDstOffset,	R,  0E]; {ByteBLT}RegDef[rSrcHighTemp,	R,  0E]; {ByteBLT}RegDef[rSrcV,		R,  0E]; {ByteBLT}RegDef[rSrcData,	R,  0E]; {ByteBLT}{FastBlock2}RegDef[rStkPSaveTemp,	R,  0E]; {FastBlock2}RegDef[rRMD,		R,  0E]; {FastBlock2}RegDef[rRetC,		R,  0E]; {FastXfer -- temp}RegDef[rIntvlPageLo,	R,  0E]; {VMFind}{* U-Regs }RegDef[uRetrhL,		U,  34]; {FastXfer -- temp}RegDef[uRetL,		U,  35]; {FastXfer -- temp}RegDef[uCountSave,	U, 0C6]; {ByteBLT}{FastBlock2}RegDef[uCntSave,	U, 0C7]; {ByteBLT}RegDef[uStkPSave,	U, 0E5]; {ByteBLT}{FastBlock2}RegDef[uRunMru,		U, 0F2]; {** VMFind}RegDef[Ur0100Save,	U, 0F3]; {** VMFind}{************************************************               Constans ************************************************}{* FastXfer }{Xfer Type - Link 4}MacroDef[XT,	 at[#1,10,XferType]];Set[L4.XTRet,		 0];Set[L4.XTCall,		 1];Set[L4.XTLfc,		 2];Set[L4.XTPort,		 3];Set[L4.XTXfer,		 4];Set[L4.XTTrap,		 5];Set[L4.XTPSwitch,	 6];{L0	XFERRMFRtn}MacroDef[XFERRMFRet, at[#1,10,XFERRMFRtn]];Set[L0.CXCode,		02]; {must be even}Set[L0.RXCode,		04]; {must be even}{L0	XFERRLMFRtn}MacroDef[XFERRLMFRet, at[#1,10,XFERRLMFRtn]];{L0	XFERWMFRtn}MacroDef[XFERWMFRet, at[#1,10,XFERWMFRtn]];{L0	GMFRtn}MacroDef[GMFRet, at[#1,10,GMFRtn]];Set[L0.RLGC,		06]; {must be even}Set[L0.LGC,		0E]; {must be even}{L0	CALLRLMFRtn}MacroDef[CALLRLMFRet, at[#1,10,CALLRLMFRtn]];{XIndirect returns - Link 2; relative to XIDRtn}MacroDef[XIDr, at[#1,10,XIDRtn]];Set[L2.CXIndirect,0A];Set[L2.RXIndirect,0C];{* VMFind }Set[pRunFirst, 14'd];Set[RunSize, 14'd];Set[indexRunFirst, 1];Set[FALSE, 0];Set[TRUE, 1];Set[L0.0, 0];Set[L0.2, 2];Set[L0.4, 4];