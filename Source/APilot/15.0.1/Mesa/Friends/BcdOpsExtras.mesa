-- Copyright (C) 1983  by Xerox Corporation. All rights reserved. -- BcdOpsExtras.mesa        7-Sep-83 13:55:14 by WDK     DIRECTORY  BcdDefs,  BcdOps,  Table;BcdOpsExtras: DEFINITIONS =  BEGIN   --=========== The following SHOULD be in BcdDefs!  nullGFIndex: BcdDefs.GFIndex = 0;  -- SHOULD be in BcdDefs.  gfiOrigin: BcdDefs.GFIndex = 1;  -- corresponds to first module table entry in bcd.    segmentBaseOrigin: CARDINAL = 1;  -- This SGRecord.base corresponds to the first page of the bcd.  -- A relic of Alto days.   --===========  -- Base pointers for tables:  CTBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.ctOffset]]};  ENBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.enOffset]]};  EXPBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.expOffset]]};  FTBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.ftOffset]]};  LFBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.lfOffset]]};  MTBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.mtOffset]]};  SGBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.sgOffset]]};  SPBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.spOffset]]};  TYPBaseFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [Table.Base] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.typOffset]]};  -- Conversions:  GfiFromMti: PROCEDURE [mti: BcdDefs.MTIndex]    RETURNS [BcdDefs.GFIndex] = INLINE {    RETURN[LOOPHOLE[mti, CARDINAL]/BcdDefs.MTRecord.SIZE + gfiOrigin]};  MthFromGfi: PROCEDURE [bcd: BcdOps.BcdBase, gfi: BcdDefs.GFIndex]    RETURNS [BcdOps.MTHandle] = INLINE {      RETURN[MthFromMti[bcd, MtiFromGfi[gfi]]]};  MthFromMti: PROCEDURE [bcd: BcdOps.BcdBase, mti: BcdDefs.MTIndex]    RETURNS [BcdOps.MTHandle] = INLINE {RETURN[@MTBaseFromBcd[bcd][mti]]};  MtiFromGfi: PROCEDURE [gfi: BcdDefs.GFIndex]    RETURNS [BcdDefs.MTIndex] = INLINE {    RETURN[LOOPHOLE[(gfi-gfiOrigin)*BcdDefs.MTRecord.SIZE]]};  -- Misc data from bcd:    NameStringFromBcd: PROCEDURE [bcd: BcdOps.BcdBase] RETURNS [BcdOps.NameString] = INLINE {    RETURN[LOOPHOLE[bcd + bcd.ssOffset]]};  SPHandleFromSGHandle: PROCEDURE [    bcd: BcdOps.BcdBase, sgh: BcdOps.SGHandle]    RETURNS [sph: BcdOps.SPHandle];  -- Returns NIL if SPHandle not found.  END.LOG 7-Sep-83 13:55:19   WDK     	Created file.